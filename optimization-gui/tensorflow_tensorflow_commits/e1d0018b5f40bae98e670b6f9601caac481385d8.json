{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 815326505",
    "sha": "e1d0018b5f40bae98e670b6f9601caac481385d8",
    "files": [
        {
            "sha": "6a3b142e96775308430a038d539c03c50f742856",
            "filename": "tensorflow/core/common_runtime/request_cost.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e1d0018b5f40bae98e670b6f9601caac481385d8/tensorflow%2Fcore%2Fcommon_runtime%2Frequest_cost.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e1d0018b5f40bae98e670b6f9601caac481385d8/tensorflow%2Fcore%2Fcommon_runtime%2Frequest_cost.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Frequest_cost.cc?ref=e1d0018b5f40bae98e670b6f9601caac481385d8",
            "patch": "@@ -28,44 +28,44 @@ namespace tensorflow {\n \n void RequestCost::RecordCost(\n     const std::vector<std::pair<absl::string_view, absl::Duration>>& costs) {\n-  absl::MutexLock lock(&mutex_);\n+  absl::MutexLock lock(mutex_);\n   for (const auto& cost : costs) {\n     cost_map_[cost.first] += cost.second;\n   }\n }\n \n void RequestCost::ScaleCosts(int scale_factor) {\n-  absl::MutexLock lock(&mutex_);\n+  absl::MutexLock lock(mutex_);\n   for (auto& [cost_type, cost] : cost_map_) {\n     cost *= scale_factor;\n   }\n }\n \n absl::flat_hash_map<std::string, absl::Duration> RequestCost::GetCosts() const {\n-  absl::MutexLock lock(&mutex_);\n+  absl::MutexLock lock(mutex_);\n   return cost_map_;\n }\n \n void RequestCost::RecordMetrics(\n     const std::vector<std::pair<absl::string_view, double>>& metrics) {\n-  absl::MutexLock lock(&mutex_);\n+  absl::MutexLock lock(mutex_);\n   for (const auto& metric : metrics) {\n     metric_map_[metric.first] = metric.second;\n   }\n }\n \n absl::flat_hash_map<std::string, double> RequestCost::GetMetrics() const {\n-  absl::MutexLock lock(&mutex_);\n+  absl::MutexLock lock(mutex_);\n   return metric_map_;\n }\n \n void RequestCost::RecordBatchMetrics(const BatchMetrics& batch_metrics) {\n-  absl::MutexLock lock(&mutex_);\n+  absl::MutexLock lock(mutex_);\n   batch_metrics_.push_back(batch_metrics);\n }\n \n void RequestCost::ScaleBatchCosts(int scale_factor) {\n-  absl::MutexLock lock(&mutex_);\n+  absl::MutexLock lock(mutex_);\n   for (auto& batch_metrics : batch_metrics_) {\n     for (auto& [cost_type, cost] : batch_metrics.batch_costs) {\n       batch_metrics.batch_costs[cost_type] *= scale_factor;\n@@ -74,7 +74,7 @@ void RequestCost::ScaleBatchCosts(int scale_factor) {\n }\n \n std::vector<RequestCost::BatchMetrics> RequestCost::GetBatchMetrics() const {\n-  absl::MutexLock lock(&mutex_);\n+  absl::MutexLock lock(mutex_);\n   return batch_metrics_;\n }\n "
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}