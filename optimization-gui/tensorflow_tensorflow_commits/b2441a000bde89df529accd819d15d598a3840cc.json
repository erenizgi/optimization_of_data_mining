{
    "author": "GleasonK",
    "message": "[PJRT] Unset xla_dump_to when dumping reproducers.\n\nWith this flag set, currently our reproducers will dump reproducers. Worse if they were set to \"sponge\", since local repros are not run in forge and will instead throw a warning that undeclared outputs dir is unset.\n\nPiperOrigin-RevId: 797871204",
    "sha": "b2441a000bde89df529accd819d15d598a3840cc",
    "files": [
        {
            "sha": "eed3deb0fb698e595beddf0dd8d059fbd95e48e7",
            "filename": "third_party/xla/xla/pjrt/dump/dump.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2441a000bde89df529accd819d15d598a3840cc/third_party%2Fxla%2Fxla%2Fpjrt%2Fdump%2Fdump.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2441a000bde89df529accd819d15d598a3840cc/third_party%2Fxla%2Fxla%2Fpjrt%2Fdump%2Fdump.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdump%2Fdump.cc?ref=b2441a000bde89df529accd819d15d598a3840cc",
            "patch": "@@ -84,6 +84,9 @@ absl::Status DumpCompileInputs(absl::string_view dump_to_path,\n   std::string options_file_name =\n       tsl::io::JoinPath(dump_sub_dir, \"compile_options.pb\");\n   LOG(INFO) << \"Dumping compile options to \" << options_file_name;\n+  // Unset xla_dump_to when dumping so that reproducers don't dump by default\n+  compile_options.executable_build_options.mutable_debug_options()\n+      ->clear_xla_dump_to();\n   TF_RETURN_IF_ERROR(tsl::WriteStringToFile(\n       tsl::Env::Default(), options_file_name,\n       compile_options.ToProto().value().SerializeAsString()));"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}