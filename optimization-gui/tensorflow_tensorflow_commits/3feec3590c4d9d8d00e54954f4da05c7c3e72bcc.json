{
    "author": "nvgrw",
    "message": "Migrate reshape_motion_test to PjRt.\n\nPiperOrigin-RevId: 846886339",
    "sha": "3feec3590c4d9d8d00e54954f4da05c7c3e72bcc",
    "files": [
        {
            "sha": "ae3c29fcdd5e721d85061fcc204496093a2c93b8",
            "filename": "third_party/xla/xla/tests/BUILD",
            "status": "modified",
            "additions": 5,
            "deletions": 12,
            "changes": 17,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3feec3590c4d9d8d00e54954f4da05c7c3e72bcc/third_party%2Fxla%2Fxla%2Ftests%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3feec3590c4d9d8d00e54954f4da05c7c3e72bcc/third_party%2Fxla%2Fxla%2Ftests%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2FBUILD?ref=3feec3590c4d9d8d00e54954f4da05c7c3e72bcc",
            "patch": "@@ -3595,22 +3595,15 @@ xla_test(\n xla_test(\n     name = \"reshape_motion_test\",\n     srcs = [\"reshape_motion_test.cc\"],\n+    tags = [\"test_migrated_to_hlo_runner_pjrt\"],\n     deps = [\n-        \":client_library_test_base\",\n-        \":literal_test_util\",\n+        \":client_library_test_runner_mixin\",\n+        \":hlo_pjrt_interpreter_reference_mixin\",\n+        \":hlo_pjrt_test_base\",\n         \":xla_internal_test_main\",\n-        \"//xla:array2d\",\n-        \"//xla:array4d\",\n-        \"//xla:literal\",\n-        \"//xla:reference_util\",\n-        \"//xla:shape_util\",\n-        \"//xla:status_macros\",\n-        \"//xla/client:local_client\",\n         \"//xla/hlo/builder:xla_builder\",\n-        \"//xla/hlo/testlib:test_helpers\",\n-        \"@com_google_absl//absl/status:statusor\",\n+        \"//xla/tsl/platform:test\",\n         \"@com_google_absl//absl/types:span\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )\n "
        },
        {
            "sha": "b46765e5c7ebc69963f615366b0d28887854445e",
            "filename": "third_party/xla/xla/tests/reshape_motion_test.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 18,
            "changes": 25,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3feec3590c4d9d8d00e54954f4da05c7c3e72bcc/third_party%2Fxla%2Fxla%2Ftests%2Freshape_motion_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3feec3590c4d9d8d00e54954f4da05c7c3e72bcc/third_party%2Fxla%2Fxla%2Ftests%2Freshape_motion_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Freshape_motion_test.cc?ref=3feec3590c4d9d8d00e54954f4da05c7c3e72bcc",
            "patch": "@@ -13,31 +13,20 @@ See the License for the specific language governing permissions and\n limitations under the License.\n ==============================================================================*/\n \n-#include <memory>\n-#include <numeric>\n-#include <random>\n-#include <vector>\n+#include <cstdint>\n \n-#include \"absl/status/statusor.h\"\n #include \"absl/types/span.h\"\n-#include \"xla/array2d.h\"\n-#include \"xla/array4d.h\"\n-#include \"xla/client/local_client.h\"\n #include \"xla/hlo/builder/xla_builder.h\"\n-#include \"xla/hlo/testlib/test_helpers.h\"\n-#include \"xla/layout_util.h\"\n-#include \"xla/literal.h\"\n-#include \"xla/reference_util.h\"\n-#include \"xla/shape_util.h\"\n-#include \"xla/status_macros.h\"\n-#include \"xla/tests/client_library_test_base.h\"\n-#include \"xla/tests/literal_test_util.h\"\n-#include \"tsl/platform/test.h\"\n+#include \"xla/tests/client_library_test_runner_mixin.h\"\n+#include \"xla/tests/hlo_pjrt_interpreter_reference_mixin.h\"\n+#include \"xla/tests/hlo_pjrt_test_base.h\"\n+#include \"xla/tsl/platform/test.h\"\n \n namespace xla {\n namespace {\n \n-using ReshapeMotionTest = ClientLibraryTestBase;\n+using ReshapeMotionTest = ClientLibraryTestRunnerMixin<\n+    HloPjRtInterpreterReferenceMixin<HloPjRtTestBase>>;\n \n TEST_F(ReshapeMotionTest, ElementwiseOfReshapesWithNonSameInputShapes) {\n   XlaBuilder builder(TestName());"
        }
    ],
    "stats": {
        "total": 42,
        "additions": 12,
        "deletions": 30
    }
}