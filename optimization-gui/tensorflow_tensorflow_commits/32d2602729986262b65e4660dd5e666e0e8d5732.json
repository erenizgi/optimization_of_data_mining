{
    "author": "comius",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 817507285",
    "sha": "32d2602729986262b65e4660dd5e666e0e8d5732",
    "files": [
        {
            "sha": "042b79ec6a827c341a110a322303e08e5a7c683a",
            "filename": "tensorflow/lite/build_def.bzl",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/32d2602729986262b65e4660dd5e666e0e8d5732/tensorflow%2Flite%2Fbuild_def.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/32d2602729986262b65e4660dd5e666e0e8d5732/tensorflow%2Flite%2Fbuild_def.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fbuild_def.bzl?ref=32d2602729986262b65e4660dd5e666e0e8d5732",
            "patch": "@@ -8,6 +8,7 @@ load(\"@build_bazel_rules_android//android:rules.bzl\", \"android_library\")\n load(\"@bazel_skylib//rules:build_test.bzl\", \"build_test\")\n load(\"@rules_cc//cc:cc_binary.bzl\", \"cc_binary\")\n load(\"@rules_cc//cc:cc_library.bzl\", \"cc_library\")\n+load(\"@rules_cc//cc:cc_test.bzl\", \"cc_test\")\n \n # buildifier: disable=out-of-order-load\n def register_extension_info(**kwargs):\n@@ -804,8 +805,9 @@ def tflite_combine_cc_tests(\n         combined_test_deps.update({d: True for d in r[\"deps\"]})\n \n     if combined_test_srcs:\n-        # Use native.cc_test here because cc_test adds duplicated deps in OSS.\n-        native.cc_test(\n+        # Using native.existing_rule to combine cc_test's deps duplicates link_extra_lib. Remove it.\n+        combined_test_deps.pop(\"@@rules_cc\" + \"//:link_extra_lib\", None)\n+        cc_test(\n             name = name,\n             size = \"large\",\n             srcs = list(combined_test_srcs),"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}