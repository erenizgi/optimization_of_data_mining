{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 845541854",
    "sha": "795c2f0907ed777642c13719e0da733a3b07e3a6",
    "files": [
        {
            "sha": "c3cd93ab5e8faa7aa4f23dc57f932b054e9f538e",
            "filename": "third_party/xla/xla/pjrt/pjrt_client_test.cc",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/795c2f0907ed777642c13719e0da733a3b07e3a6/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_client_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/795c2f0907ed777642c13719e0da733a3b07e3a6/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_client_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_client_test.cc?ref=795c2f0907ed777642c13719e0da733a3b07e3a6",
            "patch": "@@ -132,7 +132,7 @@ TEST_P(PjRtClientTest, Execute) {\n                           executable->Execute({{buffer.get()}}, options));\n   ASSERT_EQ(results.size(), 1);\n   ASSERT_EQ(results[0].size(), 1);\n-  TF_ASSERT_OK_AND_ASSIGN(auto literal, results[0][0]->ToLiteralSync());\n+  TF_ASSERT_OK_AND_ASSIGN(auto literal, results[0][0]->ToLiteral().Await());\n \n   std::vector<int32_t> expected(4, 1);\n   EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n@@ -161,7 +161,7 @@ TEST_P(PjRtClientTest, ExecuteWithImmutableUntilTransferCompletes) {\n                           executable->Execute({{buffer.get()}}, options));\n   ASSERT_EQ(results.size(), 1);\n   ASSERT_EQ(results[0].size(), 1);\n-  TF_ASSERT_OK_AND_ASSIGN(auto literal, results[0][0]->ToLiteralSync());\n+  TF_ASSERT_OK_AND_ASSIGN(auto literal, results[0][0]->ToLiteral().Await());\n \n   std::vector<int32_t> expected(4, 1);\n   EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n@@ -203,7 +203,7 @@ TEST_P(PjRtClientTest, ExecuteWithTupleZeroCopy) {\n \n   ASSERT_EQ(results.size(), 1);\n   ASSERT_EQ(results[0].size(), 1);\n-  TF_ASSERT_OK_AND_ASSIGN(auto literal, results[0][0]->ToLiteralSync());\n+  TF_ASSERT_OK_AND_ASSIGN(auto literal, results[0][0]->ToLiteral().Await());\n \n   std::vector<int32_t> expected(4, 1);\n   EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n@@ -232,7 +232,7 @@ TEST_P(PjRtClientTest, ExecuteWithDonation) {\n                           executable->Execute({{buffer.get()}}, options));\n   ASSERT_EQ(results.size(), 1);\n   ASSERT_EQ(results[0].size(), 1);\n-  TF_ASSERT_OK_AND_ASSIGN(auto literal, results[0][0]->ToLiteralSync());\n+  TF_ASSERT_OK_AND_ASSIGN(auto literal, results[0][0]->ToLiteral().Await());\n \n   std::vector<int32_t> expected(4, 1);\n   EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n@@ -312,7 +312,7 @@ TEST_P(PjRtClientTest, ExecuteWithConcurrentUsage) {\n \n   std::vector<int32_t> expected(4, 1);\n   for (const auto& result : results) {\n-    TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteralSync());\n+    TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteral().Await());\n     EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n                                        *literal));\n   }\n@@ -357,7 +357,7 @@ TEST_P(PjRtClientTest, ExecuteWithConcurrentUsageAndDonation) {\n         auto& results = *results_or;\n         CHECK_EQ(results.size(), 1);\n         CHECK_EQ(results[0].size(), 1);\n-        auto literal_or = results[0][0]->ToLiteralSync();\n+        auto literal_or = results[0][0]->ToLiteral().Await();\n         if (literal_or.ok()) {\n           CHECK(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n                                        *literal_or.value()));\n@@ -380,7 +380,7 @@ TEST_P(PjRtClientTest, ExecuteWithConcurrentUsageAndDonation) {\n \n   blocking_counter.Wait();\n \n-  TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteralSync());\n+  TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteral().Await());\n   EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n                                      *literal));\n }\n@@ -409,7 +409,7 @@ TEST(PjRtClientTest, CopyToDevice) {\n   TF_ASSERT_OK_AND_ASSIGN(auto result, buffer->CopyToMemorySpace(\n                                            *device_1->default_memory_space()));\n \n-  TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteralSync());\n+  TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteral().Await());\n \n   std::vector<int32_t> expected(4, 0);\n   EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n@@ -448,7 +448,7 @@ TEST(PjRtClientTest, CopyToDeviceAsync) {\n \n   for (const auto& result : results) {\n     ASSERT_TRUE(result);\n-    TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteralSync());\n+    TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteral().Await());\n \n     std::vector<int32_t> expected(4, 0);\n     EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n@@ -495,7 +495,7 @@ TEST(PjRtClientTest, CopyToDeviceAsyncExternalCpuOnly) {\n \n   for (const auto& result : results) {\n     ASSERT_TRUE(result);\n-    TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteralSync());\n+    TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteral().Await());\n \n     std::vector<int32_t> expected(4, 0);\n     EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 10,
        "deletions": 10
    }
}