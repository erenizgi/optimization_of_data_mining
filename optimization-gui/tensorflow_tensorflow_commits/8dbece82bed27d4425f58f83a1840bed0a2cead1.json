{
    "author": "hugomano",
    "message": "PR #33470: PjRT C API: make PJRT FFI C extension header compliant\n\nImported from GitHub PR https://github.com/openxla/xla/pull/33470\n\nThis PR refactors the way C structs are defined in the `pjrt_c_api_ffi_extension.h` header to use `typedef struct` instead of plain `struct`. This change improves compatibility and clarity when using these types in C code.\n\nc/ @ezhulenev\n\nCopybara import of the project:\n\n--\ne63933896594d38fd8463144f03347e1e8d082f7 by Hugo Mano <hugo@zml.ai>:\n\nPjRT C API: make PJRT FFI C extension header compliant\n\nMerging this change closes #33470\n\nPiperOrigin-RevId: 827550282",
    "sha": "8dbece82bed27d4425f58f83a1840bed0a2cead1",
    "files": [
        {
            "sha": "992b3950a4ca3a57398d41f8c62c772a0c860907",
            "filename": "third_party/xla/xla/pjrt/c/pjrt_c_api_ffi_extension.h",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8dbece82bed27d4425f58f83a1840bed0a2cead1/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api_ffi_extension.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8dbece82bed27d4425f58f83a1840bed0a2cead1/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api_ffi_extension.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api_ffi_extension.h?ref=8dbece82bed27d4425f58f83a1840bed0a2cead1",
            "patch": "@@ -32,21 +32,21 @@ extern \"C\" {\n // See: https://en.wikipedia.org/wiki/Foreign_function_interface\n #define PJRT_API_FFI_EXTENSION_VERSION 3\n \n-struct PJRT_FFI_Type_Info {\n+typedef struct PJRT_FFI_Type_Info {\n   void (*deleter)(void* object);\n   void (*serialize)();    // placeholder for future use\n   void (*deserialize)();  // placeholder for future use\n-};\n+} PJRT_FFI_Type_Info;\n \n-struct PJRT_FFI_Type_Register_Args {\n+typedef struct PJRT_FFI_Type_Register_Args {\n   size_t struct_size;\n   PJRT_Extension_Base* extension_start;\n \n   const char* type_name;\n   size_t type_name_size;\n   int64_t type_id;  // in-out\n   PJRT_FFI_Type_Info* type_info;\n-};\n+} PJRT_FFI_Type_Register_Args;\n PJRT_DEFINE_STRUCT_TRAITS(PJRT_FFI_Type_Register_Args, type_info);\n \n // Registers external type in a static type registry. If `type_id` is set to `0`"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}