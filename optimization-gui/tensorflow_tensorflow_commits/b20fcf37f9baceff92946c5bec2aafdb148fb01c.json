{
    "author": "krishnaharidasan",
    "message": "Accept a device list in DeserializeExecutableOptions.\nAdd output global shape to serialized executable metadata.\n\nPiperOrigin-RevId: 803596418",
    "sha": "b20fcf37f9baceff92946c5bec2aafdb148fb01c",
    "files": [
        {
            "sha": "a63e348a96800c855aa9913c6911041005cb50b4",
            "filename": "third_party/xla/xla/python/ifrt/executable_serdes.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b20fcf37f9baceff92946c5bec2aafdb148fb01c/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Fexecutable_serdes.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b20fcf37f9baceff92946c5bec2aafdb148fb01c/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Fexecutable_serdes.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Fexecutable_serdes.h?ref=b20fcf37f9baceff92946c5bec2aafdb148fb01c",
            "patch": "@@ -17,6 +17,7 @@ limitations under the License.\n #define XLA_PYTHON_IFRT_EXECUTABLE_SERDES_H_\n \n #include \"llvm/Support/ExtensibleRTTI.h\"\n+#include \"xla/python/ifrt/device_list.h\"\n #include \"xla/python/ifrt/serdes.h\"\n \n namespace xla {\n@@ -29,6 +30,8 @@ namespace ifrt {\n // TODO(hyeontaek): Make an new `LoadOptions` that is specific for loading.\n struct DeserializeExecutableOptions\n     : llvm::RTTIExtends<DeserializeExecutableOptions, DeserializeOptions> {\n+  // The devices to load the executable on to.\n+  DeviceListRef devices;\n   static char ID;  // NOLINT\n };\n "
        },
        {
            "sha": "7109c0d857fc7d4ab69ab759390bed073a6655f7",
            "filename": "third_party/xla/xla/python/pjrt_ifrt/executable_metadata.proto",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b20fcf37f9baceff92946c5bec2aafdb148fb01c/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fexecutable_metadata.proto",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b20fcf37f9baceff92946c5bec2aafdb148fb01c/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fexecutable_metadata.proto",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fexecutable_metadata.proto?ref=b20fcf37f9baceff92946c5bec2aafdb148fb01c",
            "patch": "@@ -49,6 +49,7 @@ message SerializedXlaExecutableMetadata {\n \n   message OutputSpec {\n     ifrt.ShapeProto shard_shape = 1;\n+    ifrt.ShapeProto shape = 6;\n     ifrt.DTypeProto dtype = 2;\n     ifrt.LayoutProto layout = 3;\n     string memory_kind = 4;"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 4,
        "deletions": 0
    }
}