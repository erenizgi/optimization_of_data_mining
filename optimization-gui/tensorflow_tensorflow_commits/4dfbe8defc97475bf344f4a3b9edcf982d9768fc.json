{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 814985969",
    "sha": "4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
    "files": [
        {
            "sha": "63d02fcb0c4aa309082950de10d5d3d02b9ea237",
            "filename": "tensorflow/core/common_runtime/accumulate_n_optimizer.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Faccumulate_n_optimizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Faccumulate_n_optimizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Faccumulate_n_optimizer.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -119,8 +119,8 @@ class AccumulateNV2RemovePass : public GraphOptimizationPass {\n       return node_builder;\n     };\n     auto make_node = [n, g, &base_make_node](string op) {\n-      return base_make_node(\n-          op, g->NewName(strings::StrCat(n->name(), \"/Internal\")));\n+      return base_make_node(op,\n+                            g->NewName(absl::StrCat(n->name(), \"/Internal\")));\n     };\n \n     DataType dtype;\n@@ -145,7 +145,7 @@ class AccumulateNV2RemovePass : public GraphOptimizationPass {\n     Node* clean_up_accumulator = nullptr;          // DestroyTemporaryVariable\n \n     const string accumulator_name =\n-        strings::StrCat(n->name(), \"/Internal/Accumulator\");\n+        absl::StrCat(n->name(), \"/Internal/Accumulator\");\n     TensorShapeProto variable_shape;\n     variable_shape.add_dim()->set_size(0);\n     TF_RETURN_IF_ERROR(make_node(\"TemporaryVariable\")"
        },
        {
            "sha": "668be0a67495b658f2afc06ff77d9cbb43367710",
            "filename": "tensorflow/core/common_runtime/all_to_all.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fall_to_all.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fall_to_all.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fall_to_all.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -122,8 +122,7 @@ void AllToAll::Run(StatusCallback done) {\n \n void AllToAll::DispatchSend(int src_rank, int target_rank, const Tensor* tensor,\n                             const StatusCallback& done) {\n-  string send_buf_key =\n-      strings::StrCat(col_ctx_->exec_key, src_rank, target_rank);\n+  string send_buf_key = absl::StrCat(col_ctx_->exec_key, src_rank, target_rank);\n   col_ctx_->col_exec->remote_access()->PostToPeer(\n       col_params_->group.members[target_rank].device.name(),\n       col_params_->group.members[target_rank].task, send_buf_key,\n@@ -134,8 +133,7 @@ void AllToAll::DispatchSend(int src_rank, int target_rank, const Tensor* tensor,\n \n void AllToAll::DispatchRecv(int src_rank, int target_rank, Tensor* tensor,\n                             const StatusCallback& done) {\n-  string recv_buf_key =\n-      strings::StrCat(col_ctx_->exec_key, src_rank, target_rank);\n+  string recv_buf_key = absl::StrCat(col_ctx_->exec_key, src_rank, target_rank);\n   col_ctx_->col_exec->remote_access()->RecvFromPeer(\n       col_params_->group.members[src_rank].device.name(),\n       col_params_->group.members[src_rank].task,"
        },
        {
            "sha": "9147acda226cc9f33af882b657ee1f22eab81cb1",
            "filename": "tensorflow/core/common_runtime/build_graph_options.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fbuild_graph_options.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fbuild_graph_options.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fbuild_graph_options.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -22,18 +22,18 @@ namespace tensorflow {\n string BuildGraphOptions::DebugString() const {\n   string rv = \"Feed endpoints: \";\n   for (auto& s : callable_options.feed()) {\n-    strings::StrAppend(&rv, s, \", \");\n+    absl::StrAppend(&rv, s, \", \");\n   }\n-  strings::StrAppend(&rv, \"\\nFetch endpoints: \");\n+  absl::StrAppend(&rv, \"\\nFetch endpoints: \");\n   for (auto& s : callable_options.fetch()) {\n-    strings::StrAppend(&rv, s, \", \");\n+    absl::StrAppend(&rv, s, \", \");\n   }\n-  strings::StrAppend(&rv, \"\\nTarget nodes: \");\n+  absl::StrAppend(&rv, \"\\nTarget nodes: \");\n   for (auto& s : callable_options.target()) {\n-    strings::StrAppend(&rv, s, \", \");\n+    absl::StrAppend(&rv, s, \", \");\n   }\n   if (collective_graph_key != kNoCollectiveGraphKey) {\n-    strings::StrAppend(&rv, \"\\ncollective_graph_key: \", collective_graph_key);\n+    absl::StrAppend(&rv, \"\\ncollective_graph_key: \", collective_graph_key);\n   }\n   string collective_order_str;\n   switch (collective_order) {\n@@ -47,7 +47,7 @@ string BuildGraphOptions::DebugString() const {\n       collective_order_str = \"attrs\";\n       break;\n   }\n-  strings::StrAppend(&rv, \"\\ncollective_order: \", collective_order_str);\n+  absl::StrAppend(&rv, \"\\ncollective_order: \", collective_order_str);\n   return rv;\n }\n "
        },
        {
            "sha": "1a95c87d798fe281d0d1bad60547dc7be94a89dc",
            "filename": "tensorflow/core/common_runtime/collective_param_resolver_local.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_param_resolver_local.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_param_resolver_local.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_param_resolver_local.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -242,7 +242,7 @@ void CollectiveParamResolverLocal::CompleteGroupLocal(\n           if (VLOG_IS_ON(1)) {\n             string dev_buf;\n             for (const auto& m : gr->group.members) {\n-              strings::StrAppend(&dev_buf, \",\", m.device.name());\n+              absl::StrAppend(&dev_buf, \",\", m.device.name());\n             }\n             VLOG(1) << \"CompleteGroupLocal group_key=\" << gr->group.group_key\n                     << \" group_size=\" << gr->group.group_size << \" (current\"\n@@ -578,7 +578,7 @@ void CollectiveParamResolverLocal::CompleteDefaultRanking(CollGroupParams* gp) {\n   if (VLOG_IS_ON(2)) {\n     string buf;\n     for (const auto& m : new_members)\n-      strings::StrAppend(&buf, \"\\n\", m.device.name());\n+      absl::StrAppend(&buf, \"\\n\", m.device.name());\n     VLOG(2) << \"Optimized device order for group \" << gp->group_key << \": \"\n             << buf;\n   }"
        },
        {
            "sha": "c36326f2d473a3ea41d61d639f7274ffc71181ed",
            "filename": "tensorflow/core/common_runtime/collective_param_resolver_local_test.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 16,
            "changes": 30,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_param_resolver_local_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_param_resolver_local_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_param_resolver_local_test.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -99,8 +99,8 @@ TEST_F(CollectiveParamResolverLocalTest, CompleteDefaultRanking) {\n   for (int gpu_idx = 0; gpu_idx < kNumGpus; ++gpu_idx) {\n     CollGroupMember member;\n     member.task = \"/job:localhost/replica:0/task:0\";\n-    member.device.set_name(strings::StrCat(\n-        \"/job:localhost/replica:0/task:0/device:GPU:\", gpu_idx));\n+    member.device.set_name(\n+        absl::StrCat(\"/job:localhost/replica:0/task:0/device:GPU:\", gpu_idx));\n     // Build localities so that 0,1,6,7 and 2,3,4,5 form 2 strongly connected\n     // components.  Across components, connect 3 and 7.\n     for (int link_idx = 0; link_idx < kNumGpus; ++link_idx) {\n@@ -179,7 +179,7 @@ TEST_F(CollectiveParamResolverLocalTest, CompleteParamsReduction1Task) {\n     cp->is_source = false;\n     Env::Default()->SchedClosure([this, i, cp, &note, &statuses]() {\n       string device =\n-          strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n+          absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n       prl_->CompleteParamsAsync(GetDeviceAttributes(device), cp,\n                                 nullptr /*CancellationManager*/,\n                                 [&statuses, &note, i](const absl::Status& s) {\n@@ -195,9 +195,8 @@ TEST_F(CollectiveParamResolverLocalTest, CompleteParamsReduction1Task) {\n     TF_ASSERT_OK(statuses[i]);\n     ASSERT_EQ(cps[i]->group.members.size(), 3);\n     for (int j = 0; j < NUM_DEVS; ++j) {\n-      EXPECT_EQ(\n-          strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", j),\n-          cps[i]->group.members[j].device.name());\n+      EXPECT_EQ(absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", j),\n+                cps[i]->group.members[j].device.name());\n       EXPECT_TRUE(cps[i]->group.members[j].is_local);\n     }\n     EXPECT_EQ(cps[i]->instance.impl_details.subdiv_source_rank.size(), 0);\n@@ -234,7 +233,7 @@ TEST_F(CollectiveParamResolverLocalTest, CompleteParamsBroadcast1Task) {\n     InitializeCollectiveParamsForBroadcast(kInstanceKey, i, i == 1, cp);\n     Env::Default()->SchedClosure([this, i, cp, &note, &statuses]() {\n       string device =\n-          strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n+          absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n       prl_->CompleteParamsAsync(GetDeviceAttributes(device), cp,\n                                 nullptr /*CancellationManager*/,\n                                 [&statuses, &note, i](const absl::Status& s) {\n@@ -250,9 +249,8 @@ TEST_F(CollectiveParamResolverLocalTest, CompleteParamsBroadcast1Task) {\n     TF_ASSERT_OK(statuses[i]);\n     ASSERT_EQ(cps[i]->group.members.size(), 3);\n     for (int j = 0; j < NUM_DEVS; ++j) {\n-      EXPECT_EQ(\n-          strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", j),\n-          cps[i]->group.members[j].device.name());\n+      EXPECT_EQ(absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", j),\n+                cps[i]->group.members[j].device.name());\n       EXPECT_TRUE(cps[i]->group.members[j].is_local);\n     }\n     EXPECT_EQ(cps[i]->is_source, (i == 1));\n@@ -276,7 +274,7 @@ TEST_F(CollectiveParamResolverLocalTest, CompleteParamsBroadcastForgotSender) {\n     InitializeCollectiveParamsForBroadcast(kInstanceKey, i, false, cp);\n     Env::Default()->SchedClosure([this, i, cp, &note, &statuses]() {\n       string device =\n-          strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n+          absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n       prl_->CompleteParamsAsync(GetDeviceAttributes(device), cp,\n                                 nullptr /*CancellationManager*/,\n                                 [&statuses, &note, i](const absl::Status& s) {\n@@ -323,7 +321,7 @@ TEST_F(CollectiveParamResolverLocalTest, AbortPendingGroup) {\n   for (int i = 0; i < NUM_DEVS - 1; ++i) {\n     Env::Default()->SchedClosure([this, i, &cancel_mgr, &cp, &start, &done] {\n       string device =\n-          strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n+          absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n       cp[i] = MakeCollectiveParams(/*group_key*/ 100, /*instance_key*/ 100,\n                                    /*is_source*/ i == 0);\n       prl_->CompleteParamsAsync(GetDeviceAttributes(device), cp[i], &cancel_mgr,\n@@ -354,7 +352,7 @@ TEST_F(CollectiveParamResolverLocalTest, AbortPendingInstance) {\n       Env::Default()->SchedClosure([this, group_key, instance_key, i,\n                                     &cancel_mgr, &cp, &done] {\n         string device =\n-            strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n+            absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n         cp[i] = MakeCollectiveParams(group_key, instance_key,\n                                      /*is_source*/ i == 0);\n         prl_->CompleteParamsAsync(GetDeviceAttributes(device), cp[i],\n@@ -374,7 +372,7 @@ TEST_F(CollectiveParamResolverLocalTest, AbortPendingInstance) {\n     Env::Default()->SchedClosure([this, group_key, instance_key, i, &cancel_mgr,\n                                   &cp, &start, &done] {\n       string device =\n-          strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n+          absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n       cp[i] = MakeCollectiveParams(group_key, instance_key + 1,\n                                    /*is_source*/ i == 0);\n       prl_->CompleteParamsAsync(GetDeviceAttributes(device), cp[i], &cancel_mgr,\n@@ -405,7 +403,7 @@ TEST_F(CollectiveParamResolverLocalTest, CompleteParamsAfterAbortion) {\n       Env::Default()->SchedClosure([this, group_key, instance_key, i,\n                                     &cancel_mgr, &cp, &done] {\n         string device =\n-            strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n+            absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n         cp[i] = MakeCollectiveParams(group_key, instance_key,\n                                      /*is_source*/ i == 0);\n         prl_->CompleteParamsAsync(GetDeviceAttributes(device), cp[i],\n@@ -456,7 +454,7 @@ TEST_F(CollectiveParamResolverLocalTest, AbortNormalCompleteParamsAsync) {\n     BlockingCounter done(NUM_DEVS);\n     for (int i = 0; i < NUM_DEVS; ++i) {\n       string device =\n-          strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n+          absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", i);\n       Env::Default()->SchedClosure(\n           [this, i, device, &num_ok, &cancel_mgr, &done] {\n             int key = 100;"
        },
        {
            "sha": "0c68136af24d51a14965064c8f823f5a897a2327",
            "filename": "tensorflow/core/common_runtime/collective_test_util.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_test_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_test_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_test_util.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -97,8 +97,8 @@ std::vector<std::unique_ptr<Device>> CreateCPUDevices(\n   std::vector<std::unique_ptr<Device>> devices;\n   for (int wi = 0; wi < num_workers; ++wi) {\n     for (int di = 0; di < num_devices_per_worker; ++di) {\n-      string dev_name = strings::StrCat(\"/job:worker/replica:0/task:\", wi,\n-                                        \"/device:CPU:\", di);\n+      string dev_name =\n+          absl::StrCat(\"/job:worker/replica:0/task:\", wi, \"/device:CPU:\", di);\n       devices.push_back(std::make_unique<ThreadPoolDevice>(\n           sess_opts, dev_name, mem_limit, dev_locality, cpu_allocator()));\n     }\n@@ -211,7 +211,7 @@ core::RefCountPtr<CollectiveParams> CreateCollectiveParams(\n                    local_ring_order.begin() + other);\n   }\n   string lro_buf;\n-  for (auto d : local_ring_order) strings::StrAppend(&lro_buf, d, \", \");\n+  for (auto d : local_ring_order) absl::StrAppend(&lro_buf, d, \", \");\n   VLOG(1) << \"local_ring_order \" << lro_buf;\n \n   // Set up group parameters.\n@@ -221,7 +221,7 @@ core::RefCountPtr<CollectiveParams> CreateCollectiveParams(\n   col_params->group.num_tasks = test_env.num_workers;\n   col_params->group.device_type = test_env.device_type;\n   for (int wi = 0; wi < test_env.num_workers; ++wi) {\n-    string task_name = strings::StrCat(\"/job:worker/replica:0/task:\", wi);\n+    string task_name = absl::StrCat(\"/job:worker/replica:0/task:\", wi);\n     col_params->group.num_devices_per_task[task_name] =\n         test_env.num_devices_per_worker;\n     for (int di = 0; di < test_env.num_devices_per_worker; ++di) {\n@@ -356,7 +356,7 @@ absl::Status RunCollective(CollectiveTestEnv* test_env,\n   core::ScopedUnref unref_collective_impl(collective_impl);\n   TF_RETURN_IF_ERROR(collective_impl->InitializeCollectiveParams(col_params));\n \n-  string exec_key = strings::StrCat(col_params->instance.instance_key, \":0:0\");\n+  string exec_key = absl::StrCat(col_params->instance.instance_key, \":0:0\");\n   auto col_ctx = std::make_shared<CollectiveContext>(\n       test_env->col_exec.get(), test_env->nccl_communicator.get(),\n       test_env->device_mgr.get(), &ctx, &op_params, col_params, exec_key,"
        },
        {
            "sha": "dcdae56754ebf59e77436d040b1103ca3473234c",
            "filename": "tensorflow/core/common_runtime/collective_util.cc",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fcollective_util.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -59,26 +59,26 @@ string SubdivPermDebugString(const CollectiveParams& col_params) {\n       col_params.instance.impl_details.subdiv_permutations;\n   string buf;\n   for (int sdi = 0; sdi < subdiv_perms.size(); ++sdi) {\n-    strings::StrAppend(&buf, \"Subdiv \", sdi, \" device order:\\n\");\n+    absl::StrAppend(&buf, \"Subdiv \", sdi, \" device order:\\n\");\n     for (int di = 0; di < subdiv_perms[sdi].size(); ++di) {\n       int idx = subdiv_perms[sdi][di];\n       if (idx >= 0) {\n         CHECK_GT(col_params.group.members.size(), idx);\n-        strings::StrAppend(&buf, col_params.group.members[idx].device.name(),\n-                           \"\\n\");\n+        absl::StrAppend(&buf, col_params.group.members[idx].device.name(),\n+                        \"\\n\");\n       }\n     }\n-    strings::StrAppend(&buf, \" subdiv_offsets: \");\n+    absl::StrAppend(&buf, \" subdiv_offsets: \");\n     for (auto o : col_params.instance.impl_details.subdiv_offsets)\n-      strings::StrAppend(&buf, o, \" \");\n-    strings::StrAppend(&buf, \" SubdivRank: \");\n-    for (auto d : col_params.subdiv_rank) strings::StrAppend(&buf, d, \" \");\n+      absl::StrAppend(&buf, o, \" \");\n+    absl::StrAppend(&buf, \" SubdivRank: \");\n+    for (auto d : col_params.subdiv_rank) absl::StrAppend(&buf, d, \" \");\n     if (col_params.instance.type == BROADCAST_COLLECTIVE) {\n-      strings::StrAppend(&buf, \" subdiv_source_rank: \");\n+      absl::StrAppend(&buf, \" subdiv_source_rank: \");\n       for (auto src : col_params.instance.impl_details.subdiv_source_rank)\n-        strings::StrAppend(&buf, src, \" \");\n+        absl::StrAppend(&buf, src, \" \");\n     }\n-    strings::StrAppend(&buf, \"\\n\");\n+    absl::StrAppend(&buf, \"\\n\");\n   }\n   return buf;\n }"
        },
        {
            "sha": "85122182c68c619abead0b27195ccee348d49ce6",
            "filename": "tensorflow/core/common_runtime/colocation_graph.cc",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcolocation_graph.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fcolocation_graph.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fcolocation_graph.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -1424,30 +1424,30 @@ string ColocationGraph::DebugInfo(const int node_root) const {\n         .IgnoreError();\n     string devices_registered;\n     for (const auto& device_type : supported_types) {\n-      strings::StrAppend(&devices_registered,\n-                         DeviceTypeString(device_type.first), \" \");\n+      absl::StrAppend(&devices_registered, DeviceTypeString(device_type.first),\n+                      \" \");\n     }\n \n     const string& op_type = node->type_string();\n     type_to_devices[op_type] = std::move(devices_registered);\n   }\n-  strings::StrAppend(&text, \"\\nRoot \", members_[node_root].DebugString());\n+  absl::StrAppend(&text, \"\\nRoot \", members_[node_root].DebugString());\n \n   for (const auto& td : type_to_devices) {\n-    strings::StrAppend(&text, \"\\n\", td.first, \": \", td.second);\n+    absl::StrAppend(&text, \"\\n\", td.first, \": \", td.second);\n   }\n-  strings::StrAppend(&text,\n-                     \"\\n\\nColocation members, user-requested devices, and \"\n-                     \"framework assigned devices, if any:\");\n+  absl::StrAppend(&text,\n+                  \"\\n\\nColocation members, user-requested devices, and \"\n+                  \"framework assigned devices, if any:\");\n   for (const Node* node : colocation_nodes) {\n     strings::StrAppend(&text, \"\\n  \", node->name(), \" (\", node->type_string(),\n                        \") \", node->requested_device());\n     if (node->has_assigned_device_name()) {\n-      strings::StrAppend(\n+      absl::StrAppend(\n           &text, \" framework assigned device=\", node->assigned_device_name());\n     }\n   }\n-  strings::StrAppend(&text, \"\\n\");\n+  absl::StrAppend(&text, \"\\n\");\n \n   if (num_nodes_found <= 0) {\n     text.clear();"
        },
        {
            "sha": "33fc5293989214db0182ad583293dfda49049635",
            "filename": "tensorflow/core/common_runtime/constant_folding.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fconstant_folding.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fconstant_folding.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fconstant_folding.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -630,8 +630,8 @@ absl::Status ConstantFold(const ConstantFoldingOptions& opts,\n   std::atomic_int_fast64_t constant_unique_id{0};\n   if (generate_new_name == nullptr) {\n     generate_new_name = [&constant_unique_id](Graph* graph, string old_name) {\n-      return strings::StrCat(graph->NewName(old_name), \"__cf__\",\n-                             constant_unique_id.fetch_add(1));\n+      return absl::StrCat(graph->NewName(old_name), \"__cf__\",\n+                          constant_unique_id.fetch_add(1));\n     };\n   }\n \n@@ -676,7 +676,7 @@ absl::Status ConstantFold(const ConstantFoldingOptions& opts,\n             });\n   for (auto n : tensors_to_fetch_sorted) {\n     tensors_to_fetch_names.push_back(\n-        strings::StrCat(n.first.first->name(), \":\", n.first.second));\n+        absl::StrCat(n.first.first->name(), \":\", n.first.second));\n     tensors_to_replace.push_back(n.second);\n   }\n "
        },
        {
            "sha": "29ade30730ed0c3e28a14b798f18d8db1e447305",
            "filename": "tensorflow/core/common_runtime/constant_folding_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fconstant_folding_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fconstant_folding_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fconstant_folding_test.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -166,7 +166,7 @@ TEST_F(ConstantFoldingTest, DeterministicFolding) {\n     bool was_mutated;\n     int64_t unique_id = 0;\n     auto generate_new_name = [&unique_id](Graph* graph, string old_name) {\n-      return strings::StrCat(graph->NewName(old_name), \"__cf__\", unique_id++);\n+      return absl::StrCat(graph->NewName(old_name), \"__cf__\", unique_id++);\n     };\n     ConstantFoldingOptions opt{};\n     opt.generate_new_name = generate_new_name;"
        },
        {
            "sha": "241bb3975012f371a1503cb9bdefff0632154b48",
            "filename": "tensorflow/core/common_runtime/debugger_state_interface.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fdebugger_state_interface.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fdebugger_state_interface.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fdebugger_state_interface.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -31,7 +31,7 @@ const string SummarizeDebugTensorWatches(\n \n   for (const DebugTensorWatch& watch : watches) {\n     string tensor_name =\n-        strings::StrCat(watch.node_name(), \":\", watch.output_slot());\n+        absl::StrCat(watch.node_name(), \":\", watch.output_slot());\n     if (watch.tolerate_debug_op_creation_failures()) {\n       oss << \"(TOL)\";  // Shorthand for \"tolerate\".\n     }"
        },
        {
            "sha": "78f5639359e283fbc6a0a7d5bd94be3cc1896871",
            "filename": "tensorflow/core/common_runtime/direct_session.cc",
            "status": "modified",
            "additions": 10,
            "deletions": 11,
            "changes": 21,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fdirect_session.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fdirect_session.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fdirect_session.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -107,7 +107,7 @@ absl::Status NewThreadPoolFromThreadPoolOptions(\n     VLOG(1) << \"Direct session inter op parallelism threads for pool \"\n             << pool_number << \": \" << num_threads;\n     *pool = new thread::ThreadPool(\n-        options.env, ThreadOptions(), strings::StrCat(\"Compute\", pool_number),\n+        options.env, ThreadOptions(), absl::StrCat(\"Compute\", pool_number),\n         num_threads, !options.config.experimental().disable_thread_spinning(),\n         /*allocator=*/nullptr);\n     *owned = true;\n@@ -124,7 +124,7 @@ absl::Status NewThreadPoolFromThreadPoolOptions(\n   if (mvalue->second == nullptr) {\n     mvalue->first = thread_pool_options.num_threads();\n     mvalue->second = new thread::ThreadPool(\n-        options.env, ThreadOptions(), strings::StrCat(\"Compute\", pool_number),\n+        options.env, ThreadOptions(), absl::StrCat(\"Compute\", pool_number),\n         num_threads, !options.config.experimental().disable_thread_spinning(),\n         /*allocator=*/nullptr);\n   } else {\n@@ -369,14 +369,14 @@ DirectSession::DirectSession(const SessionOptions& options,\n     LOG(ERROR) << status.message();\n   }\n   session_handle_ =\n-      strings::StrCat(\"direct\", strings::FpToString(random::New64()));\n+      absl::StrCat(\"direct\", strings::FpToString(random::New64()));\n   if (options.config.log_device_placement()) {\n     const string mapping_str = device_mgr_->DeviceMappingString();\n     string msg;\n     if (mapping_str.empty()) {\n       msg = \"Device mapping: no known devices.\";\n     } else {\n-      msg = strings::StrCat(\"Device mapping:\\n\", mapping_str);\n+      msg = absl::StrCat(\"Device mapping:\\n\", mapping_str);\n     }\n     if (!logging::LogToListeners(msg)) {\n       LOG(INFO) << msg;\n@@ -527,8 +527,8 @@ absl::Status DirectSession::RunInternal(\n         if (options_.config.experimental().has_session_metadata()) {\n           const auto& model_metadata =\n               options_.config.experimental().session_metadata();\n-          string model_id = strings::StrCat(model_metadata.name(), \":\",\n-                                            model_metadata.version());\n+          string model_id = absl::StrCat(model_metadata.name(), \":\",\n+                                         model_metadata.version());\n           return tsl::profiler::TraceMeEncode(\"SessionRun\",\n                                               {{\"id\", step_id},\n                                                {\"_r\", 1} /*root_event*/,\n@@ -1150,7 +1150,7 @@ absl::Status DirectSession::PRun(const string& handle,\n absl::Status DirectSession::ResourceHandleToInputTensor(\n     const Tensor& resource_tensor, Tensor* retrieved_tensor) {\n   if (resource_tensor.dtype() != DT_RESOURCE) {\n-    return errors::InvalidArgument(strings::StrCat(\n+    return errors::InvalidArgument(absl::StrCat(\n         \"ResourceHandleToInputTensor() received non-DT_RESOURCE Tensor: \",\n         resource_tensor.dtype()));\n   }\n@@ -1514,8 +1514,7 @@ absl::Status DirectSession::GetOrCreateExecutors(\n       \"/\", debug_tensor_watches_summary);\n   // Set the handle, if it's needed to log memory or for partial run.\n   if (handle_name_counter_value >= 0) {\n-    run_state_args->handle =\n-        strings::StrCat(key, \";\", handle_name_counter_value);\n+    run_state_args->handle = absl::StrCat(key, \";\", handle_name_counter_value);\n   }\n \n   // See if we already have the executors for this run.\n@@ -1548,7 +1547,7 @@ absl::Status DirectSession::GetOrCreateExecutors(\n   // Set the handle, if its needed to log memory or for partial run.\n   if (handle_name_counter_value >= 0) {\n     run_state_args->handle =\n-        strings::StrCat(sorted_key, \";\", handle_name_counter_value);\n+        absl::StrCat(sorted_key, \";\", handle_name_counter_value);\n   }\n \n   // See if we already have the executors for this run.\n@@ -1690,7 +1689,7 @@ absl::Status DirectSession::CreateGraphs(\n     return node->assigned_device_name();\n   };\n   popts.new_name = [this](const string& prefix) {\n-    return strings::StrCat(prefix, \"/_\", edge_name_counter_.fetch_add(1));\n+    return absl::StrCat(prefix, \"/_\", edge_name_counter_.fetch_add(1));\n   };\n   popts.get_incarnation = [](const string& name) {\n     // The direct session does not have changing incarnation numbers."
        },
        {
            "sha": "10e9693b8506d138a38a92191f82ba60992a13af",
            "filename": "tensorflow/core/common_runtime/direct_session_test.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fdirect_session_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fdirect_session_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fdirect_session_test.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -2292,7 +2292,7 @@ TEST(DirectSessionTest, TestSessionInterOpThreadsInvalidOptions) {\n       EXPECT_EQ(s.code(), error::INVALID_ARGUMENT);\n       EXPECT_TRUE(absl::StrContains(\n           s.message(),\n-          strings::StrCat(\"Invalid inter_op_thread_pool: \", pool_num)));\n+          absl::StrCat(\"Invalid inter_op_thread_pool: \", pool_num)));\n     }\n   }\n \n@@ -3001,19 +3001,19 @@ class DirectSessionCollectiveTest : public ::testing::Test {\n     AttrValue dtype_attr;\n     SetAttrValue(DT_FLOAT, &dtype_attr);\n     NodeDef input;\n-    input.set_name(strings::StrCat(\"input\", id));\n+    input.set_name(absl::StrCat(\"input\", id));\n     input.set_op(\"Placeholder\");\n     input.mutable_attr()->insert({\"dtype\", dtype_attr});\n     return input;\n   }\n \n   NodeDef CollectiveCall(const string& op, const string& input, int cpu_id) {\n     NodeDef collective_call;\n-    collective_call.set_name(strings::StrCat(\"collective_call\", cpu_id));\n+    collective_call.set_name(absl::StrCat(\"collective_call\", cpu_id));\n     collective_call.set_op(op);\n     collective_call.add_input(input);\n     collective_call.set_device(\n-        strings::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", cpu_id));\n+        absl::StrCat(\"/job:localhost/replica:0/task:0/device:CPU:\", cpu_id));\n     return collective_call;\n   }\n \n@@ -3103,7 +3103,7 @@ TEST(DirectSessionTest, TestStatefulOutputRequiredOp) {\n     std::vector<string> fetch_tensor_names;\n     fetch_tensor_names.reserve(num_outputs_required);\n     for (int output_idx = 0; output_idx < num_outputs_required; ++output_idx) {\n-      fetch_tensor_names.push_back(strings::StrCat(\"n:\", output_idx));\n+      fetch_tensor_names.push_back(absl::StrCat(\"n:\", output_idx));\n     }\n     std::vector<Tensor> fetch_tensors;\n     TF_ASSERT_OK(session->Run({}, fetch_tensor_names, {}, &fetch_tensors));"
        },
        {
            "sha": "b1382ec797d56d9466b4f4c2281a3d2d7f8ab220",
            "filename": "tensorflow/core/common_runtime/dynamic_device_mgr.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fdynamic_device_mgr.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4dfbe8defc97475bf344f4a3b9edcf982d9768fc/tensorflow%2Fcore%2Fcommon_runtime%2Fdynamic_device_mgr.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fcommon_runtime%2Fdynamic_device_mgr.cc?ref=4dfbe8defc97475bf344f4a3b9edcf982d9768fc",
            "patch": "@@ -89,7 +89,7 @@ string DynamicDeviceMgr::DebugString() const {\n   string out;\n   tf_shared_lock l(devices_mu_);\n   for (const auto& it : dynamic_devices_) {\n-    strings::StrAppend(&out, it.first->name(), \"\\n\");\n+    absl::StrAppend(&out, it.first->name(), \"\\n\");\n   }\n   return out;\n }\n@@ -100,8 +100,8 @@ string DynamicDeviceMgr::DeviceMappingString() const {\n   for (const auto& it : dynamic_devices_) {\n     auto d = it.first;\n     if (!d->attributes().physical_device_desc().empty()) {\n-      strings::StrAppend(&out, d->name(), \" -> \",\n-                         d->attributes().physical_device_desc(), \"\\n\");\n+      absl::StrAppend(&out, d->name(), \" -> \",\n+                      d->attributes().physical_device_desc(), \"\\n\");\n     }\n   }\n   return out;"
        }
    ],
    "stats": {
        "total": 155,
        "additions": 75,
        "deletions": 80
    }
}