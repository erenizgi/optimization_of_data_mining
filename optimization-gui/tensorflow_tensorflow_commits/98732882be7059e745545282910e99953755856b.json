{
    "author": "tensorflower-gardener",
    "message": "Reverts 99ca84c474c7d05d04e49eec5a2e6a27c0dc3137\n\nPiperOrigin-RevId: 797684358",
    "sha": "98732882be7059e745545282910e99953755856b",
    "files": [
        {
            "sha": "ab28322159b3756e76a86e082fbb2f2e91918b9c",
            "filename": "tensorflow/lite/delegates/xnnpack/xnnpack_delegate.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/98732882be7059e745545282910e99953755856b/tensorflow%2Flite%2Fdelegates%2Fxnnpack%2Fxnnpack_delegate.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/98732882be7059e745545282910e99953755856b/tensorflow%2Flite%2Fdelegates%2Fxnnpack%2Fxnnpack_delegate.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fdelegates%2Fxnnpack%2Fxnnpack_delegate.cc?ref=98732882be7059e745545282910e99953755856b",
            "patch": "@@ -3611,7 +3611,8 @@ class Subgraph {\n         logging_context, output_tensor, 4, node->outputs->data[0],\n         BuiltinOperator_CONV_2D, node_index));\n \n-    bool dynamically_quantized = ((input_tensor.type == kTfLiteFloat32 &&\n+    bool dynamically_quantized = (delegate.enable_latest_operators() &&\n+                                  (input_tensor.type == kTfLiteFloat32 &&\n                                    filter_tensor.type == kTfLiteInt8));\n     if (input_tensor.type != output_tensor.type ||\n         ((input_tensor.type != filter_tensor.type) && !dynamically_quantized)) {\n@@ -4532,7 +4533,8 @@ class Subgraph {\n         CheckTensorFloat32OrQUInt8Type(delegate, logging_context, output_tensor,\n                                        node->outputs->data[0], node_index));\n \n-    bool dynamically_quantized = ((input_tensor.type == kTfLiteFloat32 &&\n+    bool dynamically_quantized = (delegate.enable_latest_operators() &&\n+                                  (input_tensor.type == kTfLiteFloat32 &&\n                                    (filter_tensor.type == kTfLiteInt4 ||\n                                     filter_tensor.type == kTfLiteInt8)));\n     bool supported_srq = (input_tensor.type == kTfLiteInt8 &&"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}