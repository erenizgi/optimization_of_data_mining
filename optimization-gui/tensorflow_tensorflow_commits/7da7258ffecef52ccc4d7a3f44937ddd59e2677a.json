{
    "author": "derdrdirk",
    "message": "[XLA:GPU] Remove xla_aot_compile_gpu_runtime_autotuning test. AOT (Ahead-of-Time) autotuning and runtime autotuning are mutually exclusive by definition.\n\nPiperOrigin-RevId: 810812966",
    "sha": "7da7258ffecef52ccc4d7a3f44937ddd59e2677a",
    "files": [
        {
            "sha": "0e3a736da2477347f843af49302ecb92f4d27822",
            "filename": "third_party/xla/xla/service/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 8,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7da7258ffecef52ccc4d7a3f44937ddd59e2677a/third_party%2Fxla%2Fxla%2Fservice%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7da7258ffecef52ccc4d7a3f44937ddd59e2677a/third_party%2Fxla%2Fxla%2Fservice%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2FBUILD?ref=7da7258ffecef52ccc4d7a3f44937ddd59e2677a",
            "patch": "@@ -14,7 +14,7 @@ load(\n     \"xla_internal\",\n     \"xla_py_proto_library\",\n )\n-load(\"//xla/service:xla_compile.bzl\", \"xla_aot_compile_cpu\", \"xla_aot_compile_gpu\", \"xla_aot_compile_gpu_runtime_autotuning\")\n+load(\"//xla/service:xla_compile.bzl\", \"xla_aot_compile_cpu\", \"xla_aot_compile_gpu\")\n load(\"//xla/stream_executor:build_defs.bzl\", \"if_cuda_or_rocm_is_configured\", \"if_gpu_is_configured\")\n load(\"//xla/tests:build_defs.bzl\", \"xla_test\")\n load(\"//xla/tsl:tsl.bzl\", \"if_google\", \"if_libtpu\", \"internal_visibility\", \"tsl_copts\")\n@@ -5843,12 +5843,6 @@ xla_aot_compile_gpu(\n     module = \"xla_aot_compile_test_convolution.mlir\",\n )\n \n-xla_aot_compile_gpu_runtime_autotuning(\n-    name = \"xla_aot_compile_test_gpu_executable_convolution_runtime_autotuning\",\n-    gpu_target_config = \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n-    module = \"xla_aot_compile_test_convolution.mlir\",\n-)\n-\n xla_cc_test(\n     name = \"xla_aot_compile_cpu_test\",\n     srcs = [\"xla_aot_compile_cpu_test.cc\"],\n@@ -5912,7 +5906,6 @@ xla_cc_test(\n         \":xla_aot_compile_test_gpu_executable\",\n         \":xla_aot_compile_test_gpu_executable_constant\",\n         \":xla_aot_compile_test_gpu_executable_convolution\",\n-        \":xla_aot_compile_test_gpu_executable_convolution_runtime_autotuning\",\n         \":xla_aot_compile_test_gpu_executable_hlo\",\n     ],\n     tags = ["
        },
        {
            "sha": "1a56b6466a99a67af463018025c4e56357a4d2ac",
            "filename": "third_party/xla/xla/service/xla_compile.bzl",
            "status": "modified",
            "additions": 0,
            "deletions": 33,
            "changes": 33,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7da7258ffecef52ccc4d7a3f44937ddd59e2677a/third_party%2Fxla%2Fxla%2Fservice%2Fxla_compile.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7da7258ffecef52ccc4d7a3f44937ddd59e2677a/third_party%2Fxla%2Fxla%2Fservice%2Fxla_compile.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fxla_compile.bzl?ref=7da7258ffecef52ccc4d7a3f44937ddd59e2677a",
            "patch": "@@ -81,36 +81,3 @@ def xla_aot_compile_gpu(\n     )\n \n     return\n-\n-def xla_aot_compile_gpu_runtime_autotuning(\n-        name,\n-        module,\n-        gpu_target_config):\n-    \"\"\"Runs xla_compile to compile an MHLO or StableHLO module into an AotCompilationResult for GPU\n-\n-    Args:\n-        name: The name of the build rule.\n-        module: The MHLO or StableHLO file to compile.\n-        gpu_target_config: The serialized GpuTargetConfigProto\n-    \"\"\"\n-\n-    # Run xla_compile to generate the file containing an AotCompilationResult.\n-    native.genrule(\n-        name = (\"gen_\" + name),\n-        srcs = [module, gpu_target_config],\n-        outs = [name],\n-        cmd = (\n-            \"$(location \" + xla_compile_tool + \")\" +\n-            \" --module_file=$(location \" + module + \")\" +\n-            \" --output_file=$(location \" + name + \")\" +\n-            \" --platform=gpu\" +\n-            \" --gpu_target_config=$(location \" + gpu_target_config + \")\"\n-        ),\n-        tools = [xla_compile_tool],\n-        # copybara:comment_begin(oss-only)\n-        target_compatible_with = select({\n-            \"@local_config_cuda//:is_cuda_enabled\": [],\n-            \"//conditions:default\": [\"@platforms//:incompatible\"],\n-        }),\n-        # copybara:comment_end\n-    )"
        }
    ],
    "stats": {
        "total": 42,
        "additions": 1,
        "deletions": 41
    }
}