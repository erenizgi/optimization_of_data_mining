{
    "author": "ezhulenev",
    "message": "[xla:codegen] Move KernelEmitter::name() to base class and change type to absl::string_view\n\nPiperOrigin-RevId: 825237762",
    "sha": "a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
    "files": [
        {
            "sha": "13aaadea62152a549f59a9f3a83ecd2765cf8118",
            "filename": "third_party/xla/xla/backends/cpu/codegen/computation_kernel_emitter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -17,10 +17,10 @@ limitations under the License.\n #define XLA_BACKENDS_CPU_CODEGEN_COMPUTATION_KERNEL_EMITTER_H_\n \n #include <cstdint>\n-#include <string>\n \n #include \"absl/container/flat_hash_map.h\"\n #include \"absl/status/statusor.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"llvm/IR/BasicBlock.h\"\n #include \"llvm/IR/Function.h\"\n #include \"llvm/IR/IRBuilder.h\"\n@@ -50,10 +50,9 @@ class ComputationKernelEmitter final : public LlvmKernelEmitter {\n                            const BufferAssignment* buffer_assignment,\n                            const TargetMachineFeatures* target_machine);\n \n+  absl::string_view name() const final { return \"computation_kernel_emitter\"; }\n   absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() final;\n \n-  std::string name() const final { return \"computation_kernel_emitter\"; }\n-\n  private:\n   absl::StatusOr<llvm::Function*> EmitNestedComputation(\n       llvm::Function* function, llvm::BasicBlock* return_block,"
        },
        {
            "sha": "e35b41caa995eccae0e4f12d426c296fd6a41b12",
            "filename": "third_party/xla/xla/backends/cpu/codegen/dot/dot_kernel_emitter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -16,12 +16,10 @@ limitations under the License.\n #ifndef XLA_BACKENDS_CPU_CODEGEN_DOT_DOT_KERNEL_EMITTER_H_\n #define XLA_BACKENDS_CPU_CODEGEN_DOT_DOT_KERNEL_EMITTER_H_\n \n-#include <string>\n-\n #include \"absl/status/statusor.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"xla/backends/cpu/codegen/target_machine_features.h\"\n #include \"xla/codegen/kernel_definition.h\"\n-#include \"xla/codegen/kernel_emitter.h\"\n #include \"xla/codegen/llvm_kernel_source.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/service/buffer_assignment.h\"\n@@ -34,10 +32,9 @@ class DotKernelEmitter final : public LlvmKernelEmitter {\n                    const BufferAssignment* buffer_assignment,\n                    const TargetMachineFeatures* target_machine);\n \n+  absl::string_view name() const final { return \"dot_kernel_emitter\"; }\n   absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() override;\n \n-  std::string name() const final { return \"dot_kernel_emitter\"; }\n-\n  private:\n   const HloInstruction* instr_;\n "
        },
        {
            "sha": "57c8277a4d8f06a4976cbe9c5dace6342e71e8ac",
            "filename": "third_party/xla/xla/backends/cpu/codegen/elemental/concatenate_kernel_emitter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -16,9 +16,8 @@ limitations under the License.\n #ifndef XLA_BACKENDS_CPU_CODEGEN_ELEMENTAL_CONCATENATE_KERNEL_EMITTER_H_\n #define XLA_BACKENDS_CPU_CODEGEN_ELEMENTAL_CONCATENATE_KERNEL_EMITTER_H_\n \n-#include <string>\n-\n #include \"absl/status/statusor.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"xla/backends/cpu/codegen/target_machine_features.h\"\n #include \"xla/codegen/kernel_definition.h\"\n #include \"xla/codegen/llvm_kernel_source.h\"\n@@ -33,10 +32,9 @@ class ConcatenateKernelEmitter final : public LlvmKernelEmitter {\n                            const BufferAssignment* buffer_assignment,\n                            const TargetMachineFeatures* target_machine);\n \n+  absl::string_view name() const final { return \"concatenate_kernel_emitter\"; }\n   absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() override;\n \n-  std::string name() const final { return \"concatenate_kernel_emitter\"; }\n-\n  private:\n   const HloInstruction* instr_;\n "
        },
        {
            "sha": "366a873bd5894308d715ba380b5ff168eaa04d3d",
            "filename": "third_party/xla/xla/backends/cpu/codegen/elemental/elemental_kernel_emitter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -19,6 +19,7 @@ limitations under the License.\n #include <string>\n \n #include \"absl/status/statusor.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"llvm/IR/IRBuilder.h\"\n #include \"llvm/IR/Module.h\"\n #include \"xla/backends/cpu/codegen/kernel_api_ir_builder.h\"\n@@ -39,10 +40,9 @@ class ElementalKernelEmitter final : public LlvmKernelEmitter {\n                          const BufferAssignment* buffer_assignment,\n                          const TargetMachineFeatures* target_machine);\n \n+  absl::string_view name() const final { return \"elemental_kernel_emitter\"; }\n   absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() override;\n \n-  std::string name() const final { return \"elemental_kernel_emitter\"; }\n-\n  private:\n   // Emits LLVM IR using elemental loop emitter and the given element generator.\n   // If the instruction is parallelized, it will emit a parallel loop partition"
        },
        {
            "sha": "030508575f086fb471cf9582efd9be08afbbb66f",
            "filename": "third_party/xla/xla/backends/cpu/codegen/emitters/cpu_scatter_emitter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2Fcpu_scatter_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2Fcpu_scatter_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2Fcpu_scatter_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -22,6 +22,7 @@ limitations under the License.\n \n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"mlir/Dialect/Func/IR/FuncOps.h\"\n #include \"mlir/IR/Builders.h\"\n #include \"mlir/IR/Value.h\"\n@@ -43,10 +44,9 @@ class CpuScatterFusion final : public MlirKernelEmitter {\n                    const HloFusionInstruction* fusion,\n                    gpu::SymbolicExprContext* symbolic_expr_context);\n \n+  absl::string_view name() const final { return \"cpu_scatter_fusion\"; }\n   absl::StatusOr<MlirKernelDefinition> EmitKernelDefinition() final;\n \n-  std::string name() const final { return \"cpu_scatter_fusion\"; }\n-\n  private:\n   absl::Status EmitEntryFunction(\n       const emitters::PartitionedComputations& computations,"
        },
        {
            "sha": "2e45622be876da2c006939795afe112bdef044ed",
            "filename": "third_party/xla/xla/backends/cpu/codegen/kernel_api_ir_builder.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fkernel_api_ir_builder.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fkernel_api_ir_builder.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fkernel_api_ir_builder.cc?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -329,7 +329,7 @@ KernelApiIrBuilder::KernelApiIrBuilder(llvm::LLVMContext& context,\n auto KernelApiIrBuilder::EmitKernelPrototype(\n     llvm::Module& module, const HloInstruction* instr,\n     const BufferAssignment* buffer_assignment,\n-    const std::string& generating_emitter_name, absl::string_view suffix)\n+    absl::string_view generating_emitter_name, absl::string_view suffix)\n     -> absl::StatusOr<KernelPrototype> {\n   TF_ASSIGN_OR_RETURN(std::vector<KernelParameter> arguments,\n                       GetKernelArgumentsParameters(instr, buffer_assignment));\n@@ -347,7 +347,7 @@ auto KernelApiIrBuilder::EmitKernelPrototype(\n     llvm::Module& module, absl::string_view name,\n     absl::Span<const KernelParameter> arguments,\n     absl::Span<const KernelParameter> results,\n-    const std::string& module_memory_region_name)\n+    absl::string_view module_memory_region_name)\n     -> absl::StatusOr<KernelPrototype> {\n   CHECK(&module.getContext() == &context_) << \"Module context mismatch\";\n "
        },
        {
            "sha": "22c355988102bb66f071e1ed439419ab82e383c8",
            "filename": "third_party/xla/xla/backends/cpu/codegen/kernel_api_ir_builder.h",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fkernel_api_ir_builder.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fkernel_api_ir_builder.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fkernel_api_ir_builder.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -124,14 +124,13 @@ class KernelApiIrBuilder {\n   absl::StatusOr<KernelPrototype> EmitKernelPrototype(\n       llvm::Module& module, const HloInstruction* instr,\n       const BufferAssignment* buffer_assignment,\n-      const std::string& generating_emitter_name,\n-      absl::string_view suffix = \"\");\n+      absl::string_view generating_emitter_name, absl::string_view suffix = \"\");\n \n   absl::StatusOr<KernelPrototype> EmitKernelPrototype(\n       llvm::Module& module, absl::string_view name,\n       absl::Span<const KernelParameter> arguments,\n       absl::Span<const KernelParameter> results,\n-      const std::string& module_memory_region_name);\n+      absl::string_view module_memory_region_name);\n \n   // Get the kernel name for the given HLO instruction.\n   // If generate_unique_c_style_kernel_entry_points is enabled, the name will"
        },
        {
            "sha": "d998394bfc4ed654eca28e458ac62b94e1cc0b5c",
            "filename": "third_party/xla/xla/backends/cpu/testlib/llvm_ir_kernel_emitter.h",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -49,10 +49,9 @@ class LlvmTestKernelEmitter : public LlvmKernelEmitter {\n                         NumWorkGroups num_workgroups,\n                         absl::Span<const KernelArg> args);\n \n+  absl::string_view name() const override { return \"llvm_test_kernel_emitter\"; }\n   absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() final;\n \n-  std::string name() const override { return \"llvm_test_kernel_emitter\"; }\n-\n  private:\n   std::string llvm_ir_;\n   std::string kernel_name_;"
        },
        {
            "sha": "e050c28c01205084d4220e9e7f593efbc5f7f517",
            "filename": "third_party/xla/xla/backends/cpu/testlib/mlir_kernel_emitter.h",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fmlir_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fmlir_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fmlir_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -48,10 +48,9 @@ class MlirTestKernelEmitter : public MlirKernelEmitter {\n                         NumWorkGroups num_workgroups,\n                         absl::Span<const KernelArg> args);\n \n+  absl::string_view name() const override { return \"mlir_test_kernel_emitter\"; }\n   absl::StatusOr<MlirKernelDefinition> EmitKernelDefinition() final;\n \n-  std::string name() const override { return \"mlir_test_kernel_emitter\"; }\n-\n  private:\n   std::string mlir_;\n   std::string kernel_name_;"
        },
        {
            "sha": "836128f128ea6bd1ee39ff23608ebc4c092f4752",
            "filename": "third_party/xla/xla/codegen/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2FBUILD?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -65,6 +65,7 @@ cc_library(\n         \":kernel_definition\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/status:statusor\",\n+        \"@com_google_absl//absl/strings:string_view\",\n     ],\n )\n "
        },
        {
            "sha": "400008286b45189f4b83071a249c93c1b1170bbc",
            "filename": "third_party/xla/xla/codegen/emitters/concatenate_kernel_emitter.h",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fconcatenate_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fconcatenate_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fconcatenate_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -29,7 +29,6 @@ limitations under the License.\n #include \"xla/codegen/emitters/kernel_arguments.h\"\n #include \"xla/codegen/hlo_fusion_spec.h\"\n #include \"xla/codegen/kernel_definition.h\"\n-#include \"xla/codegen/kernel_spec.h\"\n #include \"xla/codegen/mlir_kernel_source.h\"\n #include \"xla/hlo/analysis/indexing_map.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n@@ -50,6 +49,10 @@ class ConcatenateFusionKernelEmitter final : public MlirKernelEmitter {\n       WorkDimensions work_dimensions, absl::string_view entry_function_name,\n       BackendKind backend_kind);\n \n+  absl::string_view name() const final {\n+    return \"concatenate_fusion_kernel_emitter\";\n+  }\n+\n   absl::StatusOr<MlirKernelDefinition> EmitKernelDefinition() override;\n \n   static IndexingMap ComputeWorkItemIdToOutputIndexing(\n@@ -67,8 +70,6 @@ class ConcatenateFusionKernelEmitter final : public MlirKernelEmitter {\n   static int GetValidUnrollFactor(const HloFusionSpec& fusion_spec,\n                                   int max_unroll_factor);\n \n-  std::string name() const final { return \"concatenate_fusion_kernel_emitter\"; }\n-\n  private:\n   IndexingMap ComputeWorkItemIdToOutputIndexing(\n       gpu::SymbolicExprContext* ctx) const;"
        },
        {
            "sha": "51dc07892347c788209011ae9f9ce27b5a3fe843",
            "filename": "third_party/xla/xla/codegen/emitters/dynamic_update_slice_kernel_emitter.h",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fdynamic_update_slice_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fdynamic_update_slice_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fdynamic_update_slice_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -56,6 +56,10 @@ class DynamicUpdateSliceKernelEmitter final : public MlirKernelEmitter {\n       WorkDimensions work_dimensions, absl::string_view entry_function_name,\n       BackendKind backend_kind);\n \n+  absl::string_view name() const final {\n+    return \"dynamic_update_slice_kernel_emitter\";\n+  }\n+\n   absl::StatusOr<MlirKernelDefinition> EmitKernelDefinition() override;\n \n   // Get the shape that will be used for loop indexing for the given fusion\n@@ -66,10 +70,6 @@ class DynamicUpdateSliceKernelEmitter final : public MlirKernelEmitter {\n       const WorkDimensions& work_dimensions, const Shape& update_shape,\n       gpu::SymbolicExprContext* ctx);\n \n-  std::string name() const final {\n-    return \"dynamic_update_slice_kernel_emitter\";\n-  }\n-\n  private:\n   IndexingMap ComputeWorkItemIdToInputIndexing(\n       gpu::SymbolicExprContext* symbolic_expr_context) const;"
        },
        {
            "sha": "3866072c8052c4cd24dc72b348cbb1071abd2414",
            "filename": "third_party/xla/xla/codegen/emitters/loop_kernel_emitter.h",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Floop_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Floop_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Floop_kernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -16,7 +16,6 @@ limitations under the License.\n #ifndef XLA_CODEGEN_EMITTERS_LOOP_KERNEL_EMITTER_H_\n #define XLA_CODEGEN_EMITTERS_LOOP_KERNEL_EMITTER_H_\n \n-#include <cstdint>\n #include <string>\n \n #include \"absl/status/status.h\"\n@@ -28,7 +27,6 @@ limitations under the License.\n #include \"xla/codegen/emitters/kernel_arguments.h\"\n #include \"xla/codegen/hlo_fusion_spec.h\"\n #include \"xla/codegen/kernel_definition.h\"\n-#include \"xla/codegen/kernel_spec.h\"\n #include \"xla/codegen/mlir_kernel_source.h\"\n #include \"xla/hlo/analysis/indexing_map.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n@@ -51,6 +49,7 @@ class LoopFusionKernelEmitter final : public MlirKernelEmitter {\n                           absl::string_view entry_function_name,\n                           BackendKind backend_kind);\n \n+  absl::string_view name() const final { return \"loop_fusion_kernel_emitter\"; }\n   absl::StatusOr<MlirKernelDefinition> EmitKernelDefinition() override;\n \n   static IndexingMap ComputeWorkItemIdToOutputIndexing(\n@@ -61,8 +60,6 @@ class LoopFusionKernelEmitter final : public MlirKernelEmitter {\n   // specification.\n   static Shape GetIndexingShape(const HloFusionSpec& fusion_spec);\n \n-  std::string name() const final { return \"loop_fusion_kernel_emitter\"; }\n-\n  private:\n   IndexingMap ComputeWorkItemIdToOutputIndexing(\n       gpu::SymbolicExprContext* ctx) const;"
        },
        {
            "sha": "5a9be15b5516a11815d763fc4b63a0faca310249",
            "filename": "third_party/xla/xla/codegen/kernel_emitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2Fkernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a72cd9ceeb327e2c48103f09487ce15a8c00b9f6/third_party%2Fxla%2Fxla%2Fcodegen%2Fkernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Fkernel_emitter.h?ref=a72cd9ceeb327e2c48103f09487ce15a8c00b9f6",
            "patch": "@@ -17,9 +17,9 @@ limitations under the License.\n #define XLA_CODEGEN_KERNEL_EMITTER_H_\n \n #include <memory>\n-#include <string>\n \n #include \"absl/status/statusor.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"xla/codegen/kernel_definition.h\"\n #include \"xla/tsl/platform/statusor.h\"\n \n@@ -29,6 +29,8 @@ class KernelEmitterBase {\n  public:\n   virtual ~KernelEmitterBase() = default;\n \n+  virtual absl::string_view name() const = 0;\n+\n   virtual absl::StatusOr<std::unique_ptr<KernelDefinitionBase>>\n   EmitBaseKernelDefinition() = 0;\n };\n@@ -42,8 +44,6 @@ class KernelEmitter : public KernelEmitterBase {\n \n   virtual absl::StatusOr<KernelDefinitionType> EmitKernelDefinition() = 0;\n \n-  virtual std::string name() const = 0;\n-\n  private:\n   absl::StatusOr<std::unique_ptr<KernelDefinitionBase>>\n   EmitBaseKernelDefinition() final {"
        }
    ],
    "stats": {
        "total": 68,
        "additions": 29,
        "deletions": 39
    }
}