{
    "author": "mwhittaker",
    "message": "Remove unused `ReportError` RPC from coordination service.\n\nPiperOrigin-RevId: 845899374",
    "sha": "b788805f73714d15b6f5fb850ec60be6e8cf1a24",
    "files": [
        {
            "sha": "b9533934ab206f928123c1c550c024256f653b76",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/coordination_client.h",
            "status": "modified",
            "additions": 0,
            "deletions": 13,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_client.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_client.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_client.h?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -48,10 +48,6 @@ using tensorflow::PollForErrorRequest;\n using tensorflow::PollForErrorResponse;\n using tensorflow::RegisterTaskRequest;\n using tensorflow::RegisterTaskResponse;\n-using tensorflow::ReportErrorToServiceRequest;\n-using tensorflow::ReportErrorToServiceResponse;\n-using tensorflow::ReportErrorToTaskRequest;\n-using tensorflow::ReportErrorToTaskResponse;\n using tensorflow::ResetTaskRequest;\n using tensorflow::ResetTaskResponse;\n using tensorflow::ShutdownTaskRequest;\n@@ -92,15 +88,6 @@ class CoordinationClient {\n                               ResetTaskResponse* response,\n                               tsl::StatusCallback done) = 0;\n \n-  virtual void ReportErrorToTaskAsync(tsl::CallOptions* call_opts,\n-                                      const ReportErrorToTaskRequest* request,\n-                                      ReportErrorToTaskResponse* response,\n-                                      tsl::StatusCallback done) = 0;\n-\n-  virtual void ReportErrorToServiceAsync(\n-      const ReportErrorToServiceRequest* request,\n-      ReportErrorToServiceResponse* response, tsl::StatusCallback done) = 0;\n-\n   virtual void GetTaskStateAsync(const GetTaskStateRequest* request,\n                                  GetTaskStateResponse* response,\n                                  tsl::StatusCallback done) = 0;"
        },
        {
            "sha": "73550626494ca4b2cf97a3d795e6c537d0348be5",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/coordination_service.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service.h?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -177,6 +177,8 @@ class CoordinationService {\n                                IncarnationId incarnation);\n \n   // Set a task in error state permanently.\n+  //\n+  // TODO: mwhittaker - Remove this. It's only used for testing.\n   absl::Status ReportTaskError(const tensorflow::CoordinatedTask& task,\n                                const absl::Status& error);\n "
        },
        {
            "sha": "98e8a70bdd3b1ce7583c72643a1c44861f9596dc",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/coordination_service_agent.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 44,
            "changes": 44,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_agent.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_agent.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_agent.cc?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -454,50 +454,6 @@ CoordinationServiceAgent::WatchJobState(absl::string_view job_name,\n   return response;\n }\n \n-absl::Status CoordinationServiceAgent::ReportError(const absl::Status& error) {\n-  {\n-    absl::MutexLock l(state_mu_);\n-    if (state_ == CoordinatedTaskState::TASKSTATE_UNINITIALIZED) {\n-      return MakeCoordinationError(absl::FailedPreconditionError(\n-          \"Coordination service agent must be initialized first before \"\n-          \"reporting error.\"));\n-    }\n-    if (state_ == CoordinatedTaskState::TASKSTATE_ERROR) {\n-      return MakeCoordinationError(absl::FailedPreconditionError(\n-          \"Coordination service agent is already in error state.\"));\n-    }\n-  }\n-  SetError(MakeCoordinationError(error, task_,\n-                                 /*is_reported_error=*/true));\n-  LOG(INFO) << \"Reporting error to coordination service: \" << error;\n-  ReportErrorToServiceRequest request;\n-  request.set_error_code(error.raw_code());\n-  request.set_error_message(std::string(error.message()));\n-  *request.mutable_error_origin() = task_;\n-  VLOG(5) << \"ReportErrorToServiceRequest: \" << request.DebugString();\n-  ReportErrorToServiceResponse response;\n-\n-  absl::Notification n;\n-  leader_client_->ReportErrorToServiceAsync(\n-      &request, &response, [&](const absl::Status& s) {\n-        VLOG(5) << \"ReportErrorToServiceResponse: \" << s;\n-        if (!s.ok()) {\n-          LOG(ERROR)\n-              << \"Encountered another error when reporting error to \"\n-                 \"coordination service: \"\n-              << s\n-              << \"\\nThis is usually caused by an earlier error during \"\n-                 \"execution. Check the logs of (a) this task, (b) the \"\n-                 \"leader (usually slice 0 task 0) and (c) the scheduler \"\n-                 \"(e.g. preemption, eviction) for an earlier error to debug \"\n-                 \"further.\";\n-        }\n-        n.Notify();\n-      });\n-  n.WaitForNotification();\n-  return absl::OkStatus();\n-}\n-\n absl::Status CoordinationServiceAgent::Shutdown() { return ShutdownInternal(); }\n \n absl::Status CoordinationServiceAgent::ShutdownInternal() {"
        },
        {
            "sha": "6985fe7f71d7a9990e194cdca7d638007a599aa8",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/coordination_service_agent_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 56,
            "changes": 56,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_agent_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_agent_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_agent_test.cc?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -108,10 +108,6 @@ class TestCoordinationClient : public CoordinationClient {\n               (const ResetTaskRequest*, ResetTaskResponse*,\n                tsl::StatusCallback),\n               (override));\n-  MOCK_METHOD(void, ReportErrorToServiceAsync,\n-              (const ReportErrorToServiceRequest*,\n-               ReportErrorToServiceResponse*, tsl::StatusCallback),\n-              (override));\n   MOCK_METHOD(void, BarrierAsync,\n               (tsl::CallOptions * call_opts, const BarrierRequest*,\n                BarrierResponse*, tsl::StatusCallback),\n@@ -150,12 +146,6 @@ class TestCoordinationClient : public CoordinationClient {\n \n   UNIMPLEMENTED(WaitForAllTasks);\n #undef UNIMPLEMENTED\n-  void ReportErrorToTaskAsync(tsl::CallOptions* call_opts,\n-                              const ReportErrorToTaskRequest* request,\n-                              ReportErrorToTaskResponse* response,\n-                              tsl::StatusCallback done) override {\n-    done(absl::UnimplementedError(\"ReportErrorToTaskAsync\"));\n-  }\n };\n \n class CoordinationServiceAgentTest : public ::testing::Test {\n@@ -167,8 +157,6 @@ class CoordinationServiceAgentTest : public ::testing::Test {\n         .WillByDefault(InvokeArgument<3>(absl::OkStatus()));\n     ON_CALL(*client_, ShutdownTaskAsync(_, _, _, _))\n         .WillByDefault(InvokeArgument<3>(absl::OkStatus()));\n-    ON_CALL(*client_, ReportErrorToServiceAsync(_, _, _))\n-        .WillByDefault(InvokeArgument<2>(absl::OkStatus()));\n     ON_CALL(*client_, ResetTaskAsync(_, _, _))\n         .WillByDefault(InvokeArgument<2>(absl::OkStatus()));\n     ON_CALL(*client_, BarrierAsync(_, _, _, _))\n@@ -411,18 +399,6 @@ TEST_F(CoordinationServiceAgentTest, GetKeyValueDir_Simple_Success) {\n   EXPECT_THAT(*result, UnorderedPointwise(KvEq(), test_values));\n }\n \n-TEST_F(CoordinationServiceAgentTest, ShutdownInErrorShouldReturnError) {\n-  // Connect coordination agent and set it to error.\n-  InitializeAgent();\n-  TF_ASSERT_OK(agent_->Connect());\n-  TF_ASSERT_OK(agent_->ReportError(absl::InternalError(\"Test Error.\")));\n-\n-  // Shutdown should return error.\n-  absl::Status s = agent_->Shutdown();\n-\n-  EXPECT_TRUE(absl::IsFailedPrecondition(s));\n-}\n-\n TEST_F(CoordinationServiceAgentTest, Reset_ConnectedButNotInError_Fail) {\n   // Connect agent.\n   InitializeAgent();\n@@ -434,18 +410,6 @@ TEST_F(CoordinationServiceAgentTest, Reset_ConnectedButNotInError_Fail) {\n   EXPECT_TRUE(absl::IsFailedPrecondition(status));\n }\n \n-TEST_F(CoordinationServiceAgentTest, ConnectAfterResetError) {\n-  // Connect coordination agent and set it to error.\n-  InitializeAgent();\n-  TF_ASSERT_OK(agent_->Connect());\n-  TF_ASSERT_OK(agent_->ReportError(absl::InternalError(\"Test Error.\")));\n-\n-  // Reset error.\n-  TF_ASSERT_OK(agent_->Reset());\n-  // Agent should be able to reconnect to the service after resetting.\n-  TF_EXPECT_OK(agent_->Connect());\n-}\n-\n TEST_F(CoordinationServiceAgentTest, ConnectAfterReset_WithErrorPolling) {\n   // Connect coordination agent and set it to error.\n   PollForErrorResponse mocked_response;\n@@ -527,26 +491,6 @@ TEST_F(CoordinationServiceAgentTest,\n   ASSERT_TRUE(agent_->IsError());\n }\n \n-TEST_F(CoordinationServiceAgentTest, ResetCanBeRetried) {\n-  // Mock reset error failing for the first time.\n-  EXPECT_CALL(*GetClient(), ResetTaskAsync(_, _, _))\n-      .WillOnce(InvokeArgument<2>(absl::InternalError(\"Reset error\")))\n-      .WillOnce(InvokeArgument<2>(absl::OkStatus()));\n-  // Connect coordination agent and set it to error.\n-  InitializeAgent();\n-  TF_ASSERT_OK(agent_->Connect());\n-  TF_ASSERT_OK(agent_->ReportError(absl::InternalError(\"Test Error.\")));\n-\n-  // Reset error fails for the first time.\n-  absl::Status reset_status = agent_->Reset();\n-  EXPECT_TRUE(absl::IsInternal(reset_status));\n-\n-  // Agent should be able to attempt resetting again.\n-  TF_ASSERT_OK(agent_->Reset());\n-  // Agent should be able to reconnect to the service after resetting.\n-  TF_EXPECT_OK(agent_->Connect());\n-}\n-\n TEST_F(CoordinationServiceAgentTest, GetOwnTask) {\n   InitializeAgent();\n "
        },
        {
            "sha": "2382aed192e7092d1a7992afab51c24bbc394056",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/coordination_service_rpc_handler.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 40,
            "changes": 40,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_rpc_handler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_rpc_handler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_rpc_handler.cc?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -136,46 +136,6 @@ void CoordinationServiceRpcHandler::ResetTaskAsync(\n   done(service_->ResetTask(request->source_task()));\n }\n \n-void CoordinationServiceRpcHandler::ReportErrorToTaskAsync(\n-    const tensorflow::ReportErrorToTaskRequest* request,\n-    tensorflow::ReportErrorToTaskResponse* response, tsl::StatusCallback done) {\n-  absl::ReaderMutexLock l(mu_);\n-  if (agent_ == nullptr) {\n-    done(MakeCoordinationError(absl::InternalError(\n-        \"CoordinationServiceAgent is uninitialized or has already shutdown.\")));\n-    return;\n-  }\n-  const CoordinationServiceError& error_payload = request->error_payload();\n-  absl::Status error(\n-      static_cast<absl::StatusCode>(request->error_code()),\n-      absl::StrCat(\n-          \"Error reported from /job:\", error_payload.source_task().job_name(),\n-          \"/task:\", error_payload.source_task().task_id(), \": \",\n-          request->error_message()));\n-  error = MakeCoordinationError(error, error_payload);\n-  agent_->SetError(error);\n-  done(absl::OkStatus());\n-}\n-\n-void CoordinationServiceRpcHandler::ReportErrorToServiceAsync(\n-    const tensorflow::ReportErrorToServiceRequest* request,\n-    tensorflow::ReportErrorToServiceResponse* response,\n-    tsl::StatusCallback done) {\n-  absl::ReaderMutexLock l(mu_);\n-  if (service_ == nullptr) {\n-    done(MakeCoordinationError(\n-        absl::InternalError(\"Coordination service is not enabled.\")));\n-    return;\n-  }\n-  done(service_->ReportTaskError(\n-      request->error_origin(),\n-      MakeCoordinationError(\n-          absl::Status{static_cast<absl::StatusCode>(request->error_code()),\n-                       request->error_message()},\n-          request->error_origin(),\n-          /*is_reported_error=*/true)));\n-}\n-\n void CoordinationServiceRpcHandler::GetTaskStateAsync(\n     const tensorflow::GetTaskStateRequest* request,\n     tensorflow::GetTaskStateResponse* response, tsl::StatusCallback done) {"
        },
        {
            "sha": "432db619703bbecbb4bf42a2087892195f757615",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/coordination_service_rpc_handler.h",
            "status": "modified",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_rpc_handler.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_rpc_handler.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_rpc_handler.h?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -52,16 +52,6 @@ class CoordinationServiceRpcHandler {\n                       tensorflow::ResetTaskResponse* response,\n                       tsl::StatusCallback done);\n \n-  void ReportErrorToTaskAsync(\n-      const tensorflow::ReportErrorToTaskRequest* request,\n-      tensorflow::ReportErrorToTaskResponse* response,\n-      tsl::StatusCallback done);\n-\n-  void ReportErrorToServiceAsync(\n-      const tensorflow::ReportErrorToServiceRequest* request,\n-      tensorflow::ReportErrorToServiceResponse* response,\n-      tsl::StatusCallback done);\n-\n   void GetTaskStateAsync(const tensorflow::GetTaskStateRequest* request,\n                          tensorflow::GetTaskStateResponse* response,\n                          tsl::StatusCallback done);"
        },
        {
            "sha": "5c2fdccbc7f9a8cf040e6b5da245760eaf79ed63",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/coordination_service_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fcoordination_service_test.cc?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -103,16 +103,6 @@ class TestCoordinationClient : public CoordinationClient {\n     done(absl::OkStatus());\n   }\n \n-  void ReportErrorToTaskAsync(tsl::CallOptions* call_opts,\n-                              const ReportErrorToTaskRequest* request,\n-                              ReportErrorToTaskResponse* response,\n-                              tsl::StatusCallback done) override {\n-    absl::MutexLock l(mu_);\n-    status_ = absl::Status(static_cast<absl::StatusCode>(request->error_code()),\n-                           request->error_message());\n-    done(absl::OkStatus());\n-  }\n-\n #define UNIMPLEMENTED(method)                                              \\\n   void method##Async(const method##Request* request,                       \\\n                      method##Response* response, tsl::StatusCallback done) \\\n@@ -122,7 +112,6 @@ class TestCoordinationClient : public CoordinationClient {\n \n   UNIMPLEMENTED(WaitForAllTasks);\n   UNIMPLEMENTED(ResetTask);\n-  UNIMPLEMENTED(ReportErrorToService);\n   UNIMPLEMENTED(GetTaskState);\n   UNIMPLEMENTED(InsertKeyValue);\n   UNIMPLEMENTED(TryGetKeyValue);"
        },
        {
            "sha": "e6be2a6efde08757da5a99f617cac104161c4a96",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/grpc_coordination_client.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 25,
            "changes": 25,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_client.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_client.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_client.cc?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -65,10 +65,6 @@ using tensorflow::PollForErrorRequest;\n using tensorflow::PollForErrorResponse;\n using tensorflow::RegisterTaskRequest;\n using tensorflow::RegisterTaskResponse;\n-using tensorflow::ReportErrorToServiceRequest;\n-using tensorflow::ReportErrorToServiceResponse;\n-using tensorflow::ReportErrorToTaskRequest;\n-using tensorflow::ReportErrorToTaskResponse;\n using tensorflow::ResetTaskRequest;\n using tensorflow::ResetTaskResponse;\n using tensorflow::ShutdownTaskRequest;\n@@ -178,27 +174,6 @@ class GrpcCoordinationClient : public CoordinationClient {\n         /*fail_fast=*/true, &target_);\n   }\n \n-  void ReportErrorToTaskAsync(tsl::CallOptions* call_opts,\n-                              const ReportErrorToTaskRequest* request,\n-                              ReportErrorToTaskResponse* response,\n-                              tsl::StatusCallback done) override {\n-    new tsl::RPCState<tsl::protobuf::Message>(\n-        &stub_, cq_, \"/tensorflow.CoordinationService/ReportErrorToTask\",\n-        *request, response, std::move(done), call_opts,\n-        /*threadpool=*/nullptr, /*max_retries=*/0, /*fail_fast=*/true,\n-        &target_);\n-  }\n-\n-  void ReportErrorToServiceAsync(const ReportErrorToServiceRequest* request,\n-                                 ReportErrorToServiceResponse* response,\n-                                 tsl::StatusCallback done) override {\n-    new tsl::RPCState<tsl::protobuf::Message>(\n-        &stub_, cq_, \"/tensorflow.CoordinationService/ReportErrorToService\",\n-        *request, response, std::move(done), /*call_opts=*/nullptr,\n-        /*threadpool=*/nullptr, /*max_retries=*/0, /*fail_fast=*/true,\n-        &target_);\n-  }\n-\n   void GetTaskStateAsync(const GetTaskStateRequest* request,\n                          GetTaskStateResponse* response,\n                          tsl::StatusCallback done) override {"
        },
        {
            "sha": "a9a8d614a3b207dff69e512303d4f733666276ea",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/grpc_coordination_service_impl.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_service_impl.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_service_impl.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_service_impl.cc?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -48,8 +48,6 @@ void GrpcCoordinationServiceImpl::HandleRPCsLoop() {\n   ENQUEUE_REQUEST(ShutdownTask);\n   ENQUEUE_REQUEST(ResetTask);\n   ENQUEUE_REQUEST(Heartbeat);\n-  ENQUEUE_REQUEST(ReportErrorToTask);\n-  ENQUEUE_REQUEST(ReportErrorToService);\n   ENQUEUE_REQUEST(GetTaskState);\n   ENQUEUE_REQUEST(WatchJobState);\n   ENQUEUE_REQUEST(InsertKeyValue);"
        },
        {
            "sha": "5dc9a46d56d743217abf4403910762b6b2331c40",
            "filename": "third_party/xla/xla/pjrt/distributed/coordination/grpc_coordination_service_impl.h",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_service_impl.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b788805f73714d15b6f5fb850ec60be6e8cf1a24/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_service_impl.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fcoordination%2Fgrpc_coordination_service_impl.h?ref=b788805f73714d15b6f5fb850ec60be6e8cf1a24",
            "patch": "@@ -89,8 +89,6 @@ class GrpcCoordinationServiceImpl : public tsl::AsyncServiceInterface {\n   HANDLER(ShutdownTask);\n   HANDLER(ResetTask);\n   HANDLER(Heartbeat);\n-  HANDLER(ReportErrorToTask);\n-  HANDLER(ReportErrorToService);\n   HANDLER(GetTaskState);\n   HANDLER(WatchJobState);\n   HANDLER(InsertKeyValue);"
        }
    ],
    "stats": {
        "total": 205,
        "additions": 2,
        "deletions": 203
    }
}