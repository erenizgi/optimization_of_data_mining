{
    "author": "tensorflower-gardener",
    "message": "Reverts bec8916f3241b0bbe1a14fbe7cd2e4b085cace28\n\nPiperOrigin-RevId: 826722506",
    "sha": "4618f903c401ab54fa07828d9e9e78380a75ac77",
    "files": [
        {
            "sha": "ea52de241020bc49106b8ccd26541368d161cbf1",
            "filename": "third_party/xla/xla/service/reduce_scatter_decomposer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4618f903c401ab54fa07828d9e9e78380a75ac77/third_party%2Fxla%2Fxla%2Fservice%2Freduce_scatter_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4618f903c401ab54fa07828d9e9e78380a75ac77/third_party%2Fxla%2Fxla%2Fservice%2Freduce_scatter_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Freduce_scatter_decomposer.h?ref=4618f903c401ab54fa07828d9e9e78380a75ac77",
            "patch": "@@ -19,7 +19,6 @@ limitations under the License.\n #include <functional>\n \n #include \"absl/status/statusor.h\"\n-#include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/hlo/ir/hlo_module.h\"\n #include \"xla/hlo/pass/hlo_pass_interface.h\"\n \n@@ -31,8 +30,7 @@ class ReduceScatterDecomposer : public HloModulePass {\n  public:\n   explicit ReduceScatterDecomposer(\n       std::function<void(Shape&)> update_layout = nullptr,\n-      std::function<bool(HloReduceScatterInstruction*)> should_decompose =\n-          nullptr)\n+      std::function<bool(const HloInstruction*)> should_decompose = nullptr)\n       : update_layout_(update_layout), should_decompose_(should_decompose) {}\n   absl::string_view name() const override {\n     return \"reduce-scatter-decomposer\";\n@@ -43,7 +41,7 @@ class ReduceScatterDecomposer : public HloModulePass {\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n   std::function<void(Shape&)> update_layout_;\n-  std::function<bool(HloReduceScatterInstruction*)> should_decompose_;\n+  std::function<bool(const HloInstruction*)> should_decompose_;\n };\n \n }  // namespace xla"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 2,
        "deletions": 4
    }
}