{
    "author": "chsigg",
    "message": "NFC: Remove unused function and simplify return.\n\nThis change removes the unused `GetDotCount` function and simplifies the return statement in `NestGemmFusion::Run`.\n\nPiperOrigin-RevId: 829397215",
    "sha": "54c7505360915a1defc0b6993729b6af722fb0da",
    "files": [
        {
            "sha": "aa38a60ed236253ca34037cc0ec2b4e8d016ef5a",
            "filename": "third_party/xla/xla/service/gpu/transforms/nest_gemm_fusion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 8,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/54c7505360915a1defc0b6993729b6af722fb0da/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fnest_gemm_fusion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/54c7505360915a1defc0b6993729b6af722fb0da/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fnest_gemm_fusion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fnest_gemm_fusion.cc?ref=54c7505360915a1defc0b6993729b6af722fb0da",
            "patch": "@@ -337,11 +337,6 @@ absl::Status MakeNestedFusionFromGemmFusion(\n   return absl::OkStatus();\n }\n \n-size_t GetDotCount(HloComputation* computation) {\n-  return absl::c_count_if(computation->instructions(),\n-                          HloPredicateIsOp<HloOpcode::kDot>);\n-}\n-\n using HloInstructionSetVector =\n     llvm::SetVector<HloInstruction*, std::vector<HloInstruction*>,\n                     HloInstructionSet>;\n@@ -1340,9 +1335,7 @@ absl::StatusOr<bool> NestGemmFusion::RunImpl(\n     VLOG(1) << \"Generic Triton emitter for gemms is disabled, exiting\";\n     return false;\n   }\n-\n-  TF_ASSIGN_OR_RETURN(bool result, RunOnModule(module, execution_threads));\n-  return result;\n+  return RunOnModule(module, execution_threads);\n }\n \n namespace detail {"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 1,
        "deletions": 8
    }
}