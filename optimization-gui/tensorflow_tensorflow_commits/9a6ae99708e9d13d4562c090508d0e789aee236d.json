{
    "author": "alekstheod",
    "message": "PR #35138: [ROCm] Fix rocm build due to inverted condition\n\nImported from GitHub PR https://github.com/openxla/xla/pull/35138\n\nüìù Summary of Changes\nLooks there is invalid check introduced in this commit:\nhttps://github.com/openxla/xla/commit/349a1d4e00cf33dbabd1db5771d03b0c5a4aea61\n<img width=\"1012\" height=\"175\" alt=\"image\" src=\"https://github.com/user-attachments/assets/03ead4ea-b5ab-40f5-9af2-17d85e402cd0\" />\n\nüéØ Justification\nThis commit breaks all the rocm tests, we start getting ir code for nvidia gpus.\nInverting the check fixes them.\n\nüöÄ Kind of Contribution\nüêõ Bug Fix\n\nüìä Benchmark (for Performance Improvements)\nNot relevant\n\nüß™ Unit Tests:\nAll rocm u-tests\n\nüß™ Execution Tests:\nCI\n\nCopybara import of the project:\n\n--\n5e4a09ec7140e6e4b20c94ac71789e4b67f96c09 by Alexandros Theodoridis <atheodor@amd.com>:\n\nFix rocm build due to inverted condition\n\nMerging this change closes #35138\n\nPiperOrigin-RevId: 843183609",
    "sha": "9a6ae99708e9d13d4562c090508d0e789aee236d",
    "files": [
        {
            "sha": "3c22e505ff63ef02c383470f21b5a07d96afe262",
            "filename": "third_party/xla/xla/codegen/emitters/transforms/lower_to_llvm_gpu.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9a6ae99708e9d13d4562c090508d0e789aee236d/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftransforms%2Flower_to_llvm_gpu.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9a6ae99708e9d13d4562c090508d0e789aee236d/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftransforms%2Flower_to_llvm_gpu.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftransforms%2Flower_to_llvm_gpu.cc?ref=9a6ae99708e9d13d4562c090508d0e789aee236d",
            "patch": "@@ -77,7 +77,7 @@ class LowerToLLVMGPUPass\n       : device_spec_(device_description) {}\n \n   void runOnOperation() override {\n-    if (gpu_device_info_.empty()) {\n+    if (!gpu_device_info_.empty()) {\n       se::GpuDeviceInfoProto device_info;\n       CHECK(tsl::protobuf::TextFormat::ParseFromString(gpu_device_info_,\n                                                        &device_info));"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}