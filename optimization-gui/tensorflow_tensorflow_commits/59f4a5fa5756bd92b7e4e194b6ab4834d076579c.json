{
    "author": "yuriivcs",
    "message": "Bump rules_ml_toolchain to the latest version before OpenMP updates for hermetic builds on Linux aarch64.\n\nPiperOrigin-RevId: 840299681",
    "sha": "59f4a5fa5756bd92b7e4e194b6ab4834d076579c",
    "files": [
        {
            "sha": "0fc24cb3edd116bc1d6092a8d155ff7a1fc44837",
            "filename": "WORKSPACE",
            "status": "modified",
            "additions": 28,
            "deletions": 15,
            "changes": 43,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/59f4a5fa5756bd92b7e4e194b6ab4834d076579c/WORKSPACE",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/59f4a5fa5756bd92b7e4e194b6ab4834d076579c/WORKSPACE",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/WORKSPACE?ref=59f4a5fa5756bd92b7e4e194b6ab4834d076579c",
            "patch": "@@ -13,6 +13,34 @@ http_archive(\n     url = \"https://github.com/bazelbuild/rules_shell/releases/download/v0.4.1/rules_shell-v0.4.1.tar.gz\",\n )\n \n+# Initialize toolchains for ML projects.\n+#\n+# A hermetic build system is designed to produce completely reproducible builds for C++.\n+# Details: https://github.com/google-ml-infra/rules_ml_toolchain\n+http_archive(\n+    name = \"rules_ml_toolchain\",\n+    sha256 = \"7f00b3e94bbca1a4737ded6b9ed5358f6d1c86430c2ec97c90081343c0482f18\",\n+    strip_prefix = \"rules_ml_toolchain-29d54c875da37e74b8548924ed30e78cb28126b9\",\n+    urls = [\n+        \"https://github.com/yuriivcs/rules_ml_toolchain/archive/29d54c875da37e74b8548924ed30e78cb28126b9.tar.gz\",\n+    ],\n+)\n+\n+load(\n+    \"@rules_ml_toolchain//cc/deps:cc_toolchain_deps.bzl\",\n+    \"cc_toolchain_deps\",\n+)\n+\n+cc_toolchain_deps()\n+\n+register_toolchains(\"@rules_ml_toolchain//cc:linux_x86_64_linux_x86_64\")\n+\n+register_toolchains(\"@rules_ml_toolchain//cc:linux_x86_64_linux_x86_64_cuda\")\n+\n+register_toolchains(\"@rules_ml_toolchain//cc:linux_aarch64_linux_aarch64\")\n+\n+register_toolchains(\"@rules_ml_toolchain//cc:linux_aarch64_linux_aarch64_cuda\")\n+\n # Initialize the TensorFlow repository and all dependencies.\n #\n # The cascade of load() statements and tf_workspace?() calls works around the\n@@ -91,21 +119,6 @@ nvidia_wheel_versions_repository(\n \n python_wheel_version_suffix_repository(name = \"tf_wheel_version_suffix\")\n \n-load(\n-    \"@rules_ml_toolchain//cc/deps:cc_toolchain_deps.bzl\",\n-    \"cc_toolchain_deps\",\n-)\n-\n-cc_toolchain_deps()\n-\n-register_toolchains(\"@rules_ml_toolchain//cc:linux_x86_64_linux_x86_64\")\n-\n-register_toolchains(\"@rules_ml_toolchain//cc:linux_x86_64_linux_x86_64_cuda\")\n-\n-register_toolchains(\"@rules_ml_toolchain//cc:linux_aarch64_linux_aarch64\")\n-\n-register_toolchains(\"@rules_ml_toolchain//cc:linux_aarch64_linux_aarch64_cuda\")\n-\n load(\n     \"@rules_ml_toolchain//third_party/gpus/cuda/hermetic:cuda_json_init_repository.bzl\",\n     \"cuda_json_init_repository\","
        }
    ],
    "stats": {
        "total": 43,
        "additions": 28,
        "deletions": 15
    }
}