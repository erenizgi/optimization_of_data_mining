{
    "author": "ezhulenev",
    "message": "[xla] Migrate to PjRtFuture<>::MakePromise() API\n\nPiperOrigin-RevId: 806436801",
    "sha": "eaaedb0c2e3211f3253c6de5368cddcf5eceb42f",
    "files": [
        {
            "sha": "80670f4483a7e8d8c545a987f197f37fc78c6bba",
            "filename": "third_party/xla/xla/python/transfer/streaming.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/eaaedb0c2e3211f3253c6de5368cddcf5eceb42f/third_party%2Fxla%2Fxla%2Fpython%2Ftransfer%2Fstreaming.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/eaaedb0c2e3211f3253c6de5368cddcf5eceb42f/third_party%2Fxla%2Fxla%2Fpython%2Ftransfer%2Fstreaming.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Ftransfer%2Fstreaming.cc?ref=eaaedb0c2e3211f3253c6de5368cddcf5eceb42f",
            "patch": "@@ -83,10 +83,10 @@ class StringFutureChunkDestination : public aux::ChunkDestination {\n \n std::pair<xla::PjRtFuture<std::string>, tsl::RCReference<ChunkDestination>>\n ChunkDestination::MakeStringDest() {\n-  auto promise = xla::PjRtFuture<std::string>::CreatePromise();\n-  auto result = xla::PjRtFuture<std::string>(promise);\n+  auto [promise, result] = xla::PjRtFuture<std::string>::MakePromise();\n   return std::make_pair(\n-      result, tsl::MakeRef<StringFutureChunkDestination>(std::move(promise)));\n+      std::move(result),\n+      tsl::MakeRef<StringFutureChunkDestination>(std::move(promise)));\n }\n \n class LocalBulkTransport : public BulkTransportInterface {"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}