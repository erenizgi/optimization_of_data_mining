{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 828878320",
    "sha": "c327655db5c9fd93e82d417540141f3c3df8dbd3",
    "files": [
        {
            "sha": "6a78c6668d9643a20acbcd3343ace162cd7e59b6",
            "filename": "tensorflow/python/util/kernel_registry.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Fkernel_registry.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Fkernel_registry.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Futil%2Fkernel_registry.cc?ref=c327655db5c9fd93e82d417540141f3c3df8dbd3",
            "patch": "@@ -27,7 +27,7 @@ limitations under the License.\n namespace tensorflow {\n namespace swig {\n \n-string TryFindKernelClass(const string& serialized_node_def) {\n+std::string TryFindKernelClass(const std::string& serialized_node_def) {\n   tensorflow::NodeDef node_def;\n   if (!node_def.ParseFromString(serialized_node_def)) {\n     LOG(WARNING) << \"Error parsing node_def\";\n@@ -50,7 +50,7 @@ string TryFindKernelClass(const string& serialized_node_def) {\n                  << node_def.ShortDebugString();\n     return \"\";\n   }\n-  string class_name = \"\";\n+  std::string class_name = \"\";\n   status = tensorflow::FindKernelDef(\n       tensorflow::DeviceType(parsed_name.type.c_str()), node_def,\n       nullptr /* kernel_def */, &class_name);"
        },
        {
            "sha": "ea64df7de46d8bbda1dcd867ed7150153c1e4bba",
            "filename": "tensorflow/python/util/kernel_registry.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Fkernel_registry.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Fkernel_registry.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Futil%2Fkernel_registry.h?ref=c327655db5c9fd93e82d417540141f3c3df8dbd3",
            "patch": "@@ -26,7 +26,7 @@ namespace swig {\n // Returns the kernel class name required to execute <node_def> on the device\n // type of <node_def.device>, or an empty string if the kernel class is not\n // found or the device name is invalid.\n-string TryFindKernelClass(const string& serialized_node_def);\n+std::string TryFindKernelClass(const std::string& serialized_node_def);\n \n }  // namespace swig\n }  // namespace tensorflow"
        },
        {
            "sha": "c73ff67fc8531715580e8eb1c4ede6fb14b810ba",
            "filename": "tensorflow/python/util/py_checkpoint_reader_wrapper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Fpy_checkpoint_reader_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Fpy_checkpoint_reader_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Futil%2Fpy_checkpoint_reader_wrapper.cc?ref=c327655db5c9fd93e82d417540141f3c3df8dbd3",
            "patch": "@@ -101,7 +101,7 @@ struct type_caster<tensorflow::DataType> {\n namespace tensorflow {\n \n static py::object CheckpointReader_GetTensor(\n-    tensorflow::checkpoint::CheckpointReader* reader, const string& name) {\n+    tensorflow::checkpoint::CheckpointReader* reader, const std::string& name) {\n   Safe_TF_StatusPtr status = make_safe(TF_NewStatus());\n   PyObject* py_obj = Py_None;\n   std::unique_ptr<tensorflow::Tensor> tensor;"
        },
        {
            "sha": "892d087c647115b4cb3ac0d2bfbaa01204dffba8",
            "filename": "tensorflow/python/util/transform_graph_wrapper.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Ftransform_graph_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Ftransform_graph_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Futil%2Ftransform_graph_wrapper.cc?ref=c327655db5c9fd93e82d417540141f3c3df8dbd3",
            "patch": "@@ -30,10 +30,10 @@ namespace py = pybind11;\n \n namespace tensorflow {\n \n-string TransformGraphWithStringInputs(string graph_def_string,\n-                                      string inputs_string,\n-                                      string outputs_string,\n-                                      string transforms_string) {\n+std::string TransformGraphWithStringInputs(std::string graph_def_string,\n+                                           std::string inputs_string,\n+                                           std::string outputs_string,\n+                                           std::string transforms_string) {\n   GraphDef graph_def;\n   if (!graph_def.ParseFromString(graph_def_string)) {\n     MaybeRaiseFromStatus(\n@@ -46,15 +46,15 @@ string TransformGraphWithStringInputs(string graph_def_string,\n   if (!parse_status.ok()) {\n     MaybeRaiseFromStatus(parse_status);\n   }\n-  std::vector<string> inputs = str_util::Split(inputs_string, ',');\n-  std::vector<string> outputs = str_util::Split(outputs_string, ',');\n+  std::vector<std::string> inputs = str_util::Split(inputs_string, ',');\n+  std::vector<std::string> outputs = str_util::Split(outputs_string, ',');\n \n   absl::Status transform_status = graph_transforms::TransformGraph(\n       inputs, outputs, params_list, &graph_def);\n   if (!transform_status.ok()) {\n     MaybeRaiseFromStatus(transform_status);\n   }\n-  string result;\n+  std::string result;\n   if (!graph_def.SerializeToString(&result)) {\n     MaybeRaiseFromStatus(\n         errors::InvalidArgument(\"Couldn't serialize output as a GraphDef\"));"
        },
        {
            "sha": "5b767f43cdd66f6edce6d14723dc931916a3c026",
            "filename": "tensorflow/python/util/util.cc",
            "status": "modified",
            "additions": 15,
            "deletions": 14,
            "changes": 29,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Futil.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c327655db5c9fd93e82d417540141f3c3df8dbd3/tensorflow%2Fpython%2Futil%2Futil.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Futil%2Futil.cc?ref=c327655db5c9fd93e82d417540141f3c3df8dbd3",
            "patch": "@@ -54,15 +54,15 @@ constexpr const char VARIABLES_MODULE[] =\n     \"tensorflow.python.ops.variables\";\n constexpr const char CORE_TYPES_MODULE[] =\n     \"tensorflow.python.types.core\";\n-string PyObjectToString(PyObject* o);\n+std::string PyObjectToString(PyObject* o);\n }  // namespace\n \n-std::unordered_map<string, PyObject*>* RegisteredPyObjectMap() {\n-  static auto* m = new std::unordered_map<string, PyObject*>();\n+std::unordered_map<std::string, PyObject*>* RegisteredPyObjectMap() {\n+  static auto* m = new std::unordered_map<std::string, PyObject*>();\n   return m;\n }\n \n-PyObject* GetRegisteredPyObject(const string& name) {\n+PyObject* GetRegisteredPyObject(const std::string& name) {\n   const auto* m = RegisteredPyObjectMap();\n   auto it = m->find(name);\n   if (it == m->end()) {\n@@ -75,7 +75,7 @@ PyObject* GetRegisteredPyObject(const string& name) {\n }\n \n PyObject* RegisterPyObject(PyObject* name, PyObject* value) {\n-  string key;\n+  std::string key;\n   if (PyBytes_Check(name)) {\n     key = PyBytes_AsString(name);\n #if PY_MAJOR_VERSION >= 3\n@@ -136,7 +136,7 @@ absl::string_view GetClassName(PyObject* o) {\n   return name;\n }\n \n-string PyObjectToString(PyObject* o) {\n+std::string PyObjectToString(PyObject* o) {\n   if (o == nullptr) {\n     return \"<null object>\";\n   }\n@@ -145,7 +145,7 @@ string PyObjectToString(PyObject* o) {\n #if PY_MAJOR_VERSION < 3\n     string s(PyString_AS_STRING(str));\n #else\n-    string s(PyUnicode_AsUTF8(str));\n+    std::string s(PyUnicode_AsUTF8(str));\n #endif\n     Py_DECREF(str);\n     return absl::StrCat(\"type=\", GetClassName(o), \" str=\", s);\n@@ -787,8 +787,8 @@ bool FlattenHelper(\n \n // Sets error using keys of 'dict1' and 'dict2'.\n // 'dict1' and 'dict2' are assumed to be Python dictionaries.\n-void SetDifferentKeysError(PyObject* dict1, PyObject* dict2, string* error_msg,\n-                           bool* is_type_error) {\n+void SetDifferentKeysError(PyObject* dict1, PyObject* dict2,\n+                           std::string* error_msg, bool* is_type_error) {\n   Safe_PyObjectPtr k1(MappingKeys(dict1));\n   if (PyErr_Occurred() || k1.get() == nullptr) {\n     *error_msg =\n@@ -822,7 +822,7 @@ void SetDifferentKeysError(PyObject* dict1, PyObject* dict2, string* error_msg,\n // with appropriate error and sets `is_type_error` to true iff\n // the error to be raised should be TypeError.\n bool AssertSameStructureHelper(\n-    PyObject* o1, PyObject* o2, bool check_types, string* error_msg,\n+    PyObject* o1, PyObject* o2, bool check_types, std::string* error_msg,\n     bool* is_type_error, const std::function<int(PyObject*)>& is_nested_helper,\n     const std::function<ValueIteratorPtr(PyObject*)>& value_iterator_getter,\n     bool check_composite_tensor_type_spec) {\n@@ -832,8 +832,9 @@ bool AssertSameStructureHelper(\n   const bool is_nested2 = is_nested_helper(o2);\n   if (PyErr_Occurred()) return false;\n   if (is_nested1 != is_nested2) {\n-    string seq_str = is_nested1 ? PyObjectToString(o1) : PyObjectToString(o2);\n-    string non_seq_str =\n+    std::string seq_str =\n+        is_nested1 ? PyObjectToString(o1) : PyObjectToString(o2);\n+    std::string non_seq_str =\n         is_nested1 ? PyObjectToString(o2) : PyObjectToString(o1);\n     *is_type_error = false;\n     *error_msg = tensorflow::strings::StrCat(\n@@ -1200,7 +1201,7 @@ PyObject* AssertSameStructure(PyObject* o1, PyObject* o2, bool check_types,\n   const std::function<ValueIteratorPtr(PyObject*)>& get_value_iterator =\n       expand_composites ? GetValueIteratorForComposite : GetValueIterator;\n   const bool check_composite_tensor_type_spec = expand_composites;\n-  string error_msg;\n+  std::string error_msg;\n   bool is_type_error = false;\n   AssertSameStructureHelper(o1, o2, check_types, &error_msg, &is_type_error,\n                             is_nested_helper, get_value_iterator,\n@@ -1225,7 +1226,7 @@ PyObject* AssertSameStructure(PyObject* o1, PyObject* o2, bool check_types,\n \n PyObject* AssertSameStructureForData(PyObject* o1, PyObject* o2,\n                                      bool check_types) {\n-  string error_msg;\n+  std::string error_msg;\n   bool is_type_error = false;\n   AssertSameStructureHelper(o1, o2, check_types, &error_msg, &is_type_error,\n                             IsNestedForDataHelper, GetValueIterator, false);"
        }
    ],
    "stats": {
        "total": 51,
        "additions": 26,
        "deletions": 25
    }
}