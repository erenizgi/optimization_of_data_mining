{
    "author": "Moerafaat",
    "message": "[XLA:GPU] Enable chlo.acos -> kAcos HloInstruction lowering.\n\nPiperOrigin-RevId: 809999474",
    "sha": "8effa1ae55260429f09d33bf5abdc5df44d3ce54",
    "files": [
        {
            "sha": "75c3adab8b2caf211f52906e74b1042cedc54976",
            "filename": "third_party/xla/docs/operation_semantics.md",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fdocs%2Foperation_semantics.md",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fdocs%2Foperation_semantics.md",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fdocs%2Foperation_semantics.md?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -1593,6 +1593,8 @@ XlaBuilder supports these element-wise unary functions:\n \n <b>`Acosh(operand)`</b> Element-wise inverse hyperbolic cosine `x -> acosh(x)`.\n \n+<b>`ACos(operand)`</b> Element-wise arc cosine `x -> acos(x)`.\n+\n <b>`Erf(operand)`</b> Element-wise error function `x -> erf(x)` where\n \n $$\\text{erf}(x) = \\frac{2}{\\sqrt{\\pi}}\\int_0^x e^{-t^2} \\, dt$$.\n@@ -1672,6 +1674,8 @@ cbrt(x)`.\n <b>`Acosh(operand, result_accuracy)`</b> Element-wise inverse hyperbolic cosine\n `x -> acosh(x)`.\n \n+<b>`ACos(operand, result_accuracy)`</b> Element-wise arc cosine `x -> acos(x)`.\n+\n <b>`Erf(operand, result_accuracy)`</b> Element-wise error function `x -> erf(x)`\n where\n "
        },
        {
            "sha": "c0206ada007fcf090ffb2d2a2bb0426f3daef35c",
            "filename": "third_party/xla/xla/backends/gpu/codegen/emitters/transforms/optimize_loops.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Femitters%2Ftransforms%2Foptimize_loops.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Femitters%2Ftransforms%2Foptimize_loops.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Femitters%2Ftransforms%2Foptimize_loops.cc?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -47,8 +47,8 @@ namespace gpu {\n namespace {\n \n bool IsExpensiveToUnroll(mlir::Operation* op) {\n-  return mlir::isa<mlir::func::CallOp, mlir::scf::ForOp, mlir::math::AcoshOp>(\n-      op);\n+  return mlir::isa<mlir::func::CallOp, mlir::scf::ForOp, mlir::math::AcoshOp,\n+                   mlir::math::AcosOp>(op);\n }\n \n int GetUnrollingFactor(mlir::scf::ForOp op) {"
        },
        {
            "sha": "d868664fc5657ca131d4ec2ab54d8767b4efacc6",
            "filename": "third_party/xla/xla/hlo/builder/lib/math.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Flib%2Fmath.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Flib%2Fmath.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Flib%2Fmath.cc?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -1164,7 +1164,11 @@ XlaOp RoundToEven(XlaOp x) {\n //           pi                                if x == -1\n // For complex:\n // acos(x) = -(i * log(x + i * sqrt((1 + x) * (1 - x))))\n-XlaOp Acos(XlaOp x) {\n+XlaOp Acos(XlaOp x, const std::optional<ResultAccuracy>& result_accuracy,\n+           bool expand) {\n+  if (!expand) {\n+    return x.builder()->UnaryOp(HloOpcode::kAcos, x, result_accuracy);\n+  }\n   XlaBuilder* b = x.builder();\n   return b->ReportErrorOrReturn([&]() -> absl::StatusOr<XlaOp> {\n     TF_ASSIGN_OR_RETURN(auto shape, b->GetShape(x));"
        },
        {
            "sha": "54ab54395c028df61d5b8629e9e7923ca6ca4f12",
            "filename": "third_party/xla/xla/hlo/builder/lib/math.h",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Flib%2Fmath.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Flib%2Fmath.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Flib%2Fmath.h?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -84,7 +84,9 @@ XlaOp RoundToEven(XlaOp x);\n // Trigonometric functions\n \n // Computes the arc cosine of 'x'.\n-XlaOp Acos(XlaOp x);\n+XlaOp Acos(XlaOp x,\n+           const std::optional<ResultAccuracy>& result_accuracy = std::nullopt,\n+           bool expand = true);\n \n // Computes the arc sine of 'x'.\n XlaOp Asin(XlaOp x);"
        },
        {
            "sha": "3d7278377bd7edfd8e0c4b83d56726505dc93747",
            "filename": "third_party/xla/xla/hlo/builder/xla_builder.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Fxla_builder.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Fxla_builder.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Fxla_builder.h?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -1731,6 +1731,9 @@ class XlaBuilder {\n       absl::Span<const std::pair<int64_t, int64_t>> padding, XlaOp source,\n       XlaOp init_value, XlaComputationId scatter);\n   friend XlaOp Abs(XlaOp operand);\n+  friend XlaOp Acos(XlaOp x,\n+                    const std::optional<ResultAccuracy>& result_accuracy,\n+                    bool expand);\n   friend XlaOp Acosh(XlaOp x,\n                      const std::optional<ResultAccuracy>& result_accuracy,\n                      bool expand);"
        },
        {
            "sha": "e610f92421450c4769e0559aa2dfe8a65174d3ce",
            "filename": "third_party/xla/xla/hlo/translate/mhlo_to_hlo/gen_hlo_op_writer.td",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fgen_hlo_op_writer.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fgen_hlo_op_writer.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fgen_hlo_op_writer.td?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -197,6 +197,7 @@ defvar CustomHloConverterOps = [\n \n   // MHLO ops.\n   // go/keep-sorted start\n+  MHLO_AcosOp,\n   MHLO_AcoshOp,\n   MHLO_AddDependencyOp,\n   MHLO_AllGatherOp,"
        },
        {
            "sha": "cb7377be05bd226351300813456b2b438db0310b",
            "filename": "third_party/xla/xla/hlo/translate/mhlo_to_hlo/mlir_hlo_to_hlo.cc",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fmlir_hlo_to_hlo.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fmlir_hlo_to_hlo.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fmlir_hlo_to_hlo.cc?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -5177,6 +5177,17 @@ LogicalResult ExportXlaOp(UniformDequantizeOp op, OpLoweringContext ctx) {\n   return failure();\n }\n \n+LogicalResult ExportXlaOp(AcosOp op, OpLoweringContext ctx) {\n+  auto& value_map = *ctx.values;\n+  xla::XlaOp operand;\n+  if (failed(GetXlaOp(op.getOperand(), value_map, &operand, op))) {\n+    return failure();\n+  }\n+  value_map[op] =\n+      xla::Acos(operand, /*result_accuracy=*/std::nullopt, /*expand=*/false);\n+  return success();\n+}\n+\n LogicalResult ExportXlaOp(AcoshOp op, OpLoweringContext ctx) {\n   auto& value_map = *ctx.values;\n   xla::XlaOp operand;"
        },
        {
            "sha": "04f51dcc5516bd340b949f09f098c2d9202d0c7d",
            "filename": "third_party/xla/xla/hlo/translate/mhlo_to_hlo/tests/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Ftests%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Ftests%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Ftests%2FBUILD?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -10,6 +10,7 @@ lit_test_suite(\n     name = \"all_tests\",\n     srcs = enforce_glob(\n         [\n+            \"acos.mlir\",\n             \"acosh.mlir\",\n             \"add.mlir\",\n             \"attributes.mlir\","
        },
        {
            "sha": "608af8e2461eb88362216a1542b6f0f969384898",
            "filename": "third_party/xla/xla/hlo/translate/mhlo_to_hlo/tests/acos.mlir",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Ftests%2Facos.mlir",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Ftests%2Facos.mlir",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Ftests%2Facos.mlir?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -0,0 +1,7 @@\n+// RUN: xla-translate -mlir-hlo-to-hlo-text %s | FileCheck %s\n+\n+func.func @main(%arg0: tensor<4xf32>) -> tensor<4xf32> {\n+  // CHECK: f32[4] acos\n+  %0 = \"mhlo.acos\"(%arg0) : (tensor<4xf32>) -> tensor<4xf32>\n+  func.return %0 : tensor<4xf32>\n+}"
        },
        {
            "sha": "f5b7c3d29888fc76631f49a2d0f102df8f22ebaf",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/chlo_legalize_to_hlo/chlo_legalize_to_hlo_pass.cc",
            "status": "modified",
            "additions": 29,
            "deletions": 9,
            "changes": 38,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fchlo_legalize_to_hlo%2Fchlo_legalize_to_hlo_pass.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fchlo_legalize_to_hlo%2Fchlo_legalize_to_hlo_pass.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fchlo_legalize_to_hlo%2Fchlo_legalize_to_hlo_pass.cc?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -13,7 +13,6 @@ See the License for the specific language governing permissions and\n limitations under the License.\n ==============================================================================*/\n \n-#include <memory>\n #include <optional>\n #include <utility>\n #include <vector>\n@@ -30,7 +29,6 @@ limitations under the License.\n #include \"mlir/IR/BuiltinAttributes.h\"\n #include \"mlir/IR/BuiltinOps.h\"\n #include \"mlir/IR/BuiltinTypeInterfaces.h\"\n-#include \"mlir/IR/BuiltinTypes.h\"\n #include \"mlir/IR/MLIRContext.h\"\n #include \"mlir/IR/PatternMatch.h\"\n #include \"mlir/IR/TypeUtilities.h\"\n@@ -51,13 +49,19 @@ namespace mhlo {\n \n namespace {\n \n-ChloLegalizeToHighLevelMhloPassOptions FromPassOptions(bool enableAcosh) {\n+ChloLegalizeToHighLevelMhloPassOptions FromPassOptions(bool enableAcosh,\n+                                                       bool enableAcos) {\n   ChloLegalizeToHighLevelMhloPassOptions options;\n   options.enable_acosh_ = enableAcosh;\n+  options.enable_acos_ = enableAcos;\n   return options;\n }\n \n-bool isLegalAcosh(chlo::AcoshOp op) {\n+static bool isLegalAcosh(chlo::AcoshOp op) {\n+  return !llvm::isa<FloatType>(getElementTypeOrSelf(op.getType()));\n+}\n+\n+static bool isLegalAcos(chlo::AcosOp op) {\n   return !llvm::isa<FloatType>(getElementTypeOrSelf(op.getType()));\n }\n \n@@ -71,19 +75,23 @@ struct ChloLegalizeToHighLevelMhloPass\n             ChloLegalizeToHighLevelMhloPass>(options) {}\n \n   void runOnOperation() override {\n-    MLIRContext &context = getContext();\n+    MLIRContext& context = getContext();\n     ConversionTarget conversionTarget(context);\n     RewritePatternSet conversionPatterns(&context);\n \n-    chlo::populateChloToHighLevelMhloOpPatterns(&context, &conversionPatterns,\n-                                                FromPassOptions(enable_acosh_));\n+    chlo::populateChloToHighLevelMhloOpPatterns(\n+        &context, &conversionPatterns,\n+        FromPassOptions(enable_acosh_, enable_acos_));\n \n     // Consider the mhlo dialect legal for tests. Also add helper dialects\n     // that are needed by the patterns.\n     conversionTarget.addLegalDialect<chlo::ChloDialect, mhlo::MhloDialect>();\n     if (enable_acosh_) {\n       conversionTarget.addDynamicallyLegalOp<chlo::AcoshOp>(isLegalAcosh);\n     }\n+    if (enable_acos_) {\n+      conversionTarget.addDynamicallyLegalOp<chlo::AcosOp>(isLegalAcos);\n+    }\n     conversionTarget\n         .addIllegalOp<chlo::TopKOp, chlo::ErfOp, chlo::RaggedDotOp>();\n \n@@ -99,7 +107,7 @@ struct ChloLegalizeToHloPass\n   using ChloLegalizeToHloPassBase::ChloLegalizeToHloPassBase;\n \n   void runOnOperation() override {\n-    MLIRContext &context = getContext();\n+    MLIRContext& context = getContext();\n     ConversionTarget conversionTarget(context);\n     RewritePatternSet conversionPatterns(&context);\n \n@@ -190,6 +198,15 @@ LogicalResult convertAcoshChloToMhlo(chlo::AcoshOp op,\n   return success();\n }\n \n+LogicalResult convertAcosChloToMhlo(chlo::AcosOp op,\n+                                    PatternRewriter& rewriter) {\n+  if (mhlo::isLegalAcos(op)) {\n+    return failure();\n+  }\n+  rewriter.replaceOpWithNewOp<mhlo::AcosOp>(op, op->getOperands());\n+  return success();\n+}\n+\n }  // namespace\n \n ChloLegalizeToHighLevelMhloPassOptions getDefaultChloToHighLevelMhloOptions() {\n@@ -199,6 +216,7 @@ ChloLegalizeToHighLevelMhloPassOptions getDefaultChloToHighLevelMhloOptions() {\n ChloLegalizeToHighLevelMhloPassOptions getGpuChloToHighLevelMhloOptions() {\n   ChloLegalizeToHighLevelMhloPassOptions opts;\n   opts.enable_acosh_ = true;\n+  opts.enable_acos_ = true;\n   return opts;\n }\n \n@@ -207,7 +225,6 @@ ChloLegalizeToHighLevelMhloPassOptions getGpuChloToHighLevelMhloOptions() {\n namespace chlo {\n namespace {\n #include \"chlo_legalize_to_hlo/generated_chlo_legalize_to_hlo.inc\"\n-\n }  // namespace\n \n void populateChloToHighLevelMhloOpPatterns(\n@@ -217,6 +234,9 @@ void populateChloToHighLevelMhloOpPatterns(\n   if (options.enable_acosh_) {\n     patterns->add(mhlo::convertAcoshChloToMhlo, kBenefit);\n   }\n+  if (options.enable_acos_) {\n+    patterns->add(mhlo::convertAcosChloToMhlo, kBenefit);\n+  }\n   patterns->add(mhlo::convertRaggedDotChloToMhlo, kBenefit);\n   populateWithGenerated(*patterns);\n }"
        },
        {
            "sha": "98f40b3bc5a56fe58776d278709cd259190af16b",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/hlo_legalize_to_arithmetic/hlo_legalize_to_arithmetic.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fhlo_legalize_to_arithmetic%2Fhlo_legalize_to_arithmetic.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fhlo_legalize_to_arithmetic%2Fhlo_legalize_to_arithmetic.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fhlo_legalize_to_arithmetic%2Fhlo_legalize_to_arithmetic.cc?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -194,6 +194,7 @@ void populateScalarHloToArithmeticConversionPatterns(\n   // clang-format off\n   patterns->add<\n       ScalarHloToArithmeticPattern<mhlo::AbsOp>,\n+      ScalarHloToArithmeticPattern<mhlo::AcosOp>,\n       ScalarHloToArithmeticPattern<mhlo::AcoshOp>,\n       ScalarHloToArithmeticPattern<mhlo::AddOp>,\n       ScalarHloToArithmeticPattern<mhlo::AndOp>,"
        },
        {
            "sha": "1c99e00c58d3a04bd26c8f89d3c311c7a78bcd53",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/hlo_legalize_to_stablehlo/hlo_legalize_to_stablehlo.cc",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fhlo_legalize_to_stablehlo%2Fhlo_legalize_to_stablehlo.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fhlo_legalize_to_stablehlo%2Fhlo_legalize_to_stablehlo.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fhlo_legalize_to_stablehlo%2Fhlo_legalize_to_stablehlo.cc?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -108,7 +108,6 @@ std::optional<int64_t> getPublicFeaturesNotInStablehlo(HloOpTy hloOp) {\n     return 1;\n   }\n   // StableHLO doesn't support TopK yet.\n-  // Proposal: https://github.com/openxla/stablehlo/pull/1593\n   if constexpr (std::is_same<HloOpTy, mhlo::ErfOp>::value) {\n     // Version 1: Initial version for ErfOp.\n     return 1;\n@@ -118,6 +117,11 @@ std::optional<int64_t> getPublicFeaturesNotInStablehlo(HloOpTy hloOp) {\n     // Version 1: Initial version for AcoshOp.\n     return 1;\n   }\n+  // StableHLO doesn't support Acos yet.\n+  if constexpr (std::is_same<HloOpTy, mhlo::AcosOp>::value) {\n+    // Version 1: Initial version for AcosOp.\n+    return 1;\n+  }\n   return std::nullopt;\n }\n \n@@ -444,7 +448,8 @@ LogicalResult convertAttributes(ConversionPatternRewriter& rewriter,\n     }\n \n     // Handle DenseElements --> DenseArray for certain StableHLO ops\n-    if constexpr (!std::is_same<HloOpTy, mhlo::AcoshOp>::value &&\n+    if constexpr (!std::is_same<HloOpTy, mhlo::AcosOp>::value &&\n+                  !std::is_same<HloOpTy, mhlo::AcoshOp>::value &&\n                   !std::is_same<HloOpTy, mhlo::ErfOp>::value &&\n                   !std::is_same<HloOpTy, mhlo::TopKOp>::value) {\n       if (!stablehloAttr)\n@@ -713,8 +718,8 @@ void populateHloToStablehloPatterns(RewritePatternSet* patterns,\n #include \"stablehlo/dialect/StablehloOps.cpp.inc\"\n       >(patterns, converter, context, allowExperimentalFeatures);\n \n-  populateHloToStablehloCustomCallPatterns<mhlo::AcoshOp, mhlo::ErfOp,\n-                                           mhlo::TopKOp>(\n+  populateHloToStablehloCustomCallPatterns<mhlo::AcosOp, mhlo::AcoshOp,\n+                                           mhlo::ErfOp, mhlo::TopKOp>(\n       patterns, converter, context, allowExperimentalFeatures);\n }\n "
        },
        {
            "sha": "2803aba9da4e165cd1073a841f56dc85bcf982b8",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/mhlo_passes.td",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmhlo_passes.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmhlo_passes.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmhlo_passes.td?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -24,7 +24,9 @@ def ChloLegalizeToHighLevelMhloPass : Pass<\"chlo-legalize-to-high-level-mhlo\", \"\n   }];\n   let options = [\n     Option<\"enable_acosh_\", \"enable-acosh\", \"bool\", /*default=*/\"false\",\n-           \"Enable chlo.acosh to mhlo.acosh lowering.\">\n+           \"Enable chlo.acosh to mhlo.acosh lowering.\">,\n+    Option<\"enable_acos_\", \"enable-acos\", \"bool\", /*default=*/\"false\",\n+           \"Enable chlo.acos to mhlo.acos lowering.\">\n   ];\n   let dependentDialects = [\"mhlo::MhloDialect\"];\n }"
        },
        {
            "sha": "7c1b84e51b88738f548388854243ac9c59d37c7c",
            "filename": "third_party/xla/xla/mlir_hlo/stablehlo_ext/transforms/chlo_preserve_high_level_ops.cpp",
            "status": "modified",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fstablehlo_ext%2Ftransforms%2Fchlo_preserve_high_level_ops.cpp",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fstablehlo_ext%2Ftransforms%2Fchlo_preserve_high_level_ops.cpp",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fstablehlo_ext%2Ftransforms%2Fchlo_preserve_high_level_ops.cpp?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -239,6 +239,15 @@ struct AcoshOpToCustomCallPattern : public OpRewritePattern<chlo::AcoshOp> {\n   }\n };\n \n+struct AcosOpToCustomCallPattern : public OpRewritePattern<chlo::AcosOp> {\n+  using OpRewritePattern::OpRewritePattern;\n+  LogicalResult matchAndRewrite(chlo::AcosOp op,\n+                                PatternRewriter& rewriter) const override {\n+    return wrapChloOperationInCustomCall(rewriter, op, \"mhlo.acos\",\n+                                         /*version=*/1);\n+  }\n+};\n+\n ///////\n // CHLO to CompositeOp Patterns\n ///////\n@@ -290,6 +299,14 @@ struct AcoshOpToCompositePattern : public OpRewritePattern<chlo::AcoshOp> {\n   }\n };\n \n+struct AcosOpToCompositePattern : public OpRewritePattern<chlo::AcosOp> {\n+  using OpRewritePattern::OpRewritePattern;\n+  LogicalResult matchAndRewrite(chlo::AcosOp op,\n+                                PatternRewriter& rewriter) const override {\n+    return wrapChloOpInComposite(op, /*version=*/1, rewriter);\n+  }\n+};\n+\n }  // namespace\n \n struct ChloPreserveHighLevelOpsPass\n@@ -313,12 +330,14 @@ struct ChloPreserveHighLevelOpsPass\n     if (useDeprecatedCustomCallEncoding) {\n       // Deprecated CustomCall encoding.\n       patterns.add<\n+        AcosOpToCustomCallPattern,\n         AcoshOpToCustomCallPattern,\n         ErfOpToCustomCallPattern,\n         RaggedDotOpToCustomCallPattern,\n         TopKOpToCustomCallPattern>(ctx);\n     } else {\n       patterns.add<\n+        AcosOpToCompositePattern,\n         AcoshOpToCompositePattern,\n         ErfOpToCompositePattern,\n         RaggedDotOpToCompositePattern,"
        },
        {
            "sha": "891cf90c3f6f0c96bd1e7cb0c416fc32725eae7e",
            "filename": "third_party/xla/xla/mlir_hlo/stablehlo_ext/transforms/chlo_recompose_ops.cpp",
            "status": "modified",
            "additions": 32,
            "deletions": 2,
            "changes": 34,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fstablehlo_ext%2Ftransforms%2Fchlo_recompose_ops.cpp",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fstablehlo_ext%2Ftransforms%2Fchlo_recompose_ops.cpp",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fstablehlo_ext%2Ftransforms%2Fchlo_recompose_ops.cpp?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -237,11 +237,13 @@ struct TopKOpRecomposePattern\n   using OpRewritePattern::OpRewritePattern;\n   LogicalResult matchAndRewrite(stablehlo::CompositeOp op,\n                                 PatternRewriter& rewriter) const override {\n-    if (op.getName() != \"chlo.top_k\")\n+    if (op.getName() != \"chlo.top_k\") {\n       return rewriter.notifyMatchFailure(op, \"not a chlo.top_k\");\n-    if (op.getVersion() != 1)\n+    }\n+    if (op.getVersion() != 1) {\n       return rewriter.notifyMatchFailure(\n           op, \"unsupported version for chlo.top_k composite\");\n+    }\n     return recomposeChloOpFromCompositeOp<chlo::TopKOp>(op, rewriter);\n   }\n };\n@@ -262,6 +264,22 @@ struct AcoshOpRecomposePattern\n   }\n };\n \n+struct AcosOpRecomposePattern\n+    : public OpRewritePattern<stablehlo::CompositeOp> {\n+  using OpRewritePattern::OpRewritePattern;\n+  LogicalResult matchAndRewrite(stablehlo::CompositeOp op,\n+                                PatternRewriter& rewriter) const override {\n+    if (op.getName() != \"chlo.acos\") {\n+      return rewriter.notifyMatchFailure(op, \"not a chlo.acos\");\n+    }\n+    if (op.getVersion() != 1) {\n+      return rewriter.notifyMatchFailure(\n+          op, \"unsupported version for chlo.acos composite\");\n+    }\n+    return recomposeChloOpFromCompositeOp<chlo::AcosOp>(op, rewriter);\n+  }\n+};\n+\n struct ErfOpRecomposePattern : public OpRewritePattern<stablehlo::CompositeOp> {\n   using OpRewritePattern::OpRewritePattern;\n   LogicalResult matchAndRewrite(stablehlo::CompositeOp op,\n@@ -361,6 +379,16 @@ struct AcoshOpCustomCallRecomposePattern\n   }\n };\n \n+struct AcosOpCustomCallRecomposePattern\n+    : public OpRewritePattern<stablehlo::CustomCallOp> {\n+  using OpRewritePattern::OpRewritePattern;\n+  LogicalResult matchAndRewrite(stablehlo::CustomCallOp op,\n+                                PatternRewriter& rewriter) const override {\n+    return recomposeChloOpFromCustomCall<chlo::AcosOp>(\n+        op, {\"mhlo.acos\", \"chlo.acos\"}, rewriter);\n+  }\n+};\n+\n }  // namespace\n \n struct ChloRecomposeOpsPass\n@@ -381,6 +409,7 @@ struct ChloRecomposeOpsPass\n     // clang-format off\n     // CustomCall Patterns\n     patterns.add<\n+      AcosOpCustomCallRecomposePattern,\n       AcoshOpCustomCallRecomposePattern,\n       ErfOpCustomCallRecomposePattern,\n       RaggedDotOpCustomCallRecomposePattern,\n@@ -389,6 +418,7 @@ struct ChloRecomposeOpsPass\n \n     // Composite Patterns\n     patterns.add<\n+      AcosOpRecomposePattern,\n       AcoshOpRecomposePattern,\n       ErfOpRecomposePattern,\n       RaggedDotOpRecomposePattern,"
        },
        {
            "sha": "e83dfa8b9f94c406b65ed5b467092f2cf9eb521e",
            "filename": "third_party/xla/xla/mlir_hlo/tests/Dialect/chlo/chlo_legalize_to_mhlo.mlir",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2FDialect%2Fchlo%2Fchlo_legalize_to_mhlo.mlir",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2FDialect%2Fchlo%2Fchlo_legalize_to_mhlo.mlir",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2FDialect%2Fchlo%2Fchlo_legalize_to_mhlo.mlir?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -1,5 +1,5 @@\n // RUN: mlir-hlo-opt --chlo-legalize-to-hlo --split-input-file -verify-diagnostics %s | FileCheck %s --dump-input-context=20\n-// RUN: mlir-hlo-opt --chlo-legalize-to-high-level-mhlo=\"enable-acosh\" --split-input-file -verify-diagnostics %s | FileCheck %s --check-prefix=CHECK-HIGH-LEVEL\n+// RUN: mlir-hlo-opt --chlo-legalize-to-high-level-mhlo=\"enable-acosh enable-acos\" --split-input-file -verify-diagnostics %s | FileCheck %s --check-prefix=CHECK-HIGH-LEVEL\n \n // CHECK-LABEL: func.func @asin_bf16(\n // CHECK-SAME:    %[[TMP_arg0:.*]]: tensor<bf16>\n@@ -705,6 +705,15 @@ func.func @erf_bf16(%arg : tensor<bf16>) -> tensor<bf16> {\n \n // -----\n \n+// CHECK-LABEL: @acos\n+func.func @acos(%arg : tensor<f64>) -> tensor<f64> {\n+  // CHECK-HIGH-LEVEL: mhlo.acos\n+  %1 = \"chlo.acos\"(%arg) : (tensor<f64>) -> tensor<f64>\n+  func.return %1 : tensor<f64>\n+}\n+\n+// -----\n+\n // CHECK-LABEL: @acosh\n // CHECK-SAME:  %[[VAL_0:.*]]: tensor<f16>) -> tensor<f16> {\n func.func @acosh(%arg: tensor<f16>) -> tensor<f16> {"
        },
        {
            "sha": "ed1e3a42dcd37c13d5a623401d652961c19e83ac",
            "filename": "third_party/xla/xla/mlir_hlo/tests/stablehlo_ext/chlo_preserve_high_level_ops.mlir",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2Fstablehlo_ext%2Fchlo_preserve_high_level_ops.mlir",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2Fstablehlo_ext%2Fchlo_preserve_high_level_ops.mlir",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2Fstablehlo_ext%2Fchlo_preserve_high_level_ops.mlir?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -83,6 +83,16 @@ func.func @acosh_preserve(%arg0: tensor<3x20x20xbf16>) -> tensor<?x20x20xbf16> {\n \n // -----\n \n+// CHECK-LABEL: func @acos_preserve\n+func.func @acos_preserve(%arg0: tensor<3x20x20xbf16>) -> tensor<?x20x20xbf16> {\n+  // CHECK-CC: stablehlo.custom_call @mhlo.acos(%arg0) {mhlo.attributes = {}, mhlo.version = 1 : i64} : (tensor<3x20x20xbf16>) -> tensor<?x20x20xbf16>\n+  // CHECK: stablehlo.composite \"chlo.acos\" %arg0 {decomposition = @chlo.acos.impl, version = 1 : i32}\n+  %0 = chlo.acos %arg0 : tensor<3x20x20xbf16> -> tensor<?x20x20xbf16>\n+  return %0 : tensor<?x20x20xbf16>\n+}\n+\n+// -----\n+\n // CHECK-LABEL: func @tan_no_preserve\n func.func @tan_no_preserve(%arg0: tensor<16xf32>) -> tensor<?xf32> {\n   // CHECK: chlo.tan"
        },
        {
            "sha": "e32862ab2223c36f04fce719e8af09bee7660676",
            "filename": "third_party/xla/xla/mlir_hlo/tests/stablehlo_ext/chlo_recompose_ops.mlir",
            "status": "modified",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2Fstablehlo_ext%2Fchlo_recompose_ops.mlir",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2Fstablehlo_ext%2Fchlo_recompose_ops.mlir",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2Fstablehlo_ext%2Fchlo_recompose_ops.mlir?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -33,6 +33,20 @@ func.func private @chlo.acosh.impl(%arg0: tensor<3x20x20xbf16>) -> tensor<?x20x2\n \n // -----\n \n+// CHECK-LABEL: func @acos_recompose_composite\n+func.func @acos_recompose_composite(%arg0: tensor<3x20x20xbf16>) -> tensor<?x20x20xbf16> {\n+  // CHECK-NEXT: chlo.acos\n+  // CHECK-NOT: stablehlo.composite\n+  %0 = stablehlo.composite \"chlo.acos\" %arg0 {decomposition = @chlo.acos.impl, version = 1 : i32} : (tensor<3x20x20xbf16>) -> tensor<?x20x20xbf16>\n+  return %0 : tensor<?x20x20xbf16>\n+}\n+// CHECK-NOT: @chlo.acos.imp\n+func.func private @chlo.acos.impl(%arg0: tensor<3x20x20xbf16>) -> tensor<?x20x20xbf16> {\n+  %0 = chlo.acos %arg0 : tensor<3x20x20xbf16> -> tensor<?x20x20xbf16>\n+  return %0 : tensor<?x20x20xbf16>\n+}\n+\n+// -----\n \n // CHECK-LABEL: func @ragged_dot_recompose_composite\n func.func @ragged_dot_recompose_composite(%arg0: tensor<2x11x5xf32>, %arg1: tensor<3x2x5x7xf32>, %arg2: tensor<3xi64>) -> tensor<2x11x7xf32> {\n@@ -95,6 +109,20 @@ func.func @acosh_recompose_cc(%arg0: tensor<3x20x20xbf16>) -> tensor<?x20x20xbf1\n \n // -----\n \n+// CHECK-LABEL: @acos_recompose_cc\n+func.func @acos_recompose_cc(%arg0: tensor<3x20x20xbf16>) -> tensor<?x20x20xbf16> {\n+  // CHECK: %0 = chlo.acos %arg0 : tensor<3x20x20xbf16> -> tensor<?x20x20xbf16>\n+  %0 = \"stablehlo.custom_call\"(%arg0) {\n+    backend_config = \"\",\n+    call_target_name = \"mhlo.acos\",\n+    mhlo.attributes = {},\n+    mhlo.version = 1 : i64\n+  } : (tensor<3x20x20xbf16>) -> tensor<?x20x20xbf16>\n+  func.return %0 : tensor<?x20x20xbf16>\n+}\n+\n+// -----\n+\n // CHECK-LABEL: func @ragged_dot_recompose_cc\n func.func @ragged_dot_recompose_cc(%arg0: tensor<2x11x5xf32>, %arg1: tensor<3x2x5x7xf32>, %arg2: tensor<3xi64>) -> tensor<2x11x7xf32> {\n   // CHECK: \"chlo.ragged_dot\"(%arg0, %arg1, %arg2) <{precision_config = [#chlo<precision DEFAULT>, #chlo<precision DEFAULT>], ragged_dot_dimension_numbers = #chlo.ragged_dot<lhs_batching_dimensions = [0], rhs_batching_dimensions = [1], lhs_contracting_dimensions = [2], rhs_contracting_dimensions = [2], lhs_ragged_dimensions = [1], rhs_group_dimensions = [0]>}> : (tensor<2x11x5xf32>, tensor<3x2x5x7xf32>, tensor<3xi64>) -> tensor<2x11x7xf32>"
        },
        {
            "sha": "83cdf1abae04c6f30af020e732bc3b9bbccad225",
            "filename": "third_party/xla/xla/tests/exhaustive/exhaustive_unary_test_ops.inc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Ftests%2Fexhaustive%2Fexhaustive_unary_test_ops.inc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8effa1ae55260429f09d33bf5abdc5df44d3ce54/third_party%2Fxla%2Fxla%2Ftests%2Fexhaustive%2Fexhaustive_unary_test_ops.inc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fexhaustive%2Fexhaustive_unary_test_ops.inc?ref=8effa1ae55260429f09d33bf5abdc5df44d3ce54",
            "patch": "@@ -187,8 +187,7 @@ DEFINE_UNARY_TEST_OP(\n     { return [](XlaOp x) { return Pow(x, ScalarLike(x, 0.5)); }; },\n     { return +[](Traits::NativeRefT x) { return std::pow(x, 0.5f); }; });\n DEFINE_UNARY_TEST_OP(\n-    Exp2Op,\n-    { return [](XlaOp x) { return Pow(ScalarLike(x, 2.0f), x); }; },\n+    Exp2Op, { return [](XlaOp x) { return Pow(ScalarLike(x, 2.0f), x); }; },\n     { return +[](Traits::NativeRefT x) { return std::exp2(x); }; });\n DEFINE_UNARY_TEST_OP(\n     RsqrtOp, { return [](XlaOp x) { return Rsqrt(x); }; },\n@@ -202,7 +201,8 @@ DEFINE_UNARY_TEST_OP(\n     { return std::acosh; });\n DEFINE_UNARY_TEST_OP(AsinhOp, { return Asinh; }, { return std::asinh; });\n DEFINE_UNARY_TEST_OP(AtanhOp, { return Atanh; }, { return std::atanh; });\n-DEFINE_UNARY_TEST_OP(AcosOp, { return Acos; }, { return std::acos; });\n+DEFINE_UNARY_TEST_OP(\n+    AcosOp, { return [](XlaOp x) { return Acos(x); }; }, { return std::acos; });\n DEFINE_UNARY_TEST_OP(AsinOp, { return Asin; }, { return std::asin; });\n DEFINE_UNARY_TEST_OP(AtanOp, { return Atan; }, { return std::atan; });\n DEFINE_UNARY_TEST_OP(CoshOp, { return Cosh; }, { return std::cosh; });"
        }
    ],
    "stats": {
        "total": 205,
        "additions": 181,
        "deletions": 24
    }
}