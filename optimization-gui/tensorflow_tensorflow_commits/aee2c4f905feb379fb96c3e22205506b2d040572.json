{
    "author": "EusebioDM",
    "message": "Add missing BUILD dependencies, and remove unused ones\n\nPiperOrigin-RevId: 840738628",
    "sha": "aee2c4f905feb379fb96c3e22205506b2d040572",
    "files": [
        {
            "sha": "1b0398aaaf4801e3f65739654efe6952f4f18b7b",
            "filename": "third_party/xla/xla/core/collectives/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -74,8 +74,6 @@ cc_library(\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/stream_executor:device_memory\",\n-        \"//xla/stream_executor:platform\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\","
        },
        {
            "sha": "9685be1002879274dcde370e986b5654aaa3b8a7",
            "filename": "third_party/xla/xla/core/host_offloading/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -285,8 +285,6 @@ cc_library(\n         \"//xla/hlo/pass:hlo_pass\",\n         \"//xla/service:host_offload_utils\",\n         \"@com_google_absl//absl/container:flat_hash_set\",\n-        \"@com_google_absl//absl/functional:function_ref\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@local_tsl//tsl/platform:statusor\",\n@@ -299,7 +297,6 @@ strict_cc_test(\n     deps = [\n         \":annotate_host_compute_offload\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/hlo/ir:hlo_module_group\",\n         \"//xla/hlo/pass:hlo_pass_pipeline\",\n         \"//xla/hlo/testlib:hlo_hardware_independent_test_base\",\n         \"//xla/hlo/testlib:verified_hlo_module\",\n@@ -379,7 +376,5 @@ cc_library(\n         \"@com_google_absl//absl/strings:str_format\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@local_tsl//tsl/platform:casts\",\n-        \"@local_tsl//tsl/platform:errors\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )"
        },
        {
            "sha": "7f08e9e2d9a16e17f4c6ae765add00b2b618986b",
            "filename": "third_party/xla/xla/ffi/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fffi%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fffi%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fffi%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -159,7 +159,6 @@ cc_library(\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_absl//absl/types:span\",\n-        \"@local_tsl//tsl/platform:logging\",\n     ],\n )\n \n@@ -185,7 +184,6 @@ cc_library(\n         \"//xla/service:platform_util\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/tsl/concurrency:async_value\",\n-        \"//xla/tsl/concurrency:ref_count\",\n         \"//xla/tsl/platform:logging\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/base:core_headers\",\n@@ -231,7 +229,6 @@ cc_library(\n         \":execution_context\",\n         \":execution_state\",\n         \"//xla:executable_run_options\",\n-        \"//xla/ffi/api:c_api\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/tsl/concurrency:async_value\",\n         \"@com_google_absl//absl/status\",\n@@ -307,7 +304,6 @@ xla_cc_test(\n         \"//xla/tsl/lib/core:status_test_util\",\n         \"//xla/tsl/platform:env\",\n         \"//xla/tsl/platform:statusor\",\n-        \"//xla/tsl/platform:test\",\n         \"//xla/tsl/platform:test_benchmark\",\n         \"//xla/tsl/platform:test_main\",\n         \"@com_google_absl//absl/log:check\","
        },
        {
            "sha": "9795916a0a829196450403133caa7e2f60bfdcb4",
            "filename": "third_party/xla/xla/hlo/analysis/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 11,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -195,10 +195,7 @@ xla_cc_test(\n cc_library(\n     name = \"hlo_operand_index\",\n     hdrs = [\"hlo_operand_index.h\"],\n-    deps = [\n-        \"//xla:shape_util\",\n-        \"//xla/hlo/ir:hlo\",\n-    ],\n+    deps = [\"//xla:shape_util\"],\n )\n \n cc_library(\n@@ -354,8 +351,6 @@ xla_cc_test(\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:status_matchers\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )\n \n@@ -372,7 +367,6 @@ cc_library(\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/container:flat_hash_set\",\n-        \"@com_google_absl//absl/hash\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/memory\",\n@@ -592,9 +586,7 @@ xla_cc_test(\n     srcs = [\"interval_test.cc\"],\n     deps = [\n         \":interval\",\n-        \"//xla/tests:hlo_test_base\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )\n \n@@ -627,7 +619,6 @@ cc_library(\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n-        \"@com_google_absl//absl/numeric:int128\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:str_format\",\n         \"@com_google_absl//absl/types:span\",\n@@ -711,7 +702,6 @@ xla_cc_test(\n     deps = [\n         \":indexing_analysis\",\n         \":indexing_test_utils\",\n-        \":interval\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/utils:hlo_traversal\",\n         \"//xla/tests:xla_internal_test_main\","
        },
        {
            "sha": "c24f1ca6ce17e067af65a53f0c09bb5dfd31ba3c",
            "filename": "third_party/xla/xla/hlo/evaluator/BUILD",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -2,6 +2,7 @@\n #   XLA evaluator implementation.\n \n load(\"//xla:xla.default.bzl\", \"xla_cc_test\")\n+load(\"//xla/tsl:tsl.bzl\", \"if_google\")\n load(\"//xla/tsl/platform:rules_cc.bzl\", \"cc_library\")\n \n package(\n@@ -56,6 +57,11 @@ cc_library(\n         \"hlo_evaluator_typed_visitor_uint8.cc\",\n     ],\n     hdrs = [\"hlo_evaluator.h\"],\n+    tags = if_google([\n+        # This header is only conditionally included in hlo_evaluator.cc when a flag is set, which\n+        # build_cleaner doesn't understand, so we need to tell it to ignore it.\n+        \"ignore_for_dep=third_party/tensorflow/compiler/xla/tsl/framework/contraction/eigen_contraction_kernel.h\",\n+    ]),\n     deps = [\n         \":hlo_evaluator_interface\",\n         \"//xla:array2d\","
        },
        {
            "sha": "5a64c36e4596ad6b9e333f304f8b9c5486ccfa2c",
            "filename": "third_party/xla/xla/hlo/pass/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -60,7 +60,6 @@ xla_cc_test(\n         \"//xla/hlo/ir:hlo_module_group\",\n         \"//xla/hlo/parser:hlo_parser\",\n         \"//xla/hlo/testlib:hlo_hardware_independent_test_base\",\n-        \"//xla/hlo/testlib:test_helpers\",\n         \"//xla/service:hlo_proto_cc\",\n         \"//xla/service:pattern_matcher\",\n         \"//xla/tsl/platform:errors\",\n@@ -147,7 +146,6 @@ xla_cc_test(\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n-        \"@com_google_absl//absl/types:span\",\n         \"@com_google_googletest//:gtest\",\n     ],\n )"
        },
        {
            "sha": "3a7415e6c6b863b520834b81f223faee3c7c8141",
            "filename": "third_party/xla/xla/hlo/tools/hlo_diff/render/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Frender%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Frender%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Frender%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -55,7 +55,6 @@ cc_library(\n         \"@com_google_absl//absl/container:flat_hash_set\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:string_view\",\n-        \"@com_google_absl//absl/types:span\",\n     ],\n )\n "
        },
        {
            "sha": "480674c2bf449541ddf346cb762f2da8085152de",
            "filename": "third_party/xla/xla/hlo/transforms/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -477,7 +477,6 @@ xla_cc_test(\n         \"//xla/hlo/parser:hlo_parser\",\n         \"//xla/hlo/testlib:hlo_hardware_independent_test_base\",\n         \"//xla/tsl/platform:statusor\",\n-        \"//xla/tsl/platform:test\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest\",\n         \"@com_google_googletest//:gtest_main\",\n@@ -496,7 +495,6 @@ cc_library(\n         \"//xla/hlo/transforms/expanders:op_expander_pass\",\n         \"//xla/service:hlo_creation_utils\",\n         \"//xla/service:shape_inference\",\n-        \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@local_tsl//tsl/platform:errors\",\n@@ -567,7 +565,6 @@ cc_library(\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@local_tsl//tsl/platform:casts\",\n-        \"@local_tsl//tsl/platform:errors\",\n     ],\n )\n \n@@ -584,7 +581,6 @@ cc_library(\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/container:flat_hash_set\",\n         \"@com_google_absl//absl/log\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:string_view\","
        },
        {
            "sha": "f1ac869a419a42904a959d0ea4551ac294b361de",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -311,13 +311,8 @@ xla_cc_test(\n     srcs = [\"all_gather_remove_degenerate_dims_test.cc\"],\n     deps = [\n         \":all_gather_remove_degenerate_dims\",\n-        \"//xla:xla_data_proto_cc\",\n-        \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/testlib:hlo_hardware_independent_test_base\",\n-        \"//xla/hlo/utils:hlo_matchers\",\n-        \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n "
        },
        {
            "sha": "ccc19d7a1f04b6baefea51ce450c2f0e903f0f39",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -368,8 +368,6 @@ xla_cc_test(\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest\",\n         \"@com_google_googletest//:gtest_main\",  # fixdeps: keep\n-        \"@local_tsl//tsl/platform:statusor\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )\n "
        },
        {
            "sha": "61ad902d0f0b442da636b307380988d19bf7417f",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -643,7 +643,6 @@ xla_cc_test(\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest\",\n         \"@com_google_googletest//:gtest_main\",  # fixdeps: keep\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n \n@@ -1515,14 +1514,10 @@ cc_library(\n     hdrs = [\"reduce_window_resizer.h\"],\n     deps = [\n         \":reduce_window_util\",\n-        \"//xla:shape_util\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/pass:hlo_pass\",\n         \"//xla/tsl/platform:errors\",\n         \"@com_google_absl//absl/container:flat_hash_set\",\n-        \"@com_google_absl//absl/log\",\n-        \"@com_google_absl//absl/log:check\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n     ],\n@@ -1560,7 +1555,6 @@ cc_library(\n     hdrs = [\"gather_simplifier.h\"],\n     deps = [\n         \"//xla:literal_util\",\n-        \"//xla:permutation_util\",\n         \"//xla:shape_util\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/transforms/expanders:op_expander_pass\",\n@@ -1569,7 +1563,6 @@ cc_library(\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n \n@@ -1625,7 +1618,6 @@ cc_library(\n     srcs = [\"sub_byte_collective_normalization.cc\"],\n     hdrs = [\"sub_byte_collective_normalization.h\"],\n     deps = [\n-        \":hlo_dce\",\n         \"//xla:shape_util\",\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n@@ -1637,8 +1629,6 @@ cc_library(\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n-        \"@local_tsl//tsl/platform:errors\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n \n@@ -1647,7 +1637,6 @@ xla_cc_test(\n     srcs = [\"sub_byte_collective_normalization_test.cc\"],\n     deps = [\n         \":sub_byte_collective_normalization\",\n-        \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/testlib:hlo_hardware_independent_test_base\",\n         \"//xla/tsl/lib/core:status_test_util\",\n         \"@com_google_googletest//:gtest_main\","
        },
        {
            "sha": "f2576af3a055c9cce9113f2476109a78fd2cfa73",
            "filename": "third_party/xla/xla/hlo/translate/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -77,8 +77,8 @@ xla_cc_binary(\n         \"@llvm-project//llvm:Support\",\n         \"@llvm-project//mlir:AllPassesAndDialects\",\n         \"@llvm-project//mlir:MlirOptLib\",\n-        \"@llvm-project//mlir:RegisterAllDialects\",\n-        \"@llvm-project//mlir:RegisterAllPasses\",\n+        \"@llvm-project//mlir:RegisterAllDialects\",  # buildcleaner: keep\n+        \"@llvm-project//mlir:RegisterAllPasses\",  # buildcleaner: keep\n         \"@local_tsl//tsl/platform:platform_port\",\n     ],\n )"
        },
        {
            "sha": "a7e68c7bc178bd872e2204fbf4373800dfe5e14a",
            "filename": "third_party/xla/xla/hlo/translate/hlo_to_mhlo/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -225,7 +225,6 @@ cc_library(\n         \"stack_location_utils\",\n         \":hlo_utils\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/mlir_hlo:unregistered_attributes\",\n         \"@llvm-project//mlir:IR\",\n         \"@llvm-project//mlir:Support\",\n     ],"
        },
        {
            "sha": "862c168fb910f4f3aa350504d4ab6aa662fb0131",
            "filename": "third_party/xla/xla/hlo/translate/mhlo_to_hlo/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -119,10 +119,7 @@ cc_library(\n     deps = [\n         \":stack_frame_index_builder\",\n         \"//xla:xla_data_proto_cc\",\n-        \"//xla/hlo/ir:hlo\",\n-        \"//xla/hlo/parser:hlo_parser\",\n         \"//xla/hlo/translate/hlo_to_mhlo:hlo_utils\",\n-        \"//xla/mlir_hlo:unregistered_attributes\",\n         \"@llvm-project//llvm:Support\",\n         \"@llvm-project//mlir:IR\",\n         \"@llvm-project//mlir:Support\",\n@@ -370,7 +367,6 @@ xla_cc_test(\n         \"//xla/hlo/translate/hlo_to_mhlo:hlo_utils\",\n         \"//xla/mlir_hlo\",\n         \"//xla/tsl/platform:test_main\",\n-        \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_googletest//:gtest\",\n         \"@llvm-project//llvm:Support\",\n         \"@llvm-project//mlir:IR\","
        },
        {
            "sha": "534fdbcafb1d58509e0a3bcea996e9ac62b23abe",
            "filename": "third_party/xla/xla/hlo/utils/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -117,7 +117,6 @@ xla_cc_test(\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/hlo/testlib:hlo_hardware_independent_test_base\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n "
        },
        {
            "sha": "7002223b046e7c4d35813061db9396e60855d7ac",
            "filename": "third_party/xla/xla/mlir/tools/mlir_bisect/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_bisect%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_bisect%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_bisect%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -36,8 +36,8 @@ xla_cc_binary(\n         \"@llvm-project//mlir:MemRefDialect\",\n         \"@llvm-project//mlir:Parser\",\n         \"@llvm-project//mlir:Pass\",\n-        \"@llvm-project//mlir:RegisterAllDialects\",\n-        \"@llvm-project//mlir:RegisterAllPasses\",\n+        \"@llvm-project//mlir:RegisterAllDialects\",  # buildcleaner: keep\n+        \"@llvm-project//mlir:RegisterAllPasses\",  # buildcleaner: keep\n         \"@llvm-project//mlir:Support\",\n         \"@llvm-project//mlir:Transforms\",\n         \"@local_tsl//tsl/platform:env\","
        },
        {
            "sha": "d022a2ac56ba064b5deff90b5b69ddd370e9bef8",
            "filename": "third_party/xla/xla/mlir/tools/mlir_interpreter/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_interpreter%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_interpreter%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_interpreter%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -35,8 +35,8 @@ xla_cc_binary(\n         \"@llvm-project//mlir:AllPassesAndDialects\",\n         \"@llvm-project//mlir:IR\",\n         \"@llvm-project//mlir:ParseUtilities\",\n-        \"@llvm-project//mlir:RegisterAllDialects\",\n-        \"@llvm-project//mlir:RegisterAllPasses\",\n+        \"@llvm-project//mlir:RegisterAllDialects\",  # buildcleaner: keep\n+        \"@llvm-project//mlir:RegisterAllPasses\",  # buildcleaner: keep\n         \"@llvm-project//mlir:Support\",\n     ],\n )"
        },
        {
            "sha": "49e445384488401729a4f132eaad5d14ba51cfd8",
            "filename": "third_party/xla/xla/mlir/tools/mlir_replay/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_replay%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_replay%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_replay%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -33,7 +33,7 @@ xla_cc_binary(\n         \"@llvm-project//llvm:Support\",\n         \"@llvm-project//mlir:AllPassesAndDialects\",\n         \"@llvm-project//mlir:IR\",\n-        \"@llvm-project//mlir:RegisterAllDialects\",\n+        \"@llvm-project//mlir:RegisterAllDialects\",  # buildcleaner: keep\n         \"@local_tsl//tsl/platform:env\",\n         \"@local_tsl//tsl/platform:path\",\n         \"@local_tsl//tsl/platform:platform_port\","
        },
        {
            "sha": "11fa3d24c990c8b6863e3c3072e2bcf57d3cff15",
            "filename": "third_party/xla/xla/pjrt/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 13,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -227,7 +227,6 @@ cc_library(\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/tsl/concurrency:async_value\",\n-        \"//xla/tsl/concurrency:ref_count\",\n         \"//xla/tsl/platform:env\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:logging\",\n@@ -238,15 +237,13 @@ cc_library(\n         \"@com_google_absl//absl/base\",\n         \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n-        \"@com_google_absl//absl/container:flat_hash_set\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/functional:any_invocable\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/strings:str_format\",\n         \"@com_google_absl//absl/synchronization\",\n-        \"@com_google_absl//absl/types:span\",\n         \"@local_tsl//tsl/profiler/lib:connected_traceme\",\n         \"@local_tsl//tsl/profiler/lib:context_types_hdrs\",\n         \"@local_tsl//tsl/profiler/lib:traceme\",\n@@ -540,8 +537,6 @@ xla_cc_test(\n         \":pjrt_common\",\n         \"//xla/pjrt/proto:pjrt_value_type_proto_cc\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:status_matchers\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )\n \n@@ -861,12 +856,7 @@ cc_library(\n     name = \"pjrt_future\",\n     hdrs = [\"pjrt_future.h\"],\n     visibility = internal_visibility([\":friends\"]),\n-    deps = [\n-        \"//xla:future\",\n-        \"//xla/tsl/concurrency:async_value\",\n-        \"//xla/tsl/concurrency:ref_count\",\n-        \"@com_google_absl//absl/base:core_headers\",\n-    ],\n+    deps = [\"//xla:future\"],\n )\n \n cc_library(\n@@ -923,13 +913,11 @@ cc_library(\n         \"//xla:friends\",\n     ]),\n     deps = [\n-        \"@com_google_absl//absl/base:log_severity\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/container:hash_container_defaults\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n-        \"@local_tsl//tsl/platform:logging\",\n     ],\n )\n "
        },
        {
            "sha": "6ea1ff0213911f149ce99d80f7f3ab1f1abd6192",
            "filename": "third_party/xla/xla/pjrt/c/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 11,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -51,16 +51,7 @@ cc_library(\n cc_library(\n     name = \"pjrt_c_api_callback_extension_hdrs\",\n     hdrs = [\"pjrt_c_api_callback_extension.h\"],\n-    deps = [\n-        \"//xla:shape_util\",\n-        \"//xla/pjrt:pjrt_client\",\n-        \"//xla/pjrt/c:pjrt_c_api_hdrs\",\n-        \"//xla/pjrt/c:pjrt_c_api_helpers\",\n-        \"//xla/pjrt/c:pjrt_c_api_wrapper_impl\",\n-        \"@com_google_absl//absl/log:check\",\n-        \"@com_google_absl//absl/status:statusor\",\n-        \"@com_google_absl//absl/types:span\",\n-    ],\n+    deps = [\"//xla/pjrt/c:pjrt_c_api_hdrs\"],\n )\n \n cc_library(\n@@ -93,7 +84,6 @@ cc_library(\n         \"//xla/ffi:ffi_api\",\n         \"//xla/ffi:type_registry\",\n         \"//xla/ffi/api:c_api\",\n-        \"//xla/ffi/api:ffi\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/strings:string_view\",\n     ],"
        },
        {
            "sha": "59bcdbffdc173fdcca6d199c97004d9d03a0808b",
            "filename": "third_party/xla/xla/pjrt/cpu/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fcpu%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -108,7 +108,6 @@ cc_library(\n     deps = [\n         \":cpu_async_execution_tracker\",\n         \":execution_stream_event_map\",\n-        \"//xla:future\",\n         \"//xla:literal\",\n         \"//xla/pjrt:host_memory_spaces\",\n         \"//xla/pjrt:pjrt_client\",\n@@ -318,7 +317,6 @@ cc_library(\n     hdrs = [\"cpu_pjrt_compiler.h\"],\n     visibility = internal_visibility([\"//xla/pjrt/cpu:legacy_cpu_client_users\"]),\n     deps = [\n-        \"//xla:status_macros\",\n         \"//xla/backends/cpu/collectives:cpu_collectives\",\n         \"//xla/core/collectives:clique_id\",\n         \"//xla/core/collectives:clique_key\",\n@@ -356,7 +354,6 @@ xla_cc_test(\n         \"//xla/pjrt:pjrt_executable\",\n         \"//xla/pjrt/plugin/xla_cpu:cpu_topology\",\n         \"//xla/pjrt/plugin/xla_cpu:cpu_topology_description\",\n-        \"//xla/pjrt/plugin/xla_cpu:xla_cpu_pjrt_client\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/platform:test_main\",\n         \"@com_google_absl//absl/strings:string_view\","
        },
        {
            "sha": "eef41e68d43005dda6351c984f0699a0ddbaaf04",
            "filename": "third_party/xla/xla/pjrt/extensions/executable_metadata/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fexecutable_metadata%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fexecutable_metadata%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fexecutable_metadata%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -10,14 +10,7 @@ cc_library(\n     srcs = [\"executable_metadata_extension.cc\"],\n     hdrs = [\"executable_metadata_extension.h\"],\n     deps = [\n-        \"//xla:future\",\n-        \"//xla:shape_util\",\n         \"//xla/pjrt:pjrt_client\",\n         \"//xla/pjrt/c:pjrt_c_api_hdrs\",\n-        \"//xla/pjrt/c:pjrt_c_api_helpers\",\n-        \"//xla/pjrt/c:pjrt_c_api_wrapper_impl\",\n-        \"@com_google_absl//absl/log:check\",\n-        \"@com_google_absl//absl/status:statusor\",\n-        \"@com_google_absl//absl/types:span\",\n     ],\n )"
        },
        {
            "sha": "96c8ebbe3c39f30433e6558701a7fda72a1636b7",
            "filename": "third_party/xla/xla/pjrt/gpu/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -203,6 +203,7 @@ xla_test(\n         ],\n     },\n     backends = [\"gpu\"],\n+    tags = [\"nofixdeps\"],\n     deps = [\n         \":gpu_topology\",\n         \":gpu_topology_proto_cc\","
        },
        {
            "sha": "92f3be08e16c1a0af3bed92bfe9f202e7c9e1833",
            "filename": "third_party/xla/xla/pjrt/gpu/tfrt/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aee2c4f905feb379fb96c3e22205506b2d040572/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2FBUILD?ref=aee2c4f905feb379fb96c3e22205506b2d040572",
            "patch": "@@ -307,7 +307,6 @@ xla_cc_test(\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_absl//absl/time\",\n         \"@com_google_absl//absl/types:span\",\n-        \"//xla:future\",\n         \"//xla:literal\",\n         \"//xla:shape_util\",\n         \"//xla:util\","
        }
    ],
    "stats": {
        "total": 112,
        "additions": 17,
        "deletions": 95
    }
}