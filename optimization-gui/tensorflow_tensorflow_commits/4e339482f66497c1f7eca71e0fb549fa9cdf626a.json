{
    "author": "ezhulenev",
    "message": "[xla:pjrt] Migtate PjRt extensions to xla::Future and xla::Promise\n\nPiperOrigin-RevId: 811844133",
    "sha": "4e339482f66497c1f7eca71e0fb549fa9cdf626a",
    "files": [
        {
            "sha": "c1028b5db21831435f842094d2e747e474485a0d",
            "filename": "third_party/xla/xla/pjrt/extensions/cross_host_transfers/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4e339482f66497c1f7eca71e0fb549fa9cdf626a/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fcross_host_transfers%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4e339482f66497c1f7eca71e0fb549fa9cdf626a/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fcross_host_transfers%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fcross_host_transfers%2FBUILD?ref=4e339482f66497c1f7eca71e0fb549fa9cdf626a",
            "patch": "@@ -10,9 +10,9 @@ cc_library(\n     srcs = [\"pjrt_c_api_cross_host_transfers_extension.cc\"],\n     hdrs = [\"pjrt_c_api_cross_host_transfers_extension.h\"],\n     deps = [\n+        \"//xla:future\",\n         \"//xla:shape_util\",\n         \"//xla/pjrt:pjrt_client\",\n-        \"//xla/pjrt:pjrt_future\",\n         \"//xla/pjrt/c:pjrt_c_api_hdrs\",\n         \"//xla/pjrt/c:pjrt_c_api_helpers\",\n         \"//xla/pjrt/c:pjrt_c_api_wrapper_impl\","
        },
        {
            "sha": "2a754b33fbea37a69aac4e13e446a66f111ea079",
            "filename": "third_party/xla/xla/pjrt/extensions/cross_host_transfers/pjrt_c_api_cross_host_transfers_extension.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4e339482f66497c1f7eca71e0fb549fa9cdf626a/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fcross_host_transfers%2Fpjrt_c_api_cross_host_transfers_extension.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4e339482f66497c1f7eca71e0fb549fa9cdf626a/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fcross_host_transfers%2Fpjrt_c_api_cross_host_transfers_extension.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fextensions%2Fcross_host_transfers%2Fpjrt_c_api_cross_host_transfers_extension.cc?ref=4e339482f66497c1f7eca71e0fb549fa9cdf626a",
            "patch": "@@ -24,11 +24,11 @@ limitations under the License.\n #include \"absl/log/check.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/types/span.h\"\n+#include \"xla/future.h\"\n #include \"xla/pjrt/c/pjrt_c_api.h\"\n #include \"xla/pjrt/c/pjrt_c_api_helpers.h\"\n #include \"xla/pjrt/c/pjrt_c_api_wrapper_impl.h\"\n #include \"xla/pjrt/pjrt_client.h\"\n-#include \"xla/pjrt/pjrt_future.h\"\n #include \"xla/shape.h\"\n \n namespace pjrt {\n@@ -91,8 +91,7 @@ void PJRT_Transfers_PJRT_Buffer_CopyToRemoteDevice(\n     PJRT_Transfers_PJRT_Buffer_CopyToRemoteDevice_Args* args) {\n   std::string serialized_descriptor = std::string(\n       args->serialized_descriptor, args->serialized_descriptor_size);\n-  xla::PjRtFuture<std::string> descriptor_future(\n-      std::move(serialized_descriptor));\n+  xla::Future<std::string> descriptor_future(std::move(serialized_descriptor));\n \n   // TODO(emilyaf): Support on_done callback.\n   xla::PjRtBuffer::RemoteSendCallback on_done ="
        }
    ],
    "stats": {
        "total": 7,
        "additions": 3,
        "deletions": 4
    }
}