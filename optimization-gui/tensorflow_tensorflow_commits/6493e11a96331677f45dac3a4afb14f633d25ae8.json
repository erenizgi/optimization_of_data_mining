{
    "author": "wan3x",
    "message": "PR #31770: fix tensor_or_memref.h compile error\n\nImported from GitHub PR https://github.com/openxla/xla/pull/31770\n\n[XLA:CPU]fix tensor_or_memref.h compile error\n\nüìù Summary of Changes\nchange class to struct\n\nüéØ Justification\nfix compile error on x86_64/gcc version 11.4.0 (Ubuntu 11.4.0-1ubuntu1~22.04.2)\nerror message:\n```\nIn file included from xla/mlir/tools/mlir_interpreter/framework/tensor_or_memref.cc:16:\n./xla/mlir/tools/mlir_interpreter/framework/tensor_or_memref.h:166:12: error: class 'BufferView' was previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Werror,-Wmismatched-tags]\n166 | friend class BufferView;\n| ^\n./xla/mlir/tools/mlir_interpreter/framework/tensor_or_memref.h:67:8: note: previous use is here\n67 | struct BufferView {\n| ^\n1 error generated.\n```\n\nüöÄ Kind of Contribution\nüêõ Bug Fix,\n\nüìä Benchmark (for Performance Improvements)\n\nüß™ Unit Tests:\n\nüß™ Execution Tests:\n\nCopybara import of the project:\n\n--\n236dad5f07c1df9da7fa037551b8a2fc8f6a1ad7 by wan3x <1320460+wan3x@users.noreply.github.com>:\n\nUpdate tensor_or_memref.h\n\n[XLA:CPU]fix tensor_or_memref.h compile error\n\nMerging this change closes #31770\n\nPiperOrigin-RevId: 811254678",
    "sha": "6493e11a96331677f45dac3a4afb14f633d25ae8",
    "files": [
        {
            "sha": "c9c4d4c95dab2e30e28db3aaaf76ca79e1f51662",
            "filename": "third_party/xla/xla/mlir/tools/mlir_interpreter/framework/tensor_or_memref.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/6493e11a96331677f45dac3a4afb14f633d25ae8/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_interpreter%2Fframework%2Ftensor_or_memref.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/6493e11a96331677f45dac3a4afb14f633d25ae8/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_interpreter%2Fframework%2Ftensor_or_memref.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir%2Ftools%2Fmlir_interpreter%2Fframework%2Ftensor_or_memref.h?ref=6493e11a96331677f45dac3a4afb14f633d25ae8",
            "patch": "@@ -163,7 +163,7 @@ struct BufferView {\n     Iterator end() const { return {view_, {-1}, false}; }\n \n    private:\n-    friend class BufferView;\n+    friend struct BufferView;\n \n     LogicalIndexView(const BufferView* view, bool include_vector_dims)\n         : view_(view), include_vector_dims_(include_vector_dims) {}"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}