{
    "author": "SlaterLatiao",
    "message": "[XLA:partitioning] Add unreduced in TileShape().\n\nPiperOrigin-RevId: 805564962",
    "sha": "482eaa57f671c599bd97bc2759567de034a58129",
    "files": [
        {
            "sha": "edb48ebd198042cd98c99f26a26252edfbb3c99d",
            "filename": "third_party/xla/xla/hlo/ir/hlo_sharding.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/482eaa57f671c599bd97bc2759567de034a58129/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_sharding.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/482eaa57f671c599bd97bc2759567de034a58129/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_sharding.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_sharding.cc?ref=482eaa57f671c599bd97bc2759567de034a58129",
            "patch": "@@ -854,7 +854,7 @@ absl::Status HloSharding::ValidateNonTuple(\n                        tile_assignment_.iota_->num_elements() == *num_devices;\n   }\n \n-  if (IsTileMaximal() || IsManual() || IsUnknown() || IsUnreduced()) {\n+  if (IsTileMaximal() || IsManual() || IsUnreduced() || IsUnknown()) {\n     return absl::OkStatus();\n   }\n \n@@ -1073,7 +1073,7 @@ OpSharding HloSharding::ToProto() const {\n }\n \n Shape HloSharding::TileShape(const Shape& shape) const {\n-  if (IsTileMaximal() || IsManual() || IsUnknown()) {\n+  if (IsTileMaximal() || IsManual() || IsUnreduced() || IsUnknown()) {\n     return shape;\n   }\n   Shape result_shape = shape;\n@@ -1085,7 +1085,7 @@ Shape HloSharding::TileShape(const Shape& shape) const {\n }\n \n Shape HloSharding::TileShape(const Shape& shape, int64_t device) const {\n-  if (IsTileMaximal() || IsManual() || IsUnknown()) {\n+  if (IsTileMaximal() || IsManual() || IsUnreduced() || IsUnknown()) {\n     return shape;\n   }\n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}