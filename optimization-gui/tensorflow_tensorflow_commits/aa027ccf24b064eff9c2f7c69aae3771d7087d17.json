{
    "author": "EusebioDM",
    "message": "Clean up NormThunk, and gpu_norm_runner includes\n\nAdding missing includes, removing unused ones, and running build cleaner.\n\nPiperOrigin-RevId: 816211590",
    "sha": "aa027ccf24b064eff9c2f7c69aae3771d7087d17",
    "files": [
        {
            "sha": "87e186fe0dadaff8593ffa6c2ff3745bc22999f0",
            "filename": "third_party/xla/xla/backends/gpu/runtime/BUILD",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD?ref=aa027ccf24b064eff9c2f7c69aae3771d7087d17",
            "patch": "@@ -1540,7 +1540,11 @@ cc_library(\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service/gpu:gpu_norm_runner\",\n-        \"//xla/stream_executor:stream_executor_h\",\n+        \"//xla/stream_executor:device_memory\",\n+        \"//xla/stream_executor:lazy_op_runner\",\n+        \"//xla/stream_executor:stream\",\n+        \"//xla/tsl/platform:errors\",\n+        \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/status\","
        },
        {
            "sha": "fe950d3c20da238ac7f0cd88407ae96ad65ca65f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/norm_thunk.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnorm_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnorm_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnorm_thunk.cc?ref=aa027ccf24b064eff9c2f7c69aae3771d7087d17",
            "patch": "@@ -20,7 +20,14 @@ limitations under the License.\n \n #include \"absl/status/status.h\"\n #include \"absl/synchronization/mutex.h\"\n-#include \"xla/stream_executor/stream_executor.h\"\n+#include \"xla/backends/gpu/runtime/thunk.h\"\n+#include \"xla/service/buffer_assignment.h\"\n+#include \"xla/service/gpu/gpu_norm_runner.h\"\n+#include \"xla/stream_executor/device_memory.h\"\n+#include \"xla/stream_executor/lazy_op_runner.h\"\n+#include \"xla/stream_executor/stream.h\"\n+#include \"xla/tsl/platform/errors.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n #include \"xla/util.h\"\n \n namespace xla {"
        },
        {
            "sha": "099ea7be2ea889f6c94c4f78d58a3e842c55ca1f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/norm_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnorm_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnorm_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnorm_thunk.h?ref=aa027ccf24b064eff9c2f7c69aae3771d7087d17",
            "patch": "@@ -26,7 +26,7 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/gpu/gpu_norm_runner.h\"\n-#include \"xla/stream_executor/stream_executor.h\"\n+#include \"xla/stream_executor/stream.h\"\n #include \"xla/xla_data.pb.h\"\n \n namespace xla {"
        },
        {
            "sha": "889c813331beaf1c71f382e1025d5793f5a2f2dd",
            "filename": "third_party/xla/xla/service/gpu/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD?ref=aa027ccf24b064eff9c2f7c69aae3771d7087d17",
            "patch": "@@ -1208,19 +1208,15 @@ cc_library(\n         \":cublas_cudnn\",\n         \":stream_executor_util\",\n         \"//xla:shape_util\",\n-        \"//xla:status_macros\",\n-        \"//xla:types\",\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n-        \"//xla/hlo/ir:hlo\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:dnn\",\n         \"//xla/stream_executor:lazy_op_runner\",\n-        \"//xla/stream_executor:stream_executor_h\",\n+        \"//xla/stream_executor:stream\",\n+        \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n-        \"@com_google_absl//absl/strings\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n "
        },
        {
            "sha": "048794ef952f491072419f5773c487fb6a61ba97",
            "filename": "third_party/xla/xla/service/gpu/gpu_norm_runner.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_norm_runner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_norm_runner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_norm_runner.cc?ref=aa027ccf24b064eff9c2f7c69aae3771d7087d17",
            "patch": "@@ -21,11 +21,11 @@ limitations under the License.\n #include \"absl/status/status.h\"\n #include \"xla/service/gpu/backend_configs.pb.h\"\n #include \"xla/service/gpu/cublas_cudnn.h\"\n-#include \"xla/service/gpu/stream_executor_util.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/dnn.h\"\n #include \"xla/stream_executor/lazy_op_runner.h\"\n-#include \"tsl/platform/statusor.h\"\n+#include \"xla/stream_executor/stream.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n \n namespace xla {\n namespace gpu {"
        },
        {
            "sha": "c4f6df7738128cfb14cbae65f809eab52b58d958",
            "filename": "third_party/xla/xla/service/gpu/gpu_norm_runner.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_norm_runner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aa027ccf24b064eff9c2f7c69aae3771d7087d17/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_norm_runner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_norm_runner.h?ref=aa027ccf24b064eff9c2f7c69aae3771d7087d17",
            "patch": "@@ -23,17 +23,18 @@ limitations under the License.\n #include <vector>\n \n #include \"absl/status/status.h\"\n+#include \"absl/status/statusor.h\"\n #include \"xla/service/gpu/backend_configs.pb.h\"\n #include \"xla/service/gpu/cublas_cudnn.h\"\n #include \"xla/service/gpu/stream_executor_util.h\"\n #include \"xla/shape.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/dnn.h\"\n #include \"xla/stream_executor/lazy_op_runner.h\"\n-#include \"xla/stream_executor/stream_executor.h\"\n+#include \"xla/stream_executor/stream.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n #include \"xla/util.h\"\n #include \"xla/xla_data.pb.h\"\n-#include \"tsl/platform/statusor.h\"\n \n namespace xla {\n namespace gpu {"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 21,
        "deletions": 13
    }
}