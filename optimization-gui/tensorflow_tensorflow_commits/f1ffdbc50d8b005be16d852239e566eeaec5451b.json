{
    "author": "tensorflower-gardener",
    "message": "Fix tflite cmake build failures, tensorflow dropped the version support\n\nPiperOrigin-RevId: 808805474",
    "sha": "f1ffdbc50d8b005be16d852239e566eeaec5451b",
    "files": [
        {
            "sha": "6a97154aedbc5fbc3821a7abd931a0ccdda508cc",
            "filename": "tensorflow/lite/tools/cmake/modules/protobuf.cmake",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f1ffdbc50d8b005be16d852239e566eeaec5451b/tensorflow%2Flite%2Ftools%2Fcmake%2Fmodules%2Fprotobuf.cmake",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f1ffdbc50d8b005be16d852239e566eeaec5451b/tensorflow%2Flite%2Ftools%2Fcmake%2Fmodules%2Fprotobuf.cmake",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Ftools%2Fcmake%2Fmodules%2Fprotobuf.cmake?ref=f1ffdbc50d8b005be16d852239e566eeaec5451b",
            "patch": "@@ -37,9 +37,14 @@ if(NOT protobuf_POPULATED)\n   OverridableFetchContent_Populate(protobuf)\n endif()\n \n+# Export basic variables expected by consumers\n set(Protobuf_INCLUDE_DIR \"${protobuf_SOURCE_DIR}/src\" CACHE INTERNAL \"\")\n set(Protobuf_LIBRARIES protobuf::libprotobuf CACHE INTERNAL \"\")\n \n-add_subdirectory(${protobuf_SOURCE_DIR} ${protobuf_BINARY_DIR})\n+# Avoid adding the same subdirectory twice when multiple find_package calls\n+# occur in a single configure (e.g., from different subprojects).\n+if(NOT TARGET protobuf::libprotobuf)\n+  add_subdirectory(${protobuf_SOURCE_DIR} ${protobuf_BINARY_DIR})\n+endif()\n \n set(Protobuf_PROTOC_EXECUTABLE protoc CACHE INTERNAL \"\")"
        },
        {
            "sha": "7955d2fbad25619e6ea5daa791ec2f116c811044",
            "filename": "tensorflow/lite/version.h",
            "status": "modified",
            "additions": 25,
            "deletions": 1,
            "changes": 26,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f1ffdbc50d8b005be16d852239e566eeaec5451b/tensorflow%2Flite%2Fversion.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f1ffdbc50d8b005be16d852239e566eeaec5451b/tensorflow%2Flite%2Fversion.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fversion.h?ref=f1ffdbc50d8b005be16d852239e566eeaec5451b",
            "patch": "@@ -15,7 +15,31 @@ limitations under the License.\n #ifndef TENSORFLOW_LITE_VERSION_H_\n #define TENSORFLOW_LITE_VERSION_H_\n \n-#include \"tensorflow/core/public/release_version.h\"\n+// TODO (b/446006189): Generate the following file from a template that aligns\n+// LiteRT versioning.\n+// Update the following version number with every LiteRT release following the\n+// semantic versioning https://semver.org/\n+#ifndef TF_VERSION_STRING\n+#ifndef TF_MAJOR_VERSION\n+#define TF_MAJOR_VERSION 2\n+#endif\n+#ifndef TF_MINOR_VERSION\n+#define TF_MINOR_VERSION 19\n+#endif\n+#ifndef TF_PATCH_VERSION\n+#define TF_PATCH_VERSION 0\n+#endif\n+#ifndef TF_VERSION_SUFFIX\n+#define TF_VERSION_SUFFIX \"\"\n+#endif\n+#ifndef TF_STR_HELPER\n+#define TF_STR_HELPER(x) #x\n+#define TF_STR(x) TF_STR_HELPER(x)\n+#endif\n+#define TF_VERSION_STRING                                            \\\n+  (TF_STR(TF_MAJOR_VERSION) \".\" TF_STR(TF_MINOR_VERSION) \".\" TF_STR( \\\n+      TF_PATCH_VERSION) TF_VERSION_SUFFIX)\n+#endif  // TF_VERSION_STRING\n \n // The version number of the Schema. Ideally all changes will be backward\n // compatible. If that ever changes, we must ensure that version is the first"
        }
    ],
    "stats": {
        "total": 33,
        "additions": 31,
        "deletions": 2
    }
}