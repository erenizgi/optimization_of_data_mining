{
    "author": "mkuperst",
    "message": "[XLA] Remove HloModuleGroup overload of HloHardwareIndependentTestBase::RunHloPass.\n\nThis is no longer used after cl/814396797.\n\nPiperOrigin-RevId: 816666846",
    "sha": "83d9d5ef2672f089c4d5ad360597e9e6d0730c30",
    "files": [
        {
            "sha": "b34c2e953f8b72f78fff3aa56188e9e4036e0aea",
            "filename": "third_party/xla/xla/hlo/testlib/hlo_hardware_independent_test_base.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 21,
            "changes": 21,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/83d9d5ef2672f089c4d5ad360597e9e6d0730c30/third_party%2Fxla%2Fxla%2Fhlo%2Ftestlib%2Fhlo_hardware_independent_test_base.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/83d9d5ef2672f089c4d5ad360597e9e6d0730c30/third_party%2Fxla%2Fxla%2Fhlo%2Ftestlib%2Fhlo_hardware_independent_test_base.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftestlib%2Fhlo_hardware_independent_test_base.cc?ref=83d9d5ef2672f089c4d5ad360597e9e6d0730c30",
            "patch": "@@ -190,27 +190,6 @@ absl::StatusOr<bool> HloHardwareIndependentTestBase::RunHloPass(\n   return changed;\n }\n \n-/* static */\n-absl::StatusOr<bool> HloHardwareIndependentTestBase::RunHloPass(\n-    HloPassInterface&& hlo_pass, HloModuleGroup* module_group) {\n-  const std::string module_group_str_before_run =\n-      module_group->ToProto().ShortDebugString();\n-  const auto status_or = hlo_pass.RunOnModuleGroup(module_group);\n-  if (status_or.status().ok()) {\n-    const std::string module_group_str_after_run =\n-        module_group->ToProto().ShortDebugString();\n-    const bool passChangedHlo = status_or.value();\n-    if (passChangedHlo) {\n-      // Check that the proto actually changed.\n-      EXPECT_NE(module_group_str_after_run, module_group_str_before_run);\n-    } else {\n-      // Check that the proto remains same.\n-      EXPECT_EQ(module_group_str_after_run, module_group_str_before_run);\n-    }\n-  }\n-  return status_or;\n-}\n-\n /* static */\n PrecisionConfig HloHardwareIndependentTestBase::DefaultPrecisionConfig(\n     int operands) {"
        },
        {
            "sha": "d9a0973ce1b0bf6b0859d5fc1c614aef31b03e6b",
            "filename": "third_party/xla/xla/hlo/testlib/hlo_hardware_independent_test_base.h",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/83d9d5ef2672f089c4d5ad360597e9e6d0730c30/third_party%2Fxla%2Fxla%2Fhlo%2Ftestlib%2Fhlo_hardware_independent_test_base.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/83d9d5ef2672f089c4d5ad360597e9e6d0730c30/third_party%2Fxla%2Fxla%2Fhlo%2Ftestlib%2Fhlo_hardware_independent_test_base.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftestlib%2Fhlo_hardware_independent_test_base.h?ref=83d9d5ef2672f089c4d5ad360597e9e6d0730c30",
            "patch": "@@ -144,13 +144,6 @@ class HloHardwareIndependentTestBase : public ::testing::Test {\n     return RunHloPass(&hlo_pass, module);\n   }\n \n-  // Runs the hlo_pass with the provided module group and returns the result.\n-  // This method runs the input HLO module group pass for a `HloModuleGroup` and\n-  // it also verifies the module group remains unchanged when hlo_pass returns\n-  // false as the absl::StatusOr value.\n-  static absl::StatusOr<bool> RunHloPass(HloPassInterface&& hlo_pass,\n-                                         HloModuleGroup* module_group);\n-\n   // Sets most fath math options to be enabled to model the fast math flags\n   // generally used for CPU:AOT compilation.\n   static void SetAotFastMathDebugOptions(DebugOptions* options);"
        }
    ],
    "stats": {
        "total": 28,
        "additions": 0,
        "deletions": 28
    }
}