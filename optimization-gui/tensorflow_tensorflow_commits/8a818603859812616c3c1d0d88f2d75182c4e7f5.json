{
    "author": "thcmbs",
    "message": "[XLA:CPU] Disable algebraic simplification for conditional\n\nPiperOrigin-RevId: 840231820",
    "sha": "8a818603859812616c3c1d0d88f2d75182c4e7f5",
    "files": [
        {
            "sha": "895657789c891fd6c840f80713447ab1d53702bd",
            "filename": "third_party/xla/xla/service/cpu/cpu_compiler.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8a818603859812616c3c1d0d88f2d75182c4e7f5/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8a818603859812616c3c1d0d88f2d75182c4e7f5/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc?ref=8a818603859812616c3c1d0d88f2d75182c4e7f5",
            "patch": "@@ -483,7 +483,6 @@ std::unique_ptr<HloPassFix<HloPassPipeline>> CreateSimplificationPipeline(\n   options.set_executing_on_cpu(true);\n   options.set_enable_onednn_support(use_onednn_custom_call);\n   options.set_rewrite_no_op_bitcast_convert_to_bitcast(true);\n-  options.set_enable_conditional_simplification(true);\n   pipeline->AddPass<AlgebraicSimplifier>(options);\n   pipeline->AddPass<SortSimplifier>();\n   pipeline->AddPass<HloDCE>();\n@@ -1060,7 +1059,6 @@ absl::Status CpuCompiler::RunHloPassesAfterLayoutAssn(\n     // oneDNN support is currently enabled only when thunk runtime is turned off\n     options.set_enable_onednn_support(use_onednn_custom_call);\n     options.set_rewrite_no_op_bitcast_convert_to_bitcast(true);\n-    options.set_enable_conditional_simplification(true);\n     pipeline.AddPass<AlgebraicSimplifier>(options);\n     pipeline.AddPass<HloDCE>();\n     pipeline.AddPass<HloCSE>(/*is_layout_sensitive=*/true);"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 0,
        "deletions": 2
    }
}