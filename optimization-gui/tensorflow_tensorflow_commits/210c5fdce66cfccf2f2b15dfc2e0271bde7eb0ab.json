{
    "author": "ezhulenev",
    "message": "[tsl:concurrency] Reset moved-from Future AsyncValueRef\n\nPiperOrigin-RevId: 814282695",
    "sha": "210c5fdce66cfccf2f2b15dfc2e0271bde7eb0ab",
    "files": [
        {
            "sha": "33e3c58aa060b722f62684ff1b46603656aef9de",
            "filename": "third_party/xla/xla/tsl/concurrency/future.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/210c5fdce66cfccf2f2b15dfc2e0271bde7eb0ab/third_party%2Fxla%2Fxla%2Ftsl%2Fconcurrency%2Ffuture.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/210c5fdce66cfccf2f2b15dfc2e0271bde7eb0ab/third_party%2Fxla%2Fxla%2Ftsl%2Fconcurrency%2Ffuture.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fconcurrency%2Ffuture.h?ref=210c5fdce66cfccf2f2b15dfc2e0271bde7eb0ab",
            "patch": "@@ -362,6 +362,8 @@ class FutureBase : public FutureMoveControl<is_move_only> {\n             f(*promise);\n           }\n         });\n+    // Reset the promise to make the moved-from future \"empty\".\n+    promise_.reset();\n   }\n \n  protected:"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 2,
        "deletions": 0
    }
}