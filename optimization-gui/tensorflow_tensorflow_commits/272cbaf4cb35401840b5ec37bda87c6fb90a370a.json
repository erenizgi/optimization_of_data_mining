{
    "author": "draganmladjenovic",
    "message": "PR #31965: [ROCm] Skip GpuCompilerSelectKTest.SelectKOrCustomKernelThunk\n\nImported from GitHub PR https://github.com/openxla/xla/pull/31965\n\nğŸ“ Summary of Changes\nPartially skip GpuCompilerSelectKTest.SelectKOrCustomKernelThunk.\n\nğŸ¯ Justification\nMakes the CI green.\n\nğŸš€ Kind of Contribution\nğŸ› Bug Fix\n\nğŸ“Š Benchmark (for Performance Improvements)\nN\\A\n\nğŸ§ª Unit Tests:\nN\\A\n\nğŸ§ª Execution Tests:\nN\\A\n\nCopybara import of the project:\n\n--\n0212f5ee853eed94e44b47e59c05f75df82d589b by Dragan Mladjenovic <Dragan.Mladjenovic@amd.com>:\n\n[ROCm] Skip GpuCompilerSelectKTest.SelectKOrCustomKernelThunk\n\nMerging this change closes #31965\n\nPiperOrigin-RevId: 813657523",
    "sha": "272cbaf4cb35401840b5ec37bda87c6fb90a370a",
    "files": [
        {
            "sha": "8b7d1a8dae8ac153e4ceb6cea948db3a910ab028",
            "filename": "third_party/xla/xla/service/gpu/gpu_compiler_test.cc",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/272cbaf4cb35401840b5ec37bda87c6fb90a370a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_compiler_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/272cbaf4cb35401840b5ec37bda87c6fb90a370a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_compiler_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_compiler_test.cc?ref=272cbaf4cb35401840b5ec37bda87c6fb90a370a",
            "patch": "@@ -2183,6 +2183,15 @@ class GpuCompilerSelectKTest\n TEST_P(GpuCompilerSelectKTest, SelectKOrCustomKernelThunk) {\n   auto [n, k, expected_impl] = GetParam();\n \n+  bool is_rocm = std::holds_alternative<stream_executor::RocmComputeCapability>(\n+      backend()\n+          .default_stream_executor()\n+          ->GetDeviceDescription()\n+          .gpu_compute_capability());\n+\n+  if (is_rocm && expected_impl == TopKImpl::kSelectK) {\n+    GTEST_SKIP() << \"raft::select_k is not supported in ROCm.\";\n+  }\n   // Generate HLO text with parameters substituted.\n   std::string hlo_text = absl::Substitute(R\"(\n HloModule m"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 9,
        "deletions": 0
    }
}