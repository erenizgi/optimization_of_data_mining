{
    "author": "tensorflower-gardener",
    "message": "Add Hermetic C++ Toolchains for Linux aarch64 builds.\n\nHermetic toolchains provide builds that are isolated from the host system, cutting down on unexpected dependencies and side effects.\n\nBy default, XLA now builds for Linux aarch64 architectures (both CPU and CUDA-enabled GPU) using hermetic C++ toolchains. For non-hermetic builds, add the flag --config=clang_local.\n\nPiperOrigin-RevId: 802340500",
    "sha": "0a8dc6be41647d5cd49295b643e1de65e0bb04a2",
    "files": [
        {
            "sha": "32b1d6b159b6c7e3396db32c6cf1155b06a8f23e",
            "filename": "third_party/xla/WORKSPACE",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/0a8dc6be41647d5cd49295b643e1de65e0bb04a2/third_party%2Fxla%2FWORKSPACE",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/0a8dc6be41647d5cd49295b643e1de65e0bb04a2/third_party%2Fxla%2FWORKSPACE",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2FWORKSPACE?ref=0a8dc6be41647d5cd49295b643e1de65e0bb04a2",
            "patch": "@@ -9,10 +9,10 @@ load(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n # Details: https://github.com/google-ml-infra/rules_ml_toolchain\n http_archive(\n     name = \"rules_ml_toolchain\",\n-    sha256 = \"e7e44c4e349a1c1f31398bd2257c51432e73ea0e7e24cce67090b68b0b50007e\",\n-    strip_prefix = \"rules_ml_toolchain-55dcd0a52c7e0f9eec9927a32512229c09ac3b3e\",\n+    sha256 = \"f4f41445e4652e7e3c8e719121a4ed31dd161aa495f6704b6d972082a262658c\",\n+    strip_prefix = \"rules_ml_toolchain-353817f8f851f3291be221fc72ad0fcb00a4500c\",\n     urls = [\n-        \"https://github.com/google-ml-infra/rules_ml_toolchain/archive/55dcd0a52c7e0f9eec9927a32512229c09ac3b3e.tar.gz\",\n+        \"https://github.com/google-ml-infra/rules_ml_toolchain/archive/353817f8f851f3291be221fc72ad0fcb00a4500c.tar.gz\",\n     ],\n )\n \n@@ -27,6 +27,10 @@ register_toolchains(\"@rules_ml_toolchain//cc:linux_x86_64_linux_x86_64\")\n \n register_toolchains(\"@rules_ml_toolchain//cc:linux_x86_64_linux_x86_64_cuda\")\n \n+register_toolchains(\"@rules_ml_toolchain//cc:linux_aarch64_linux_aarch64\")\n+\n+register_toolchains(\"@rules_ml_toolchain//cc:linux_aarch64_linux_aarch64_cuda\")\n+\n # Initialize the XLA repository and all dependencies.\n #\n # The cascade of load() statements and xla_workspace?() calls works around the"
        },
        {
            "sha": "41069982fd80e88b588a6445e5b40e554b56f9a8",
            "filename": "third_party/xla/tensorflow.bazelrc",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/0a8dc6be41647d5cd49295b643e1de65e0bb04a2/third_party%2Fxla%2Ftensorflow.bazelrc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/0a8dc6be41647d5cd49295b643e1de65e0bb04a2/third_party%2Fxla%2Ftensorflow.bazelrc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Ftensorflow.bazelrc?ref=0a8dc6be41647d5cd49295b643e1de65e0bb04a2",
            "patch": "@@ -229,12 +229,6 @@ build:cuda_nvcc --@local_config_cuda//:cuda_compiler=nvcc\n # Old config for backward compatibility\n build:nvcc_clang --config=cuda_nvcc\n \n-# TODO(yuriit): Remove this once Linux aarch64 hermetic build is supported.\n-# This is a temporary solution to build for Linux aarch64 by using NVCC.\n-build:cuda_nvcc_linux_aarch64 --config=cuda_nvcc\n-build:cuda_nvcc_linux_aarch64 --config=clang_local\n-build:cuda_nvcc_linux_aarch64 --crosstool_top=@local_config_cuda//crosstool:toolchain\n-\n # Debug config. Enables Bazel's 'dbg' compilation mode, build with debugging enabled\n build:dbg -c dbg\n # Compiling all dependencies with debug info can cause linker failures"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 7,
        "deletions": 9
    }
}