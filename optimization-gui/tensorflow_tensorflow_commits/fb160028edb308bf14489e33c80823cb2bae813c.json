{
    "author": "pifon2a",
    "message": "[XLA:GPU] Move gpu_specs/* to xla/backends/gpu/specs/*.\n\nPiperOrigin-RevId: 845168853",
    "sha": "fb160028edb308bf14489e33c80823cb2bae813c",
    "files": [
        {
            "sha": "723406e74d991ae1b0e2074b70ff00eb5ed3a053",
            "filename": "third_party/xla/docs/test_hlo_passes.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fdocs%2Ftest_hlo_passes.md",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fdocs%2Ftest_hlo_passes.md",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fdocs%2Ftest_hlo_passes.md?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -51,7 +51,7 @@ For example, some\n be written as follows:\n \n ```\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK-%{PTX} %s\n \n HloModule Test, is_scheduled=true\n fused_computation {"
        },
        {
            "sha": "385fb6153ff02316587551b8865e744b72efb502",
            "filename": "third_party/xla/xla/backends/gpu/BUILD",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2FBUILD?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -32,3 +32,12 @@ cc_library(\n         \"@com_google_absl//absl/base:core_headers\",\n     ],\n )\n+\n+filegroup(\n+    name = \"all_gpu_specs\",\n+    data = glob([\"specs/*.txtpb\"]),\n+)\n+\n+exports_files(glob([\n+    \"specs/*.txtpb\",\n+]))"
        },
        {
            "sha": "8d15dbb7e52690d6d5e732bda2df449d77efecd0",
            "filename": "third_party/xla/xla/backends/gpu/specs/README.md",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2FREADME.md",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2FREADME.md",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2FREADME.md?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/README.md"
        },
        {
            "sha": "3652ace77f781db3bfc6aeefd548ce72f7bb70f0",
            "filename": "third_party/xla/xla/backends/gpu/specs/a100_pcie_80.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_pcie_80.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_pcie_80.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_pcie_80.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/a100_pcie_80.txtpb"
        },
        {
            "sha": "e46139481fc8b4731c6782ede14ca21038b43730",
            "filename": "third_party/xla/xla/backends/gpu/specs/a100_sxm_40.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_sxm_40.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_sxm_40.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_sxm_40.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/a100_sxm_40.txtpb"
        },
        {
            "sha": "abe87b63d6bcafbf920e5f8b5165a8e8f03a9dbe",
            "filename": "third_party/xla/xla/backends/gpu/specs/a100_sxm_80.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_sxm_80.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_sxm_80.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa100_sxm_80.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/a100_sxm_80.txtpb"
        },
        {
            "sha": "b864cee30fef2f59cc22a82f227d0483a5b7ae4b",
            "filename": "third_party/xla/xla/backends/gpu/specs/a6000.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa6000.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa6000.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fa6000.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/a6000.txtpb"
        },
        {
            "sha": "e00f759fe6c6b75d4234562467e80bd73c72f101",
            "filename": "third_party/xla/xla/backends/gpu/specs/b200.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fb200.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fb200.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fb200.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/b200.txtpb"
        },
        {
            "sha": "76d77b2cda6089bbddbb98ba901c484b78a1d696",
            "filename": "third_party/xla/xla/backends/gpu/specs/b300.txtpb",
            "status": "renamed",
            "additions": 29,
            "deletions": 30,
            "changes": 59,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fb300.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fb300.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fb300.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -11,33 +11,32 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n # See the License for the specific language governing permissions and\r\n # limitations under the License.\r\n-\r\n-gpu_device_info {\r\n-  threads_per_block_limit: 1024\r\n-  threads_per_warp: 32\r\n-  shared_memory_per_block: 49152\r\n-  shared_memory_per_core: 233472\r\n-  threads_per_core_limit: 2048\r\n-  core_count: 158\r\n-  fpus_per_core: 128\r\n-  block_dim_limit_x: 2147483647\r\n-  block_dim_limit_y: 65535\r\n-  block_dim_limit_z: 65535\r\n-  memory_bandwidth: 7936000000000\r\n-  l2_cache_size: 135528448\r\n-  clock_rate_ghz: 1.965\r\n-  device_memory_size: 297021865984\r\n-  shared_memory_per_block_optin: 232448\r\n-  cuda_compute_capability {\r\n-    major: 10\r\n-    minor: 3\r\n-  }\r\n-  registers_per_core_limit: 65536\r\n-  registers_per_block_limit: 65536\r\n-}\r\n-platform_name: \"CUDA\"\r\n-dnn_version_info {\r\n-  major: 9\r\n-  minor: 9\r\n-}\r\n-device_description_str: \"NVIDIA B300\"\r\n+{\n+  threads_per_block_limit: 1024\n+  threads_per_warp: 32\n+  shared_memory_per_block: 49152\n+  shared_memory_per_core: 233472\n+  threads_per_core_limit: 2048\n+  core_count: 158\n+  fpus_per_core: 128\n+  block_dim_limit_x: 2147483647\n+  block_dim_limit_y: 65535\n+  block_dim_limit_z: 65535\n+  memory_bandwidth: 7936000000000\n+  l2_cache_size: 135528448\n+  clock_rate_ghz: 1.965\n+  device_memory_size: 297021865984\n+  shared_memory_per_block_optin: 232448\n+  cuda_compute_capability {\n+    major: 10\n+    minor: 3\n+  }\n+  registers_per_core_limit: 65536\n+  registers_per_block_limit: 65536\n+}\n+platform_name: \"CUDA\"\n+dnn_version_info {\n+  major: 9\n+  minor: 9\n+}\n+device_description_str: \"NVIDIA B300\"",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/b300.txtpb"
        },
        {
            "sha": "6daee1e45ff81ac92eac070ffae49396590ad38a",
            "filename": "third_party/xla/xla/backends/gpu/specs/h100_pcie.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fh100_pcie.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fh100_pcie.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fh100_pcie.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/h100_pcie.txtpb"
        },
        {
            "sha": "7760c5634d41aa3720fa96774c0517b5cf1e7103",
            "filename": "third_party/xla/xla/backends/gpu/specs/h100_sxm.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fh100_sxm.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fh100_sxm.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fh100_sxm.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/h100_sxm.txtpb"
        },
        {
            "sha": "e72fa777e2ac34d8a503fc3b4555d19ef5bdbb4d",
            "filename": "third_party/xla/xla/backends/gpu/specs/mi200.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fmi200.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fmi200.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fmi200.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/mi200.txtpb"
        },
        {
            "sha": "3aa8ce9352ebb1d8800628fe80b7cce3bcea63c3",
            "filename": "third_party/xla/xla/backends/gpu/specs/p100.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fp100.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fp100.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fp100.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/p100.txtpb"
        },
        {
            "sha": "8474e435a882e2888e562564c860de1335d67aa1",
            "filename": "third_party/xla/xla/backends/gpu/specs/v100.txtpb",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fv100.txtpb",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fv100.txtpb",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fspecs%2Fv100.txtpb?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "previous_filename": "third_party/xla/xla/tools/hlo_opt/gpu_specs/v100.txtpb"
        },
        {
            "sha": "75bd84958410bd1b98665f1b68bff79e13a2c8a4",
            "filename": "third_party/xla/xla/lit.bzl",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Flit.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Flit.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Flit.bzl?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -206,13 +206,13 @@ def lit_test_suite_for_gpus(\n             \"--param=GPU=%s\" % (gpu),\n         ]\n         gpu_data = data + [\n-            \"//xla/tools/hlo_opt:gpu_specs/a100_pcie_80.txtpb\",\n-            \"//xla/tools/hlo_opt:gpu_specs/a6000.txtpb\",\n-            \"//xla/tools/hlo_opt:gpu_specs/b200.txtpb\",\n-            \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n-            \"//xla/tools/hlo_opt:gpu_specs/mi200.txtpb\",\n-            \"//xla/tools/hlo_opt:gpu_specs/p100.txtpb\",\n-            \"//xla/tools/hlo_opt:gpu_specs/v100.txtpb\",\n+            \"//xla/backends/gpu:specs/a100_pcie_80.txtpb\",\n+            \"//xla/backends/gpu:specs/a6000.txtpb\",\n+            \"//xla/backends/gpu:specs/b200.txtpb\",\n+            \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n+            \"//xla/backends/gpu:specs/mi200.txtpb\",\n+            \"//xla/backends/gpu:specs/p100.txtpb\",\n+            \"//xla/backends/gpu:specs/v100.txtpb\",\n         ]\n         lit_test_suite(\n             \"%s_%s\" % (name, gpu),"
        },
        {
            "sha": "681ca64d46e3e6a91310dfa2288cf5aaa7cfd9c3",
            "filename": "third_party/xla/xla/service/BUILD",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2FBUILD?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -5817,34 +5817,34 @@ xla_aot_compile_cpu(\n xla_aot_compile_gpu(\n     name = \"xla_aot_compile_test_gpu_executable\",\n     autotune_results = \"xla_aot_compile_test_autotune_results.txtpb\",\n-    gpu_target_config = \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n+    gpu_target_config = \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n     module = \"xla_aot_compile_test.mlir\",\n )\n \n xla_aot_compile_gpu(\n     name = \"xla_aot_compile_test_gpu_executable_hlo\",\n     autotune_results = \"xla_aot_compile_test_autotune_results.txtpb\",\n-    gpu_target_config = \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n+    gpu_target_config = \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n     module = \"xla_aot_compile_test.hlo\",\n )\n \n xla_aot_compile_gpu(\n     name = \"xla_aot_compile_test_gpu_executable_constant\",\n     autotune_results = \"xla_aot_compile_test_autotune_results.txtpb\",\n-    gpu_target_config = \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n+    gpu_target_config = \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n     module = \"xla_aot_compile_test_constant.mlir\",\n )\n \n xla_aot_compile_gpu(\n     name = \"xla_aot_compile_test_gpu_executable_convolution\",\n     autotune_results = \"xla_aot_compile_test_autotune_results.txtpb\",\n-    gpu_target_config = \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n+    gpu_target_config = \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n     module = \"xla_aot_compile_test_convolution.mlir\",\n )\n \n xla_aot_compile_gpu_runtime_autotuning(\n     name = \"xla_aot_compile_test_gpu_executable_convolution_runtime_autotuning\",\n-    gpu_target_config = \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n+    gpu_target_config = \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n     module = \"xla_aot_compile_test_convolution.mlir\",\n )\n "
        },
        {
            "sha": "ddbf483fc5a710e7cca567c549bf730fd7b3fa12",
            "filename": "third_party/xla/xla/service/gpu/autotuning/BUILD",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2FBUILD?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -411,9 +411,9 @@ xla_cc_test(\n     name = \"autotune_cache_key_test\",\n     srcs = [\"autotune_cache_key_test.cc\"],\n     data = [\n-        \"//xla/tools/hlo_opt:gpu_specs/a100_sxm_40.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/a100_sxm_80.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/mi200.txtpb\",\n+        \"//xla/backends/gpu:specs/a100_sxm_40.txtpb\",\n+        \"//xla/backends/gpu:specs/a100_sxm_80.txtpb\",\n+        \"//xla/backends/gpu:specs/mi200.txtpb\",\n     ],\n     deps = [\n         \":autotune_cache_key\",\n@@ -678,9 +678,9 @@ xla_cc_test(\n     name = \"autotuner_util_test\",\n     srcs = [\"autotuner_util_test.cc\"],\n     data = [\n-        \"//xla/tools/hlo_opt:gpu_specs/a100_sxm_40.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/a100_sxm_80.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/mi200.txtpb\",\n+        \"//xla/backends/gpu:specs/a100_sxm_40.txtpb\",\n+        \"//xla/backends/gpu:specs/a100_sxm_80.txtpb\",\n+        \"//xla/backends/gpu:specs/mi200.txtpb\",\n     ],\n     tags = [\n         \"gpu\","
        },
        {
            "sha": "dcb44e7f8cec60d9472135c9865508cbc01ad292",
            "filename": "third_party/xla/xla/service/gpu/autotuning/autotune_cache_key_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotune_cache_key_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotune_cache_key_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotune_cache_key_test.cc?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -66,8 +66,8 @@ TEST(AutotuneCacheKeyTest, DeviceDescriptionToCacheKey) {\n     std::string spec_string;\n     CHECK_OK(tsl::ReadFileToString(\n         tsl::Env::Default(),\n-        tsl::io::JoinPath(tsl::testing::XlaSrcRoot(), \"tools\", \"hlo_opt\",\n-                          \"gpu_specs\", spec_file_name),\n+        tsl::io::JoinPath(tsl::testing::XlaSrcRoot(), \"backends\", \"gpu\",\n+                          \"specs\", spec_file_name),\n         &spec_string));\n     EXPECT_TRUE(\n         tsl::protobuf::TextFormat::ParseFromString(spec_string, &proto));"
        },
        {
            "sha": "a99ce566bf86817e0853806f4abd31670bff8f56",
            "filename": "third_party/xla/xla/service/gpu/gpu_spmd_pipeline_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_spmd_pipeline_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_spmd_pipeline_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fgpu_spmd_pipeline_test.cc?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -60,7 +60,7 @@ class GpuSpmdPartitioningTest : public HloHardwareIndependentTestBase,\n     HloPassPipeline spmd_pipeline(\"spmd-partitioner\");\n     se::CudaComputeCapability ampere(8, 0);\n     AlgebraicSimplifierOptions alg_simplifier_options;\n-    // Ampere Core_count from tensorflow/compiler/xla/tools/hlo_opt/gpu_specs/.\n+    // Ampere Core_count from tensorflow/compiler/xla/backends/gpu/specs/.\n     AddSPMDPasses(module.get(), alg_simplifier_options, ampere, spmd_pipeline,\n                   std::nullopt);\n     TF_RETURN_IF_ERROR(spmd_pipeline.Run(module.get()).status());"
        },
        {
            "sha": "831e2cce5977ce84318e0414eeab30d7d4bafc6e",
            "filename": "third_party/xla/xla/service/gpu/tests/bitcast-convert.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fbitcast-convert.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fbitcast-convert.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fbitcast-convert.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck  %s\n+// RUN: hlo-opt %s --platform=gpu --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck  %s\n \n e {\n   a = s4[8,2]{1,0} parameter(0)"
        },
        {
            "sha": "6ba3138d32f91c1b85cd55bd19477a7abb3a7dc4",
            "filename": "third_party/xla/xla/service/gpu/tests/calling_convention.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fcalling_convention.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fcalling_convention.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fcalling_convention.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n \n // Arguments are passed separately.\n // Even constant arguments are passed as arguments."
        },
        {
            "sha": "9c2a3ffe4067109eb2b88295059ace008d1312c9",
            "filename": "third_party/xla/xla/service/gpu/tests/dot_bf16.hlo",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fdot_bf16.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fdot_bf16.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fdot_bf16.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,6 +1,6 @@\n-// RUN: %if !IS_ROCM %{ hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/v100.txtpb --split-input-file | FileCheck %s --check-prefixes=CHECK-SM70 %}\n-// RUN: %if !IS_ROCM %{ hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/a100_pcie_80.txtpb --split-input-file --xla_gpu_autotune_level=0 --xla_gpu_enable_triton_gemm=false | FileCheck %s --check-prefixes=CHECK-SM80 %}\n-// RUN: %if IS_ROCM %{ hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/mi200.txtpb --split-input-file --xla_gpu_autotune_level=0 --xla_gpu_enable_triton_gemm=false | FileCheck %s --check-prefixes=CHECK-SM80 %}\n+// RUN: %if !IS_ROCM %{ hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/v100.txtpb --split-input-file | FileCheck %s --check-prefixes=CHECK-SM70 %}\n+// RUN: %if !IS_ROCM %{ hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/a100_pcie_80.txtpb --split-input-file --xla_gpu_autotune_level=0 --xla_gpu_enable_triton_gemm=false | FileCheck %s --check-prefixes=CHECK-SM80 %}\n+// RUN: %if IS_ROCM %{ hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/mi200.txtpb --split-input-file --xla_gpu_autotune_level=0 --xla_gpu_enable_triton_gemm=false | FileCheck %s --check-prefixes=CHECK-SM80 %}\n \n \n // CHECK-SM70: %[[convert1:.+]] = f32[1536,6144]{1,0} fusion(%{{.+}})"
        },
        {
            "sha": "a0a40ea5c8d9e1efd642f0ed1b13ff5208239b64",
            "filename": "third_party/xla/xla/service/gpu/tests/kernel_reuse.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fkernel_reuse.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fkernel_reuse.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fkernel_reuse.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb --split-input-file | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb --split-input-file | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n \n // All fusions must reuse the same kernel:\n // CHECK-LABEL: target triple"
        },
        {
            "sha": "6ed7b42bdd369a47e58737b982343a8ef6257c2b",
            "filename": "third_party/xla/xla/service/gpu/tests/offload_scan_output.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Foffload_scan_output.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Foffload_scan_output.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Foffload_scan_output.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb --split-input-file | FileCheck --check-prefixes=CHECK %s\n+// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb --split-input-file | FileCheck --check-prefixes=CHECK %s\n \n HloModule jit_f, entry_computation_layout={()->(f32[4]{0:S(5)}, f32[4]{0})}, allow_spmd_sharding_propagation_to_output={true,true}\n "
        },
        {
            "sha": "4681d8bb6293b379d331b02eedd12a9aa2a1c24f",
            "filename": "third_party/xla/xla/service/gpu/tests/pad_to_static.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fpad_to_static.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fpad_to_static.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fpad_to_static.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n \n // NOTE: Assertions have been autogenerated by utils/generate-test-checks.py\n "
        },
        {
            "sha": "2686645ffa76b0f4e61bbdfcac42379efb0efd01",
            "filename": "third_party/xla/xla/service/gpu/tests/reduce-precision.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Freduce-precision.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Freduce-precision.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Freduce-precision.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck  %s\n+// RUN: hlo-opt %s --platform=gpu --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck  %s\n \n e {\n   a = bf16[] parameter(0)"
        },
        {
            "sha": "a351a41eeb4212ab7147a6c750cab089e1b4ce18",
            "filename": "third_party/xla/xla/service/gpu/tests/reduce_fold_zero_add.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Freduce_fold_zero_add.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Freduce_fold_zero_add.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Freduce_fold_zero_add.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-after-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb --split-input-file | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-after-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb --split-input-file | FileCheck %s\n \n HloModule test\n "
        },
        {
            "sha": "f218bfd5f46c40c897f6cf1438f60f89398c06a7",
            "filename": "third_party/xla/xla/service/gpu/tests/rng_get_and_update_state.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Frng_get_and_update_state.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Frng_get_and_update_state.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Frng_get_and_update_state.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck %s\n \n HloModule TestModule, is_scheduled=true\n "
        },
        {
            "sha": "25b1ddbd10d2625188f91259cba97c519f952d04",
            "filename": "third_party/xla/xla/service/gpu/tests/single_instruction.hlo",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsingle_instruction.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsingle_instruction.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsingle_instruction.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,6 +1,6 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=ptx --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb --split-input-file | FileCheck %s\n-// RUN: hlo-opt %s --platform=gpu --stage=ptx --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/a100_pcie_80.txtpb --split-input-file | FileCheck %s --check-prefixes=CHECK-SM80\n-// RUN: hlo-opt %s --platform=gpu --stage=ptx --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/h100_sxm.txtpb --split-input-file | FileCheck %s --check-prefixes=CHECK-SM90\n+// RUN: hlo-opt %s --platform=gpu --stage=ptx --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb --split-input-file | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=ptx --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/a100_pcie_80.txtpb --split-input-file | FileCheck %s --check-prefixes=CHECK-SM80\n+// RUN: hlo-opt %s --platform=gpu --stage=ptx --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/h100_sxm.txtpb --split-input-file | FileCheck %s --check-prefixes=CHECK-SM90\n \n // CHECK-DAG: sqrt.approx.f32\n "
        },
        {
            "sha": "c353ad741a4deeff9eb8cf619044117413a445e0",
            "filename": "third_party/xla/xla/service/gpu/tests/slice_to_dynamic.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fslice_to_dynamic.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fslice_to_dynamic.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fslice_to_dynamic.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n \n // NOTE: Assertions have been autogenerated by utils/generate-test-checks.py\n "
        },
        {
            "sha": "868666512e6b2f3e40b28141d1d0a9faa3f50b57",
            "filename": "third_party/xla/xla/service/gpu/tests/sorting.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsorting.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsorting.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsorting.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,5 +1,5 @@\n // NOTE: Assertions have been autogenerated by utils/generate-test-checks.py\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb --split-input-file | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb --split-input-file | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n \n HloModule TestModule, is_scheduled=true\n "
        },
        {
            "sha": "acd8b35b1f5252cbbff3edc8fbd85cf0731d92b1",
            "filename": "third_party/xla/xla/service/gpu/tests/sub_byte_collectives.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsub_byte_collectives.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsub_byte_collectives.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fsub_byte_collectives.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --split-input-file --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck  %s\n+// RUN: hlo-opt %s --platform=gpu --split-input-file --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck  %s\n \n e {\n   a = s4[4,16]{1,0:E(4)} parameter(0)"
        },
        {
            "sha": "37674565a81d5059d089b713d257189a529eff74",
            "filename": "third_party/xla/xla/service/gpu/tests/triton_calling_convention.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Ftriton_calling_convention.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Ftriton_calling_convention.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Ftriton_calling_convention.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK-%{PTX} %s\n \n // Verify that Triton kernels have the correct calling convention:\n // - PTX_KERNEL (71) for NVIDIA targets"
        },
        {
            "sha": "f042371e435f103062c214213ce9b3b8870fa60b",
            "filename": "third_party/xla/xla/service/gpu/tests/triton_naming.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Ftriton_naming.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Ftriton_naming.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Ftriton_naming.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK-%{PTX} %s\n \n // CHECK-PTX: define ptx_kernel void @triton_gemm_r(\n // CHECK-GCN: define amdgpu_kernel void @triton_gemm_r("
        },
        {
            "sha": "39294a000c2d8a1ed18a81eeeaf4d1c755919520",
            "filename": "third_party/xla/xla/service/gpu/tests/zero_clamp_abs_index.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fzero_clamp_abs_index.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fzero_clamp_abs_index.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftests%2Fzero_clamp_abs_index.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/%{GPU}.txtpb | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck %s\n \n e {\n   p0 = s32[8,9] parameter(0)"
        },
        {
            "sha": "abd291790b3331ada7310a3113eb049446a2713c",
            "filename": "third_party/xla/xla/service/gpu/transforms/BUILD",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1740,9 +1740,9 @@ lit_test_suite(\n     ),\n     cfg = \"//xla:lit.cfg.py\",\n     data = [\n-        \"//xla/tools/hlo_opt:gpu_specs/a100_pcie_80.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/v100.txtpb\",\n+        \"//xla/backends/gpu:specs/a100_pcie_80.txtpb\",\n+        \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n+        \"//xla/backends/gpu:specs/v100.txtpb\",\n     ],\n     default_tags = tf_gpu_tests_tags(),\n     tools = ["
        },
        {
            "sha": "8230d28582b039e1a0c65a6a9d39714dd67b6432",
            "filename": "third_party/xla/xla/service/gpu/transforms/layout_assignment_a100.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_a100.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_a100.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_a100.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/a100_pcie_80.txtpb --split-input-file | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/a100_pcie_80.txtpb --split-input-file | FileCheck %s\n \n // CHECK: fused_transpose\n // CHECK-NEXT: bf16[3,3,16,32]{3,2,1,0} parameter(0)"
        },
        {
            "sha": "ab91085ea9b00f70d445fd3809c795452e4d6f6d",
            "filename": "third_party/xla/xla/service/gpu/transforms/layout_assignment_h100.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_h100.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_h100.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_h100.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/h100_sxm.txtpb --split-input-file | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/h100_sxm.txtpb --split-input-file | FileCheck %s\n \n // CHECK: fused_transpose\n // CHECK-NEXT: f8e4m3fn[3,3,16,32]{3,2,1,0} parameter(0)"
        },
        {
            "sha": "a627b6551cf7eda8805c5e5c16725ecf447f9f4f",
            "filename": "third_party/xla/xla/service/gpu/transforms/layout_assignment_v100.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_v100.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_v100.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Flayout_assignment_v100.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../tools/hlo_opt/gpu_specs/v100.txtpb --split-input-file | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/v100.txtpb --split-input-file | FileCheck %s\n \n // CHECK: fused_transpose\n // CHECK-NEXT: f16[3,3,16,32]{3,2,1,0} parameter(0)"
        },
        {
            "sha": "09200e423bd1b8587fa20a4a579850a69f453f53",
            "filename": "third_party/xla/xla/stream_executor/gpu/BUILD",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fstream_executor%2Fgpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fstream_executor%2Fgpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fgpu%2FBUILD?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -707,16 +707,16 @@ xla_test(\n     srcs = [\"gpu_device_info_test.cc\"],\n     backends = [\"gpu\"],\n     data = [\n-        \"//xla/tools/hlo_opt:gpu_specs/a100_pcie_80.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/a100_sxm_40.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/a100_sxm_80.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/a6000.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/b200.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/h100_pcie.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/mi200.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/p100.txtpb\",\n-        \"//xla/tools/hlo_opt:gpu_specs/v100.txtpb\",\n+        \"//xla/backends/gpu:specs/a100_pcie_80.txtpb\",\n+        \"//xla/backends/gpu:specs/a100_sxm_40.txtpb\",\n+        \"//xla/backends/gpu:specs/a100_sxm_80.txtpb\",\n+        \"//xla/backends/gpu:specs/a6000.txtpb\",\n+        \"//xla/backends/gpu:specs/b200.txtpb\",\n+        \"//xla/backends/gpu:specs/h100_pcie.txtpb\",\n+        \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n+        \"//xla/backends/gpu:specs/mi200.txtpb\",\n+        \"//xla/backends/gpu:specs/p100.txtpb\",\n+        \"//xla/backends/gpu:specs/v100.txtpb\",\n     ],\n     deps = [\n         \"//xla/service:platform_util\","
        },
        {
            "sha": "3470b878182ab731421db74770969f518cb811d4",
            "filename": "third_party/xla/xla/stream_executor/gpu/gpu_device_info_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fstream_executor%2Fgpu%2Fgpu_device_info_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Fstream_executor%2Fgpu%2Fgpu_device_info_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fgpu%2Fgpu_device_info_test.cc?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -45,8 +45,8 @@ TEST(DeviceInfoTest, DeviceInfoMatches) {\n     std::string spec_string;\n     TF_ASSERT_OK(tsl::ReadFileToString(\n         tsl::Env::Default(),\n-        tsl::io::JoinPath(tsl::testing::XlaSrcRoot(), \"tools\", \"hlo_opt\",\n-                          \"gpu_specs\", absl::StrCat(file_name, \".txtpb\")),\n+        tsl::io::JoinPath(tsl::testing::XlaSrcRoot(), \"backends\", \"gpu\",\n+                          \"specs\", absl::StrCat(file_name, \".txtpb\")),\n         &spec_string));\n     ASSERT_TRUE(\n         tsl::protobuf::TextFormat::ParseFromString(spec_string, &proto));"
        },
        {
            "sha": "7cfbccb52aba71a8e267599c9fe5994ba526aaee",
            "filename": "third_party/xla/xla/tools/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2FBUILD?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1103,8 +1103,8 @@ xla_test(\n     ],\n     data = [\n         \":data/add.hlo\",\n+        \"//xla/backends/gpu:specs/h100_sxm.txtpb\",\n         \"//xla/service/gpu:gpu_compiler_test_autotune_db.textproto\",\n-        \"//xla/tools/hlo_opt:gpu_specs/h100_sxm.txtpb\",\n     ],\n     deps = [\n         \":xla_compile_lib\","
        },
        {
            "sha": "4eeffad9c2b681b728505a51932674d4b2a5d778",
            "filename": "third_party/xla/xla/tools/hlo_opt/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 11,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2FBUILD?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -258,18 +258,8 @@ filegroup(\n     name = \"test_utilities\",\n     testonly = True,\n     data = [\n-        \"gpu_specs/a100_pcie_80.txtpb\",\n-        \"gpu_specs/mi200.txtpb\",\n+        \"//xla/backends/gpu:all_gpu_specs\",\n         \"//xla/tools:hlo-opt\",\n         \"@llvm-project//llvm:FileCheck\",\n     ],\n )\n-\n-filegroup(\n-    name = \"all_gpu_specs\",\n-    data = glob([\"gpu_specs/*.txtpb\"]),\n-)\n-\n-exports_files(glob([\n-    \"gpu_specs/*.txtpb\",\n-]))"
        },
        {
            "sha": "cb45f800808a5905ef76c04a2421f140bf76f9f5",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=hlo --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck %s\n \n HloModule module\n "
        },
        {
            "sha": "9a60d938a9562f138fa870c2602200190d2d97d7",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo_backend.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_backend.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_backend.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_backend.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=hlo-backend --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=hlo-backend --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck %s\n \n HloModule module\n "
        },
        {
            "sha": "65abb9b3ab2c09326e40ddca6e1e8ea6a5894524",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo_buffers.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_buffers.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_buffers.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_buffers.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=buffer-assignment --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=buffer-assignment --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck %s\n \n HloModule m\n "
        },
        {
            "sha": "f2d9127e5bff21b74a661e525f1b906e74ad3a6c",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo_collective_cse.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_collective_cse.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_collective_cse.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_collective_cse.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=hlo --passes=schedule-aware-collective-cse --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb --xla_gpu_experimental_collective_cse_distance_threshold=100 | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=hlo --passes=schedule-aware-collective-cse --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb --xla_gpu_experimental_collective_cse_distance_threshold=100 | FileCheck %s\n \n HloModule m\n "
        },
        {
            "sha": "74675fddafa9edcadb13b6dd24b0dfa48f3cb1ea",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo_html.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_html.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_html.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_html.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=html --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --stage=html --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck %s\n \n // CHECK: <!DOCTYPE html>\n // CHECK: bitcast"
        },
        {
            "sha": "dc1ca2693ffb6e4d4046c45001b6a45a4e6ccf4f",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo_llvm.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_llvm.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_llvm.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_llvm.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb --split-input-file | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb --split-input-file | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n \n HloModule m\n "
        },
        {
            "sha": "60fe903cee5326602bd2d7c5352e1c0cfcbbec76",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo_pass.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_pass.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_pass.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_pass.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --passes=dot-algorithm-rewriter --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb | FileCheck %s\n+// RUN: hlo-opt %s --platform=gpu --passes=dot-algorithm-rewriter --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck %s\n \n HloModule Algorithm3xBF16\n // CHECK-LABEL: HloModule Algorithm3xBF16, entry_computation_layout={(f32[128,128]{1,0}, f32[128,128]{1,0})->f32[128,128]{1,0}}"
        },
        {
            "sha": "20a86530be50cb48819f4890ce5ab26763e3e091",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo_ptx.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_ptx.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_ptx.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_ptx.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=CUDA --stage=ptx --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb --split-input-file | FileCheck %s\n+// RUN: hlo-opt %s --platform=CUDA --stage=ptx --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb --split-input-file | FileCheck %s\n \n HloModule m\n "
        },
        {
            "sha": "b8888a5d3629441893c9bd18492898b8911a1b99",
            "filename": "third_party/xla/xla/tools/hlo_opt/tests/gpu_hlo_unoptimized_llvm.hlo",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_unoptimized_llvm.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_unoptimized_llvm.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Ftests%2Fgpu_hlo_unoptimized_llvm.hlo?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -1,4 +1,4 @@\n-// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../gpu_specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n+// RUN: hlo-opt %s --platform=gpu --stage=llvm-before-optimizations --xla_gpu_target_config_filename=%S/../../../backends/gpu/specs/%{GPU}.txtpb | FileCheck --check-prefixes=CHECK,CHECK-%{PTX} %s\n \n // CHECK-PTX:     define ptx_kernel void @fusion\n // CHECK-GCN:     define amdgpu_kernel void @fusion"
        },
        {
            "sha": "d3eec58a3de9945c24f7450a0ce1c1930878a91e",
            "filename": "third_party/xla/xla/tools/xla_gpu_compile_lib_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fxla_gpu_compile_lib_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fb160028edb308bf14489e33c80823cb2bae813c/third_party%2Fxla%2Fxla%2Ftools%2Fxla_gpu_compile_lib_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fxla_gpu_compile_lib_test.cc?ref=fb160028edb308bf14489e33c80823cb2bae813c",
            "patch": "@@ -72,7 +72,7 @@ TEST_F(XlaCompileLibTest, CompilesForGpuWithDevice) {\n \n TEST_F(XlaCompileLibTest, CompilesForGpuWithoutDevice) {\n   const std::string target_config_path = tsl::io::JoinPath(\n-      tsl::testing::XlaSrcRoot(), \"tools/hlo_opt/gpu_specs\", \"h100_sxm.txtpb\");\n+      tsl::testing::XlaSrcRoot(), \"backends/gpu/specs\", \"h100_sxm.txtpb\");\n   stream_executor::GpuTargetConfigProto target_config;\n   TF_ASSERT_OK(tsl::ReadTextProto(tsl::Env::Default(), target_config_path,\n                                   &target_config));"
        }
    ],
    "stats": {
        "total": 222,
        "additions": 110,
        "deletions": 112
    }
}