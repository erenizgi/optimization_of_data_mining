{
    "author": "apivovarov",
    "message": "Fix some c++ readability issues in latency hiding scheduler\n\n- Optimized logging by using bsl::StringAppend\n\nPiperOrigin-RevId: 835362257",
    "sha": "fd4a2f9a993ce7d404dafee28f3d160fd4ae9a65",
    "files": [
        {
            "sha": "d2bc99a3097fbb4f8440056c83b074dc9fcbfb0a",
            "filename": "third_party/xla/xla/service/latency_hiding_scheduler.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fd4a2f9a993ce7d404dafee28f3d160fd4ae9a65/third_party%2Fxla%2Fxla%2Fservice%2Flatency_hiding_scheduler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fd4a2f9a993ce7d404dafee28f3d160fd4ae9a65/third_party%2Fxla%2Fxla%2Fservice%2Flatency_hiding_scheduler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Flatency_hiding_scheduler.cc?ref=fd4a2f9a993ce7d404dafee28f3d160fd4ae9a65",
            "patch": "@@ -1613,7 +1613,9 @@ class ReadySetLt {\n             cand_node->GetResources());\n     int64_t num_conflicting_resources = 0;\n     for (int64_t resource : resources) {\n-      if (!sched_state_.resource_occupiers_in_flight.count(resource)) continue;\n+      if (!sched_state_.resource_occupiers_in_flight.count(resource)) {\n+        continue;\n+      }\n       num_conflicting_resources +=\n           sched_state_.resource_occupiers_in_flight.at(resource).size();\n     }\n@@ -3244,9 +3246,9 @@ DefaultSchedulerCore::ScheduleComputation(\n     XLA_VLOG_LINES(2, [&sched_state]() {\n       struct LogFormatter {\n         void operator()(std::string* out, const HloGraphNode* n) const {\n-          out->append(absl::StrCat(\"\\t\", n->GetInstr().name(),\n-                                   \" Ready time: \", n->GetReadyTime(),\n-                                   \" Depth: \", n->GetGraphDepth()));\n+          absl::StrAppend(out, \"\\t\", n->GetInstr().name(),\n+                          \" Ready time: \", n->GetReadyTime(),\n+                          \" Depth: \", n->GetGraphDepth());\n         }\n       };\n       return absl::StrJoin(sched_state->ready_set, \"\\n\", LogFormatter());"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 6,
        "deletions": 4
    }
}