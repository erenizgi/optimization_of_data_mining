{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 845650270",
    "sha": "70a7d0e1421c8d19841f5dc38d96a20808d17ace",
    "files": [
        {
            "sha": "27400cc261c601b082fc39171a7ed373e60c4cb5",
            "filename": "third_party/xla/xla/tests/buffer_donation_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fbuffer_donation_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fbuffer_donation_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fbuffer_donation_test.cc?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -105,7 +105,8 @@ class BufferDonationTest : public HloTestBase {\n     TF_ASSERT_OK_AND_ASSIGN(auto stream, executor_->CreateStream());\n \n     auto& executors = backend_->stream_executors();\n-    se::StreamExecutorMemoryAllocator memory_allocator(platform_, executors);\n+    stream_executor::StreamExecutorAddressAllocator memory_allocator(platform_,\n+                                                                     executors);\n     ExecutableRunOptions run_options;\n     run_options.set_stream(stream.get());\n     run_options.set_allocator(&memory_allocator);"
        },
        {
            "sha": "2c1b2f7fa52cec33e77f1e8e67a2b95cbe6e483c",
            "filename": "third_party/xla/xla/tests/cpu_gpu_fusion_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fcpu_gpu_fusion_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fcpu_gpu_fusion_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fcpu_gpu_fusion_test.cc?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -951,7 +951,8 @@ void BM_ParallelFusion(::testing::benchmark::State& state) {\n \n   se::Platform* platform = PlatformUtil::GetDefaultPlatform().value();\n   auto executors = PlatformUtil::GetStreamExecutors(platform).value();\n-  se::StreamExecutorMemoryAllocator allocator(platform, executors);\n+  stream_executor::StreamExecutorAddressAllocator allocator(platform,\n+                                                            executors);\n \n   const int64_t intra_op_parallelism_threads = 24;\n   xla::LocalClientOptions client_options;"
        },
        {
            "sha": "5965f66b18c57134a1ff40f06066d61aee8a5e7b",
            "filename": "third_party/xla/xla/tests/dot_operation_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fdot_operation_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fdot_operation_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fdot_operation_test.cc?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -2275,7 +2275,8 @@ ENTRY main {\n void DOT_ReorderContracting(::testing::benchmark::State& state) {\n   se::Platform* platform = PlatformUtil::GetDefaultPlatform().value();\n   auto executors = PlatformUtil::GetStreamExecutors(platform).value();\n-  se::StreamExecutorMemoryAllocator allocator(platform, executors);\n+  stream_executor::StreamExecutorAddressAllocator allocator(platform,\n+                                                            executors);\n \n   xla::LocalClientOptions client_options;\n   client_options.set_platform(platform);"
        },
        {
            "sha": "9bb74a2d505c7ae340fd7b943118d80f7191399a",
            "filename": "third_party/xla/xla/tests/dynamic_ops_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fdynamic_ops_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fdynamic_ops_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fdynamic_ops_test.cc?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -1003,7 +1003,8 @@ ENTRY main {\n void BM_DynamicSlice(::testing::benchmark::State& state) {\n   se::Platform* platform = PlatformUtil::GetDefaultPlatform().value();\n   auto executors = PlatformUtil::GetStreamExecutors(platform).value();\n-  se::StreamExecutorMemoryAllocator allocator(platform, executors);\n+  stream_executor::StreamExecutorAddressAllocator allocator(platform,\n+                                                            executors);\n   LocalClient* client = ClientLibrary::GetOrCreateLocalClient(platform).value();\n   auto* transfer_manager = TransferManager::GetForPlatform(platform).value();\n   int device_ordinal = client->default_device_ordinal();"
        },
        {
            "sha": "9291c2073c314093c8e2b6346d9df5c0db175872",
            "filename": "third_party/xla/xla/tests/hlo_test_base.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fhlo_test_base.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fhlo_test_base.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fhlo_test_base.cc?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -176,8 +176,9 @@ ::testing::AssertionResult HloTestBase::RunAndCompareNoHloPassesFromFile(\n \n se::DeviceAddressAllocator* HloTestBase::GetAllocator() {\n   if (allocator_ == nullptr) {\n-    allocator_ = std::make_unique<se::StreamExecutorMemoryAllocator>(\n-        backend().default_stream_executor());\n+    allocator_ =\n+        std::make_unique<stream_executor::StreamExecutorAddressAllocator>(\n+            backend().default_stream_executor());\n   }\n   return allocator_.get();\n }"
        },
        {
            "sha": "01279073d4cf485bfb54b085e611c5423769828e",
            "filename": "third_party/xla/xla/tests/local_client_execute_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_execute_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_execute_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_execute_test.cc?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -920,7 +920,8 @@ TEST_F(LocalClientExecuteTest, InfeedOutfeedTest) {\n void BM_LocalClientOverhead(::testing::benchmark::State& state) {\n   se::Platform* platform = PlatformUtil::GetDefaultPlatform().value();\n   auto executors = PlatformUtil::GetStreamExecutors(platform).value();\n-  se::StreamExecutorMemoryAllocator allocator(platform, executors);\n+  stream_executor::StreamExecutorAddressAllocator allocator(platform,\n+                                                            executors);\n   LocalClient* client = ClientLibrary::GetOrCreateLocalClient(platform).value();\n   auto* transfer_manager = TransferManager::GetForPlatform(platform).value();\n   int device_ordinal = client->default_device_ordinal();"
        },
        {
            "sha": "1db48c62865aed0a98b37e9b5e30763e91be6b99",
            "filename": "third_party/xla/xla/tests/local_client_test_base.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_test_base.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_test_base.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_test_base.cc?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -66,7 +66,7 @@ absl::StatusOr<se::ScopedDeviceAddress<uint8_t>> TestAllocator::Allocate(\n     allocation_count_++;\n     device_allocation_count_[device_ordinal]++;\n   }\n-  return se::StreamExecutorMemoryAllocator::Allocate(\n+  return stream_executor::StreamExecutorAddressAllocator::Allocate(\n       device_ordinal, size, retry_on_failure, memory_space);\n }\n \n@@ -78,7 +78,8 @@ absl::Status TestAllocator::Deallocate(int device_ordinal,\n     deallocation_count_++;\n     device_deallocation_count_[device_ordinal]++;\n   }\n-  return se::StreamExecutorMemoryAllocator::Deallocate(device_ordinal, mem);\n+  return stream_executor::StreamExecutorAddressAllocator::Deallocate(\n+      device_ordinal, mem);\n }\n \n int64_t TestAllocator::allocation_count() const {"
        },
        {
            "sha": "0c813dac236408eb7ceefc9b78b6ca3e1dda0965",
            "filename": "third_party/xla/xla/tests/local_client_test_base.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_test_base.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_test_base.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Flocal_client_test_base.h?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -47,10 +47,10 @@ limitations under the License.\n \n namespace xla {\n \n-class TestAllocator : public se::StreamExecutorMemoryAllocator {\n+class TestAllocator : public stream_executor::StreamExecutorAddressAllocator {\n  public:\n   explicit TestAllocator(se::Platform* platform)\n-      : se::StreamExecutorMemoryAllocator(\n+      : stream_executor::StreamExecutorAddressAllocator(\n             platform, PlatformUtil::GetStreamExecutors(platform).value()) {}\n \n   absl::StatusOr<se::ScopedDeviceAddress<uint8_t>> Allocate("
        },
        {
            "sha": "ebe82ad75740f41cbcc6bc80183c23a23a7c97c9",
            "filename": "third_party/xla/xla/tests/while_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fwhile_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/70a7d0e1421c8d19841f5dc38d96a20808d17ace/third_party%2Fxla%2Fxla%2Ftests%2Fwhile_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fwhile_test.cc?ref=70a7d0e1421c8d19841f5dc38d96a20808d17ace",
            "patch": "@@ -1311,7 +1311,8 @@ void BM_WhileLoop(::testing::benchmark::State& state) {\n \n   se::Platform* platform = PlatformUtil::GetDefaultPlatform().value();\n   auto executors = PlatformUtil::GetStreamExecutors(platform).value();\n-  se::StreamExecutorMemoryAllocator allocator(platform, executors);\n+  stream_executor::StreamExecutorAddressAllocator allocator(platform,\n+                                                            executors);\n   LocalClient* client = ClientLibrary::GetOrCreateLocalClient(platform).value();\n \n   const int64_t seq_len = 100;"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 20,
        "deletions": 12
    }
}