{
    "author": "nvgrw",
    "message": "Migrate cholesky_test to PjRt.\n\nPiperOrigin-RevId: 840355508",
    "sha": "c1e5e2dca25bc96210a8b93cf66aed6858c94b7a",
    "files": [
        {
            "sha": "68c2f1fc273787a6288235991a6cf028a4d816d5",
            "filename": "third_party/xla/xla/tests/BUILD",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c1e5e2dca25bc96210a8b93cf66aed6858c94b7a/third_party%2Fxla%2Fxla%2Ftests%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c1e5e2dca25bc96210a8b93cf66aed6858c94b7a/third_party%2Fxla%2Fxla%2Ftests%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2FBUILD?ref=c1e5e2dca25bc96210a8b93cf66aed6858c94b7a",
            "patch": "@@ -3896,11 +3896,12 @@ xla_test(\n     shard_count = 20,\n     tags = [\n         \"optonly\",\n+        \"test_migrated_to_hlo_runner_pjrt\",\n     ],\n     deps = [\n         \":client_library_test_runner_mixin\",\n-        \":hlo_test_base\",\n-        \":literal_test_util\",\n+        \":hlo_pjrt_interpreter_reference_mixin\",\n+        \":hlo_pjrt_test_base\",\n         \":xla_internal_test_main\",\n         \"//xla:array2d\",\n         \"//xla:array3d\",\n@@ -3913,7 +3914,6 @@ xla_test(\n         \"//xla/hlo/testlib:test\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/platform:test\",\n-        \"@com_google_absl//absl/status:statusor\",\n     ],\n )\n "
        },
        {
            "sha": "54626ffaace1ceda6a96cc337a4903415ae9cf80",
            "filename": "third_party/xla/xla/tests/cholesky_test.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c1e5e2dca25bc96210a8b93cf66aed6858c94b7a/third_party%2Fxla%2Fxla%2Ftests%2Fcholesky_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c1e5e2dca25bc96210a8b93cf66aed6858c94b7a/third_party%2Fxla%2Fxla%2Ftests%2Fcholesky_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fcholesky_test.cc?ref=c1e5e2dca25bc96210a8b93cf66aed6858c94b7a",
            "patch": "@@ -29,14 +29,16 @@ limitations under the License.\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\"\n #include \"xla/tests/client_library_test_runner_mixin.h\"\n-#include \"xla/tests/hlo_test_base.h\"\n+#include \"xla/tests/hlo_pjrt_interpreter_reference_mixin.h\"\n+#include \"xla/tests/hlo_pjrt_test_base.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/platform/test.h\"\n \n namespace xla {\n namespace {\n \n-using CholeskyTest = ClientLibraryTestRunnerMixin<HloTestBase>;\n+using CholeskyTest = ClientLibraryTestRunnerMixin<\n+    HloPjRtInterpreterReferenceMixin<HloPjRtTestBase>>;\n \n TEST_F(CholeskyTest, NonPSDInput) {\n   XlaBuilder builder(TestName());\n@@ -217,7 +219,8 @@ TEST_F(CholeskyTest, SimpleBatched) {\n using CholeskyTestCase = std::tuple<int64_t, int64_t, bool>;\n \n class RandomCholeskyTest\n-    : public ClientLibraryTestRunnerMixin<HloTestBase>,\n+    : public ClientLibraryTestRunnerMixin<\n+          HloPjRtInterpreterReferenceMixin<HloPjRtTestBase>>,\n       public ::testing::WithParamInterface<CholeskyTestCase> {};\n \n TEST_P(RandomCholeskyTest, Real) {"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 9,
        "deletions": 6
    }
}