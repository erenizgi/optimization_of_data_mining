{
    "author": "pizzud",
    "message": "xla_tpu: Create a compile-only static registration target.\n\nSome tools don't want to execute, so let them avoid linking the runtime.\n\nPiperOrigin-RevId: 840786486",
    "sha": "b5462f31b1efc401beeed57bbfdb45c76129c0fd",
    "files": [
        {
            "sha": "436baa76418c7d5fa41e13d4dbcc7f18790f70a9",
            "filename": "third_party/xla/xla/pjrt/plugin/xla_tpu/BUILD",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b5462f31b1efc401beeed57bbfdb45c76129c0fd/third_party%2Fxla%2Fxla%2Fpjrt%2Fplugin%2Fxla_tpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b5462f31b1efc401beeed57bbfdb45c76129c0fd/third_party%2Fxla%2Fxla%2Fpjrt%2Fplugin%2Fxla_tpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fplugin%2Fxla_tpu%2FBUILD?ref=b5462f31b1efc401beeed57bbfdb45c76129c0fd",
            "patch": "@@ -45,6 +45,18 @@ cc_library(\n     alwayslink = True,\n )\n \n+cc_library(\n+    name = \"tpu_compile_only_static_registration\",\n+    srcs = [\"tpu_static_registration.cc\"],\n+    compatible_with = get_compatible_with_libtpu_portable(),\n+    deps = [\n+        \"//xla/pjrt/c:pjrt_c_api_tpu_internal\",\n+        \"//xla/pjrt/plugin:plugin_names\",\n+        \"//xla/pjrt/plugin:static_registration\",\n+    ],\n+    alwayslink = True,\n+)\n+\n cc_library(\n     name = \"tpu_dynamic_registration\",\n     srcs = [\"tpu_dynamic_registration.cc\"],"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 12,
        "deletions": 0
    }
}