{
    "author": "tensorflower-gardener",
    "message": "Migrates `builder.create<Op>()` => `Op::create()` in tablegen files\n\nPiperOrigin-RevId: 847796796",
    "sha": "573bbe2b4163fb4349c8c662635f99cca40c8406",
    "files": [
        {
            "sha": "26c5496ff3b08b79003b8612eb3dd2c96860cb32",
            "filename": "tensorflow/compiler/mlir/lite/transforms/legalize_patterns.td",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Flegalize_patterns.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Flegalize_patterns.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Flegalize_patterns.td?ref=573bbe2b4163fb4349c8c662635f99cca40c8406",
            "patch": "@@ -75,14 +75,14 @@ def CreateInt32ConstOrCast : NativeCodeCall<\n \n // Creates an int32 constant op from an integer attribute $0.\n def CreateInt32ConstOpFromIntAttr\n-  : NativeCodeCall<\"$_builder.create<TF::ConstOp>($_loc, DenseElementsAttr::get(RankedTensorType::get({}, $_builder.getI32Type()), {static_cast<int32_t>(llvm::cast<IntegerAttr>($0).getInt())}))\">;\n+  : NativeCodeCall<\"TF::ConstOp::create($_builder, $_loc, DenseElementsAttr::get(RankedTensorType::get({}, $_builder.getI32Type()), {static_cast<int32_t>(llvm::cast<IntegerAttr>($0).getInt())}))\">;\n \n //===----------------------------------------------------------------------===//\n // Nullary ops patterns.\n //===----------------------------------------------------------------------===//\n \n def createConstOp\n-  : NativeCodeCall<\"$_builder.create<ConstOp>($_loc, $0.getType(), $1)\">;\n+  : NativeCodeCall<\"ConstOp::create($_builder, $_loc, $0.getType(), $1)\">;\n \n def LegalizeTFConstToTFLConst: Pat<(TF_ConstOp:$res ElementsAttr:$value),\n                                    (createConstOp $res, $value)>;"
        },
        {
            "sha": "ce9b6af564d2a4777d07a1ac5664794b4730e828",
            "filename": "tensorflow/compiler/mlir/lite/transforms/legalize_tensorlist.td",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Flegalize_tensorlist.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Flegalize_tensorlist.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Flegalize_tensorlist.td?ref=573bbe2b4163fb4349c8c662635f99cca40c8406",
            "patch": "@@ -20,7 +20,7 @@ include \"mlir/IR/OpBase.td\"\n include \"mlir/Dialect/Arith/IR/ArithOps.td\"\n \n def ConstDenseElementsI32ZeroAttr\n-  : NativeCodeCall<\"$_builder.create<TFL::ConstOp>($_loc, DenseElementsAttr::get(RankedTensorType::get({}, $_builder.getI32Type()), {0}))\">;\n+  : NativeCodeCall<\"TFL::ConstOp::create($_builder, $_loc, DenseElementsAttr::get(RankedTensorType::get({}, $_builder.getI32Type()), {0}))\">;\n \n def Size1InputRange : NativeCodeCall<\n   \"SmallVector<Value, 1>{$0}\">;"
        },
        {
            "sha": "d14ee12b7e55a3e104635748b90050eab071a7c8",
            "filename": "tensorflow/compiler/mlir/lite/transforms/prepare_patterns.td",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Fprepare_patterns.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Fprepare_patterns.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Flite%2Ftransforms%2Fprepare_patterns.td?ref=573bbe2b4163fb4349c8c662635f99cca40c8406",
            "patch": "@@ -24,7 +24,7 @@ def DenseElementsAttr : ElementsAttrBase<\n   \"non-opaque constant tensor\">;\n \n def CreateGatherNdOp : NativeCodeCall<\n-    \"$_builder.create<TF::GatherNdOp>($0.getLoc(), $0.getType(), $1, $2, $3)\">;\n+    \"TF::GatherNdOp::create($_builder, $0.getLoc(), $0.getType(), $1, $2, $3)\">;\n \n def CreateTFCastOpI32 : NativeCodeCall<\n     \"CreateTFCastOpI32(&$_builder, $_loc, $0, $1)\">;"
        },
        {
            "sha": "d38cf411ea9f2c946c0338623053cd811598feaa",
            "filename": "tensorflow/compiler/mlir/lite/utils/utils.td",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Flite%2Futils%2Futils.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Flite%2Futils%2Futils.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Flite%2Futils%2Futils.td?ref=573bbe2b4163fb4349c8c662635f99cca40c8406",
            "patch": "@@ -136,7 +136,7 @@ def HasSameStaticShapes : Constraint<\n     \"have the same static shape\">;\n \n def CreateNoneValue : NativeCodeCall<\n-  \"$_builder.create<TFL::NoValueOp>($0.getLoc(), $_builder.getUnitAttr())\">;\n+  \"TFL::NoValueOp::create($_builder, $0.getLoc(), $_builder.getUnitAttr())\">;\n \n // Returns shape of a ranked tensor.\n // if called without a ranked tensor it will fail."
        },
        {
            "sha": "ce91055db9c6664d84fe7a92f7da515cb36e95af",
            "filename": "tensorflow/compiler/mlir/stablehlo/transforms/legalize_tf_patterns.td",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Fstablehlo%2Ftransforms%2Flegalize_tf_patterns.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Fstablehlo%2Ftransforms%2Flegalize_tf_patterns.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Fstablehlo%2Ftransforms%2Flegalize_tf_patterns.td?ref=573bbe2b4163fb4349c8c662635f99cca40c8406",
            "patch": "@@ -40,7 +40,7 @@ def CastValueToI64: NativeCodeCall<\n   \"CastValueToI64($0.getLoc(), $1, &$_builder)\">;\n \n def CastValueToElementType: NativeCodeCall<\n-  \"$_builder.create<ConvertOp>($0.getLoc(), $1, \"\n+  \"ConvertOp::create($_builder, $0.getLoc(), $1, \"\n   \"getElementTypeOrSelf($2.getType()))\">;\n \n // Here, $0 is an ElementsAttr with exactly one element of type integer. $1 is"
        },
        {
            "sha": "9130ae844bc6b9e7c10e88e5944ab253b2aa55d3",
            "filename": "tensorflow/compiler/mlir/tensorflow/transforms/decompose_resource_ops.td",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Ftensorflow%2Ftransforms%2Fdecompose_resource_ops.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Ftensorflow%2Ftransforms%2Fdecompose_resource_ops.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Ftensorflow%2Ftransforms%2Fdecompose_resource_ops.td?ref=573bbe2b4163fb4349c8c662635f99cca40c8406",
            "patch": "@@ -27,7 +27,7 @@ def EmptyList: NativeCodeCall<\"llvm::SmallVector<mlir::Value>{}\">;\n // Creates a tf.ReadVariable op that reads a resource `$2` that has the same\n // element type as `$1`. The op created will use location of `$0`.\n def CreateTFReadVariableOp : NativeCodeCall<\n-    \"$_builder.create<TF::ReadVariableOp>(\"\n+    \"TF::ReadVariableOp::create($_builder, \"\n     \"  $0.getLoc(),\"\n     \"  GetResourceSubtypeOrDefault(\"\n     \"    $2, llvm::cast<TensorType>($1.getType()).getElementType()),\"\n@@ -39,27 +39,27 @@ def CheckHasResourceSubtype : Constraint<CPred<\"HasResourceSubtype($0)\">>;\n def CreateConstBoolAttrFalse : NativeCodeCall<\"$_builder.getBoolAttr(false)\">;\n \n def CreateTensorScatterAddOp : NativeCodeCall<\n-    \"$_builder.create<TF::TensorScatterAddOp>(\"\n+    \"TF::TensorScatterAddOp::create($_builder, \"\n     \"$0.getLoc(), $0.getType(), $0, $1, $2, $_builder.getStringAttr(\\\"\\\"))\">;\n \n def CreateTensorScatterUpdateOp : NativeCodeCall<\n-    \"$_builder.create<TF::TensorScatterUpdateOp>(\"\n+    \"TF::TensorScatterUpdateOp::create($_builder, \"\n     \"$0.getLoc(), $0.getType(), $0, $1, $2, $_builder.getStringAttr(\\\"\\\"))\">;\n \n def CreateTFReadVariableOpFromResourceHandle : NativeCodeCall<\n-    \"$_builder.create<TF::ReadVariableOp>(\"\n+    \"TF::ReadVariableOp::create($_builder, \"\n     \"$0.getLoc(), GetResourceSubtype($1), $1)\">;\n \n def CreateTFSelectOp: NativeCodeCall<\n-    \"$_builder.create<TF::SelectOp>(\"\n+    \"TF::SelectOp::create($_builder, \"\n     \"$0.getLoc(), $3.getType(), $1, $2, $3)\">;\n \n def ConstAttrIfThenElse: NativeCodeCall<\n     \"($0).getValue() ? ($1) : ($2)\">;\n \n // Convert clamp(lo, x, hi) to clipbyvalue(x, lo, hi).\n def Clamp: NativeCodeCall<\n-    \"$_builder.create<TF::ClipByValueOp>(\"\n+    \"TF::ClipByValueOp::create($_builder, \"\n     \"  $0.getLoc(),\"\n     \"  $2.getType(), $2, $1, $3)\">;\n "
        },
        {
            "sha": "1061d564f51afc7020a8343f860247bf31a5835e",
            "filename": "tensorflow/compiler/mlir/tensorflow/transforms/lower_tf.td",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Ftensorflow%2Ftransforms%2Flower_tf.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Ftensorflow%2Ftransforms%2Flower_tf.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Ftensorflow%2Ftransforms%2Flower_tf.td?ref=573bbe2b4163fb4349c8c662635f99cca40c8406",
            "patch": "@@ -37,7 +37,7 @@ class GetF32Scalar<int value> :\n def TrueBoolAttr : AttrConstraint<CPred<\"llvm::cast<::mlir::BoolAttr>($_self).getValue()\">>;\n \n def CreateTFShapeOp : NativeCodeCall<\n-    \"$_builder.create<TF::ShapeOp>($0.getLoc(), $1, $2)\">;\n+    \"TF::ShapeOp::create($_builder, $0.getLoc(), $1, $2)\">;\n \n def IsI32 : NativeCodeCall<\n     \"$_builder.getBoolAttr(getElementTypeOrSelf($0.getType()).isInteger(32))\">;\n@@ -49,11 +49,11 @@ def CreateTFCastOpI32 : NativeCodeCall<\n     \"CreateTFCastOpI32(&$_builder, $0.getLoc(), $1, $2)\">;\n \n def CreateTensorScatterNdOp : NativeCodeCall<\n-    \"$_builder.create<TF::ScatterNdOp>(\"\n+    \"TF::ScatterNdOp::create($_builder, \"\n     \"$0.getLoc(), $0.getType(), $1, $2, $3, $4)\">;\n \n def CreateTensorScatterUpdateOp : NativeCodeCall<\n-    \"$_builder.create<TF::TensorScatterUpdateOp>(\"\n+    \"TF::TensorScatterUpdateOp::create($_builder, \"\n     \"$0.getLoc(), $0.getType(), $0, $1, $2, $3)\">;\n \n //===----------------------------------------------------------------------===//"
        },
        {
            "sha": "957c4887366e16a01feac183c6c39bd38cd9630a",
            "filename": "tensorflow/compiler/mlir/tf2xla/transforms/legalize_tf_patterns.td",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Ftf2xla%2Ftransforms%2Flegalize_tf_patterns.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/573bbe2b4163fb4349c8c662635f99cca40c8406/tensorflow%2Fcompiler%2Fmlir%2Ftf2xla%2Ftransforms%2Flegalize_tf_patterns.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Ftf2xla%2Ftransforms%2Flegalize_tf_patterns.td?ref=573bbe2b4163fb4349c8c662635f99cca40c8406",
            "patch": "@@ -41,7 +41,7 @@ def CastValueToI64: NativeCodeCall<\n   \"CastValueToI64($0.getLoc(), $1, &$_builder)\">;\n \n def CastValueToElementType: NativeCodeCall<\n-  \"$_builder.create<stablehlo::ConvertOp>($0.getLoc(), $1, \"\n+  \"stablehlo::ConvertOp::create($_builder, $0.getLoc(), $1, \"\n   \"getElementTypeOrSelf($2.getType()))\">;\n \n // Here, $0 is an ElementsAttr with exactly one element of type integer. $1 is"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 16,
        "deletions": 16
    }
}