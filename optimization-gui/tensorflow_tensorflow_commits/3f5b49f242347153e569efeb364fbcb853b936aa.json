{
    "author": "basioli-k",
    "message": "[XLA:CPU] Add target machine options to compilation result proto and check compilation arch when loading aot result.\n\nUsed to check if the runtime and compilation env are compatible.\n\nPiperOrigin-RevId: 824481786",
    "sha": "3f5b49f242347153e569efeb364fbcb853b936aa",
    "files": [
        {
            "sha": "bcddf317afe08bce535edd8db5c95eb9f789b7ae",
            "filename": "third_party/xla/xla/service/cpu/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -552,6 +552,8 @@ xla_test(\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/platform:test\",\n         \"@com_google_absl//absl/strings:string_view\",\n+        \"@llvm-project//llvm:TargetParser\",\n+        \"@local_tsl//tsl/platform:casts\",\n     ],\n )\n "
        },
        {
            "sha": "3107b59df3ffcc84bddbd1f7b8dcd95d2cc54d98",
            "filename": "third_party/xla/xla/service/cpu/cpu_aot_compilation_result.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compilation_result.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compilation_result.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compilation_result.cc?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -79,7 +79,8 @@ CpuAotCompilationResult::Create(\n     absl::string_view function_name, std::vector<ObjFileProto> obj_files,\n     std::vector<SymbolProto> symbols, const ThunkSequence& thunks,\n     std::unique_ptr<FunctionLibrary> function_library,\n-    std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data) {\n+    std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data,\n+    TargetMachineOptionsProto target_machine_options) {\n   ThunkSequenceSerDesProtobuf thunk_sequence_serdes(\n       &buffer_assignment->Allocations());\n   TF_ASSIGN_OR_RETURN(ThunkSequenceProto thunk_proto,\n@@ -108,7 +109,7 @@ CpuAotCompilationResult::Create(\n       hlo_module, buffer_assignment, function_name, std::move(obj_files),\n       std::move(symbols), thunk_proto, std::move(temp_allocation_index),\n       std::move(buffer_allocation_infos), std::move(function_library),\n-      std::move(hlo_profile_printer_data)));\n+      std::move(hlo_profile_printer_data), std::move(target_machine_options)));\n }\n \n CpuAotCompilationResult::CpuAotCompilationResult(\n@@ -118,7 +119,8 @@ CpuAotCompilationResult::CpuAotCompilationResult(\n     std::optional<size_t> temp_allocation_index,\n     std::vector<BufferAllocationInfo> buffer_allocation_infos,\n     std::unique_ptr<FunctionLibrary> function_library,\n-    std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data)\n+    std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data,\n+    TargetMachineOptionsProto target_machine_options)\n     : temp_allocation_index_(temp_allocation_index),\n       buffer_allocation_infos_(std::move(buffer_allocation_infos)),\n       function_library_(std::move(function_library)),\n@@ -128,6 +130,7 @@ CpuAotCompilationResult::CpuAotCompilationResult(\n       hlo_module->config().ToProto();\n   *proto_.mutable_buffer_assignment() = buffer_assignment->ToProto();\n   proto_.set_entry_function_name(function_name);\n+  *proto_.mutable_target_machine_options() = std::move(target_machine_options);\n   for (ObjFileProto& obj_file : obj_files) {\n     *proto_.add_object_files() = std::move(obj_file);\n   }\n@@ -193,7 +196,7 @@ CpuAotCompilationResult::LoadExecutable(\n       CpuExecutable::Create(std::move(function_library_),\n                             std::move(buffer_assignment), std::move(module),\n                             std::move(*thunks), std::move(constants), nullptr,\n-                            nullptr));\n+                            nullptr, proto_.target_machine_options()));\n \n   // Dump computation proto state and buffer assignment for\n   // GetCompiledMemoryStats results."
        },
        {
            "sha": "52154f376c03ad956389b8bfb5d949a2d899cc6f",
            "filename": "third_party/xla/xla/service/cpu/cpu_aot_compilation_result.h",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compilation_result.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compilation_result.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compilation_result.h?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -106,7 +106,9 @@ class CpuAotCompilationResult : public AotCompilationResult {\n       absl::string_view function_name, std::vector<ObjFileProto> obj_files,\n       std::vector<SymbolProto> symbols, const ThunkSequence& thunks,\n       std::unique_ptr<FunctionLibrary> function_library,\n-      std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data);\n+      std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data,\n+      TargetMachineOptionsProto target_machine_options =\n+          TargetMachineOptionsProto());\n \n   ~CpuAotCompilationResult() override = default;\n \n@@ -185,7 +187,8 @@ class CpuAotCompilationResult : public AotCompilationResult {\n       std::optional<size_t> temp_allocation_index,\n       std::vector<BufferAllocationInfo> buffer_allocation_infos,\n       std::unique_ptr<FunctionLibrary> function_library,\n-      std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data);\n+      std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data,\n+      TargetMachineOptionsProto target_machine_options);\n \n   explicit CpuAotCompilationResult(\n       CompilationResultProto proto, std::unique_ptr<HloModule> module,"
        },
        {
            "sha": "d0d621b9ad91d49781e9ac94c13046de64346d99",
            "filename": "third_party/xla/xla/service/cpu/cpu_aot_compiler_test.cc",
            "status": "modified",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compiler_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compiler_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_compiler_test.cc?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -18,6 +18,7 @@ limitations under the License.\n #include <vector>\n \n #include \"absl/strings/string_view.h\"\n+#include \"llvm/TargetParser/Triple.h\"\n #include \"xla/hlo/ir/hlo_module.h\"\n #include \"xla/hlo/ir/hlo_module_group.h\"\n #include \"xla/literal.h\"\n@@ -34,6 +35,7 @@ limitations under the License.\n #include \"xla/tests/literal_test_util.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/platform/test.h\"\n+#include \"tsl/platform/casts.h\"\n \n namespace xla {\n namespace cpu {\n@@ -125,6 +127,50 @@ ENTRY e {\n   test(\"Test kHloAdd2\", kHloAdd2, 1, 3);\n }\n \n+TEST_F(CpuAotCompilerTest,\n+       ExportedExecutableTargetMachineOptionsMatchTheCompilationMachine) {\n+  absl::string_view module_string = R\"(\n+HloModule module\n+\n+ENTRY main {\n+  a = f32[] parameter(0)\n+  b = f32[] parameter(1)\n+  a_plus_b = f32[] add(a, b)\n+  ROOT result = f32[] add(a_plus_b, b)\n+})\";\n+\n+  TF_ASSERT_OK_AND_ASSIGN(se::Platform * platform,\n+                          se::PlatformManager::PlatformWithName(\"host\"));\n+  TF_ASSERT_OK_AND_ASSIGN(se::StreamExecutor * stream_exec,\n+                          platform->ExecutorForDevice(0));\n+\n+  Compiler* compiler = backend().compiler();\n+  ASSERT_NE(compiler, nullptr);\n+\n+  TF_ASSERT_OK_AND_ASSIGN(std::unique_ptr<HloModule> hlo_module,\n+                          ParseAndReturnVerifiedModule(module_string));\n+\n+  xla::Compiler::CompileOptions compile_options;\n+  TF_ASSERT_OK_AND_ASSIGN(\n+      hlo_module, compiler->RunHloPasses(std::move(hlo_module), stream_exec,\n+                                         compile_options));\n+\n+  TF_ASSERT_OK_AND_ASSIGN(\n+      auto executable, compiler->RunBackend(std::move(hlo_module), stream_exec,\n+                                            compile_options));\n+\n+  TF_ASSERT_OK_AND_ASSIGN(auto aot_result, compiler->Export(executable.get()));\n+\n+  CpuAotCompilationResult* cpu_aot_result =\n+      tsl::down_cast<CpuAotCompilationResult*>(aot_result.get());\n+  ASSERT_NE(cpu_aot_result, nullptr);\n+\n+  EXPECT_EQ(\n+      llvm::Triple(cpu_aot_result->proto().target_machine_options().triple())\n+          .getArchName(),\n+      llvm::Triple(kTargetTripleForHost).getArchName());\n+}\n+\n }  // namespace\n }  // namespace cpu\n }  // namespace xla"
        },
        {
            "sha": "4b3d8c41b6e3ef0380740f74610b060ece2e267d",
            "filename": "third_party/xla/xla/service/cpu/cpu_aot_loader.cc",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_loader.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_loader.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_aot_loader.cc?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -158,6 +158,22 @@ CpuAotLoader::LoadAotCompilationResult(\n   TF_ASSIGN_OR_RETURN(\n       std::unique_ptr<HloModule> hlo_module,\n       HloModule::CreateFromProtoWithConfig(aot_result_proto.hlo_module()));\n+\n+  TF_ASSIGN_OR_RETURN(\n+      std::unique_ptr<llvm::TargetMachine> target_machine,\n+      IrCompiler::InferTargetMachine(\n+          std::move(CompilerTargetOptions(hlo_module->config())),\n+          IrCompiler::GetCodeGenOptLevel(hlo_module->config()),\n+          CpuFeatureFromString(\n+              hlo_module->config().debug_options().xla_cpu_max_isa())));\n+\n+  llvm::Triple triple(aot_result_proto.target_machine_options().triple());\n+  llvm::Triple expected_triple(target_machine->getTargetTriple());\n+  if (triple.getArchName() != expected_triple.getArchName()) {\n+    return Internal(\"Target arch mismatch expected %s got %s.\",\n+                    expected_triple.getArchName(), triple.getArchName());\n+  }\n+\n   std::vector<SymbolProto> compiled_symbols_proto;\n   for (const auto& symbol_proto : aot_result_proto.compiled_symbols()) {\n     compiled_symbols_proto.push_back(symbol_proto);"
        },
        {
            "sha": "563320b0f96180a6e401b5810594f4177391278b",
            "filename": "third_party/xla/xla/service/cpu/cpu_compiler.cc",
            "status": "modified",
            "additions": 16,
            "deletions": 7,
            "changes": 23,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -1971,13 +1971,20 @@ CpuCompiler::CompileCpuExecutable(\n   TF_ASSIGN_OR_RETURN(std::vector<ConstantAllocation> constants,\n                       CreateConstantAllocations(*assignment));\n \n+  TargetMachineOptionsProto target_machine_options_proto;\n+  target_machine_options_proto.set_triple(\n+      target_machine->getTargetTriple().getTriple());\n+  target_machine_options_proto.set_cpu(target_machine->getTargetCPU());\n+  target_machine_options_proto.set_features(\n+      target_machine->getTargetFeatureString());\n+\n   TF_ASSIGN_OR_RETURN(\n       auto cpu_executable,\n-      CpuExecutable::Create(std::move(function_library), std::move(assignment),\n-                            std::move(module), std::move(thunks),\n-                            std::move(constants),\n-                            std::move(hlo_profile_printer_data),\n-                            std::move(hlo_profile_index_map)));\n+      CpuExecutable::Create(\n+          std::move(function_library), std::move(assignment), std::move(module),\n+          std::move(thunks), std::move(constants),\n+          std::move(hlo_profile_printer_data), std::move(hlo_profile_index_map),\n+          std::move(target_machine_options_proto)));\n \n   // Save object files to be able to export them to AOT compilation\n   // result.\n@@ -2214,7 +2221,8 @@ CpuCompiler::CompileAheadOfTimeThunks(\n       cpu_executable->module_name(), std::move(obj_files),\n       cpu_executable->get_compiled_symbols_proto(), thunk_sequence,\n       std::move(*cpu_executable).consume_function_library(),\n-      std::move(executable_hlo_profile_printer_data));\n+      std::move(executable_hlo_profile_printer_data),\n+      cpu_executable->target_machine_options());\n }\n \n se::Platform::Id CpuCompiler::PlatformId() const {\n@@ -2264,7 +2272,8 @@ absl::StatusOr<std::unique_ptr<AotCompilationResult>> CpuCompiler::Export(\n       cpu_executable->module_name(), std::move(obj_files),\n       std::move(compiled_symbols_proto), *thunk_sequence,\n       std::move(function_library),\n-      std::move(executable_hlo_profile_printer_data));\n+      std::move(executable_hlo_profile_printer_data),\n+      cpu_executable->target_machine_options());\n }\n \n absl::StatusOr<std::unique_ptr<AotCompilationResult>>"
        },
        {
            "sha": "ba3cfb893350d72eb9103df8f45aaeb13e1e0bc8",
            "filename": "third_party/xla/xla/service/cpu/cpu_executable.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.cc?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -89,13 +89,15 @@ absl::StatusOr<std::unique_ptr<CpuExecutable>> CpuExecutable::Create(\n     std::unique_ptr<HloModule> hlo_module, ThunkSequence thunks,\n     std::vector<ConstantAllocation> constants,\n     std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data,\n-    std::unique_ptr<HloProfileIndexMap> hlo_profile_index_map) {\n+    std::unique_ptr<HloProfileIndexMap> hlo_profile_index_map,\n+    TargetMachineOptionsProto target_machine_options) {\n   VLOG(2) << \"Create CpuExecutable from a thunk sequence; module=\"\n           << hlo_module->name() << \", constants=\" << constants.size();\n \n   std::unique_ptr<CpuExecutable> executable(new CpuExecutable(\n       std::move(hlo_module), std::move(hlo_profile_printer_data),\n-      std::move(hlo_profile_index_map), std::move(assignment)));\n+      std::move(hlo_profile_index_map), std::move(assignment),\n+      std::move(target_machine_options)));\n   executable->function_library_ = std::move(function_library);\n \n   ThunkExecutor::Options thunk_executor_options;\n@@ -131,10 +133,12 @@ CpuExecutable::CpuExecutable(\n     std::unique_ptr<HloModule> hlo_module,\n     std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data,\n     std::unique_ptr<HloProfileIndexMap> hlo_profile_index_map,\n-    std::unique_ptr<BufferAssignment> assignment)\n+    std::unique_ptr<BufferAssignment> assignment,\n+    TargetMachineOptionsProto target_machine_options)\n     : Executable(std::move(hlo_module), std::move(hlo_profile_printer_data),\n                  std::move(hlo_profile_index_map)),\n-      assignment_(std::move(assignment)) {\n+      assignment_(std::move(assignment)),\n+      target_machine_options_(std::move(target_machine_options)) {\n   if (assignment_ && has_module()) {\n     XlaDebugInfoManager::Get()->RegisterModule(shared_module(), assignment_);\n   }"
        },
        {
            "sha": "9dcc9eb2b8bdb4763dcf3c0849db73122e036df5",
            "filename": "third_party/xla/xla/service/cpu/cpu_executable.h",
            "status": "modified",
            "additions": 10,
            "deletions": 2,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.h?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -62,7 +62,8 @@ class CpuExecutable : public Executable {\n       std::unique_ptr<HloModule> hlo_module, ThunkSequence thunks,\n       std::vector<ConstantAllocation> constants,\n       std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data,\n-      std::unique_ptr<HloProfileIndexMap> hlo_profile_index_map);\n+      std::unique_ptr<HloProfileIndexMap> hlo_profile_index_map,\n+      TargetMachineOptionsProto target_machine_options);\n \n   ~CpuExecutable() override;\n \n@@ -150,6 +151,10 @@ class CpuExecutable : public Executable {\n   // structures that might have been used at compile time.\n   void Finalize();\n \n+  const TargetMachineOptionsProto& target_machine_options() const {\n+    return target_machine_options_;\n+  }\n+\n  private:\n   // Creates an array suitable for passing as the \"buffer_table\" argument to the\n   // JIT compiled function pointer.\n@@ -234,13 +239,16 @@ class CpuExecutable : public Executable {\n   // Whether the thunk executor contains any YNN fusion thunks.\n   bool has_ynn_fusions_ = false;\n \n+  TargetMachineOptionsProto target_machine_options_;\n+\n   // Entry function name for the computation.\n   std::string entry_function_name_;\n \n   CpuExecutable(std::unique_ptr<HloModule> hlo_module,\n                 std::unique_ptr<HloProfilePrinterData> hlo_profile_printer_data,\n                 std::unique_ptr<HloProfileIndexMap> hlo_profile_index_map,\n-                std::unique_ptr<BufferAssignment> assignment);\n+                std::unique_ptr<BufferAssignment> assignment,\n+                TargetMachineOptionsProto target_machine_options);\n   CpuExecutable(const CpuExecutable&) = delete;\n   CpuExecutable& operator=(const CpuExecutable&) = delete;\n };"
        },
        {
            "sha": "4fedcfcc4067b3c473baa3c7ecefb2d3ad4dac38",
            "filename": "third_party/xla/xla/service/cpu/executable.proto",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fexecutable.proto",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/3f5b49f242347153e569efeb364fbcb853b936aa/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fexecutable.proto",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fexecutable.proto?ref=3f5b49f242347153e569efeb364fbcb853b936aa",
            "patch": "@@ -36,6 +36,12 @@ message ObjFileProto {\n   string name = 2;\n }\n \n+message TargetMachineOptionsProto {\n+  string triple = 1;\n+  string cpu = 2;\n+  string features = 3;\n+}\n+\n message CompilationResultProto {\n   enum ObjFileKind {\n     UNKNOWN = 0;\n@@ -58,4 +64,5 @@ message CompilationResultProto {\n   ThunkSequenceProto thunk_sequence = 6;\n   repeated SymbolProto compiled_symbols = 7;\n   repeated ObjFileProto object_files = 8;\n+  TargetMachineOptionsProto target_machine_options = 9;\n }"
        }
    ],
    "stats": {
        "total": 136,
        "additions": 117,
        "deletions": 19
    }
}