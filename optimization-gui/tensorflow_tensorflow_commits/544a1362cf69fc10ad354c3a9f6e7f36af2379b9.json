{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 848026870",
    "sha": "544a1362cf69fc10ad354c3a9f6e7f36af2379b9",
    "files": [
        {
            "sha": "a0597e58eb2e82dfc5c953fa7b2d269da7e4a4a6",
            "filename": "third_party/xla/xla/service/cpu/cpu_executable.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/544a1362cf69fc10ad354c3a9f6e7f36af2379b9/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/544a1362cf69fc10ad354c3a9f6e7f36af2379b9/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_executable.cc?ref=544a1362cf69fc10ad354c3a9f6e7f36af2379b9",
            "patch": "@@ -159,7 +159,7 @@ static absl::StatusOr<MaybeOwningDeviceAddress> MemoryForAllocation(\n   if (allocation.is_entry_computation_parameter()) {\n     se::DeviceAddressBase out = arguments[allocation.parameter_number()]\n                                     .Buffer(allocation.param_shape_index())\n-                                    .AsDeviceMemoryBase();\n+                                    .AsDeviceAddress();\n     CHECK_LE(allocation.size(), out.size())\n         << \"Size mismatch on param \" << allocation.parameter_number()\n         << \" at shape index \" << allocation.param_shape_index().ToString();\n@@ -239,8 +239,7 @@ absl::Status CpuExecutable::ExecuteThunks(\n   VLOG(3) << absl::StrFormat(\"  Number of buffer allocations: %u\",\n                              buffers.size());\n   auto mem_printer = [](std::string* out, const MaybeOwningDeviceAddress& mem) {\n-    absl::StrAppend(out,\n-                    absl::StrFormat(\"%p\", mem.AsDeviceMemoryBase().opaque()));\n+    absl::StrAppend(out, absl::StrFormat(\"%p\", mem.AsDeviceAddress().opaque()));\n   };\n   VLOG(3) << absl::StrFormat(\"  Buffer allocations: [%s]\",\n                              absl::StrJoin(buffers, \", \", mem_printer));\n@@ -370,9 +369,9 @@ absl::StatusOr<ExecutionOutput> CpuExecutable::CreateResultShapedBuffer(\n         result_buffer = allocated_buffer.Release();\n         MaybeOwningDeviceAddress& registered_buffer = buffers[buffer_index];\n         CHECK_EQ(result_buffer.size(),\n-                 registered_buffer.AsDeviceMemoryBase().size());\n+                 registered_buffer.AsDeviceAddress().size());\n         std::memcpy(/*dest=*/result_buffer.opaque(),\n-                    /*src=*/registered_buffer.AsDeviceMemoryBase().opaque(),\n+                    /*src=*/registered_buffer.AsDeviceAddress().opaque(),\n                     /*n=*/result_buffer.size());\n         registered_buffer = result_buffer;\n       }\n@@ -385,7 +384,7 @@ absl::StatusOr<ExecutionOutput> CpuExecutable::CreateResultShapedBuffer(\n         result_buffer = owned_buffer->Release();\n         buffer = result_buffer;\n       } else {\n-        result_buffer = buffer.AsDeviceMemoryBase();\n+        result_buffer = buffer.AsDeviceAddress();\n         result.AddAliasedIndex(index);\n       }\n     }"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 5,
        "deletions": 6
    }
}