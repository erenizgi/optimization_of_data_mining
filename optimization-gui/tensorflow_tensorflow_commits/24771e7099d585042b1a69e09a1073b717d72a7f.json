{
    "author": "IllogicalMoose",
    "message": "Guard cudnn_api_wrappers includes based on cudnn version.\n\ncudnn_graph only exists for cudnn_version >= v9\n\nPiperOrigin-RevId: 803362791",
    "sha": "24771e7099d585042b1a69e09a1073b717d72a7f",
    "files": [
        {
            "sha": "704a69ff96a095d9bb10ba7e6d647a99036d4aa9",
            "filename": "third_party/xla/xla/stream_executor/cuda/cudnn_api_wrappers.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/24771e7099d585042b1a69e09a1073b717d72a7f/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcudnn_api_wrappers.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/24771e7099d585042b1a69e09a1073b717d72a7f/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcudnn_api_wrappers.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcudnn_api_wrappers.cc?ref=24771e7099d585042b1a69e09a1073b717d72a7f",
            "patch": "@@ -14,6 +14,7 @@ limitations under the License.\n ==============================================================================*/\n \n #include \"xla/stream_executor/cuda/cudnn_api_wrappers.h\"\n+\n #include <sys/resource.h>\n \n #include <string>\n@@ -23,7 +24,12 @@ limitations under the License.\n #include \"absl/strings/str_cat.h\"\n #include \"absl/strings/string_view.h\"\n #include \"third_party/gpus/cuda/include/library_types.h\"\n+#include \"third_party/gpus/cudnn/cudnn_version.h\"\n+#if CUDNN_VERSION >= 90000\n #include \"third_party/gpus/cudnn/cudnn_graph.h\"\n+#else\n+#include \"third_party/gpus/cudnn/cudnn_ops_infer.h\"\n+#endif\n #include \"xla/stream_executor/semantic_version.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\""
        },
        {
            "sha": "146b784e38ae6e6ead302de54fa5a0fd08865ad2",
            "filename": "third_party/xla/xla/stream_executor/cuda/cudnn_api_wrappers.h",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/24771e7099d585042b1a69e09a1073b717d72a7f/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcudnn_api_wrappers.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/24771e7099d585042b1a69e09a1073b717d72a7f/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcudnn_api_wrappers.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcudnn_api_wrappers.h?ref=24771e7099d585042b1a69e09a1073b717d72a7f",
            "patch": "@@ -19,7 +19,12 @@ limitations under the License.\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/string_view.h\"\n+#include \"third_party/gpus/cudnn/cudnn_version.h\"\n+#if CUDNN_VERSION >= 90000\n #include \"third_party/gpus/cudnn/cudnn_graph.h\"\n+#else\n+#include \"third_party/gpus/cudnn/cudnn_ops_infer.h\"\n+#endif\n #include \"xla/stream_executor/semantic_version.h\"\n \n namespace stream_executor {"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 11,
        "deletions": 0
    }
}