{
    "author": "tensorflower-gardener",
    "message": "Merge pull request #102468 from codingWizard-Nikhil:fix/99164\n\nPiperOrigin-RevId: 823122418",
    "sha": "36f279a4a3bb7a7569b900ff56338a1b39d63892",
    "files": [
        {
            "sha": "de0b0fb57ccacb23894f4b35f696232746463047",
            "filename": "tensorflow/python/ops/numpy_ops/np_math_ops.py",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/36f279a4a3bb7a7569b900ff56338a1b39d63892/tensorflow%2Fpython%2Fops%2Fnumpy_ops%2Fnp_math_ops.py",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/36f279a4a3bb7a7569b900ff56338a1b39d63892/tensorflow%2Fpython%2Fops%2Fnumpy_ops%2Fnp_math_ops.py",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fops%2Fnumpy_ops%2Fnp_math_ops.py?ref=36f279a4a3bb7a7569b900ff56338a1b39d63892",
            "patch": "@@ -1363,6 +1363,12 @@ def argsort(a, axis=-1, kind='quicksort', order=None):  # pylint: disable=missin\n \n   a = np_array_ops.array(a)\n \n+  if a.dtype in (dtypes.complex64, dtypes.complex128):\n+    raise TypeError(\n+        'argsort does not support complex64/complex128 dtypes. '\n+        f'Received dtype: {a.dtype}'\n+    )\n+\n   def _argsort(a, axis, stable):\n     if axis is None:\n       a = array_ops.reshape(a, [-1])"
        },
        {
            "sha": "0eb113e604c043e03ca835d8953b3129bf1eb49a",
            "filename": "tensorflow/python/ops/numpy_ops/np_math_ops_test.py",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/36f279a4a3bb7a7569b900ff56338a1b39d63892/tensorflow%2Fpython%2Fops%2Fnumpy_ops%2Fnp_math_ops_test.py",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/36f279a4a3bb7a7569b900ff56338a1b39d63892/tensorflow%2Fpython%2Fops%2Fnumpy_ops%2Fnp_math_ops_test.py",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fops%2Fnumpy_ops%2Fnp_math_ops_test.py?ref=36f279a4a3bb7a7569b900ff56338a1b39d63892",
            "patch": "@@ -178,6 +178,20 @@ def testArgsort(self):\n     a = np.zeros(100)\n     np.testing.assert_equal(np_math_ops.argsort(a, kind='stable'), r)\n \n+    def testArgsortRaisesErrorForComplexDtypes(self):\n+      \"\"\"Test that argsort raises TypeError for complex64 and complex128.\"\"\"\n+      complex64_array = np.array([1 + 2j, 3 + 4j, 5 + 6j], dtype=np.complex64)\n+      with self.assertRaisesRegex(\n+          TypeError, 'argsort does not support complex64/complex128 dtypes'\n+      ):\n+        np_math_ops.argsort(complex64_array)\n+\n+      complex128_array = np.array([1 + 2j, 3 + 4j, 5 + 6j], dtype=np.complex128)\n+      with self.assertRaisesRegex(\n+          TypeError, 'argsort does not support complex64/complex128 dtypes'\n+      ):\n+        np_math_ops.argsort(complex128_array)\n+\n   def testArgMaxArgMin(self):\n     data = [\n         0,"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 20,
        "deletions": 0
    }
}