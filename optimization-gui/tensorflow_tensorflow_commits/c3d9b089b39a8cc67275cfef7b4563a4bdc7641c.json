{
    "author": "tensorflower-gardener",
    "message": "Merge pull request #98766 from jaeyoonjung:pr.mallinfo\n\nPiperOrigin-RevId: 821884196",
    "sha": "c3d9b089b39a8cc67275cfef7b4563a4bdc7641c",
    "files": [
        {
            "sha": "be4982231c4d06db892b80071780a976f1c8bc8c",
            "filename": "tensorflow/lite/profiling/memory_info.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c3d9b089b39a8cc67275cfef7b4563a4bdc7641c/tensorflow%2Flite%2Fprofiling%2Fmemory_info.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c3d9b089b39a8cc67275cfef7b4563a4bdc7641c/tensorflow%2Flite%2Fprofiling%2Fmemory_info.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fprofiling%2Fmemory_info.cc?ref=c3d9b089b39a8cc67275cfef7b4563a4bdc7641c",
            "patch": "@@ -92,10 +92,10 @@ MemoryUsage GetMemoryUsage() {\n       result.private_footprint_bytes = (vm_swap_kb + res.ru_maxrss) * 1024;\n     }\n   }\n-#if defined(__NO_MALLINFO__)\n+#if defined(__NO_MALLINFO__) || !defined(__GLIBC__)\n   result.total_allocated_bytes = -1;\n   result.in_use_allocated_bytes = -1;\n-#elif defined(__GLIBC__) && __GLIBC_MINOR__ >= 33\n+#elif __GLIBC_MINOR__ >= 33\n   const auto mem = mallinfo2();\n   result.total_allocated_bytes = mem.arena;\n   result.in_use_allocated_bytes = mem.uordblks;"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}