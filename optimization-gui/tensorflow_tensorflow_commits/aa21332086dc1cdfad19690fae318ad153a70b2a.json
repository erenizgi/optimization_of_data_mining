{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 815326564",
    "sha": "aa21332086dc1cdfad19690fae318ad153a70b2a",
    "files": [
        {
            "sha": "3b237c0b89ff90b867625af1a60acef4c9683438",
            "filename": "tensorflow/core/kernels/batching_util/batch_resource_base.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aa21332086dc1cdfad19690fae318ad153a70b2a/tensorflow%2Fcore%2Fkernels%2Fbatching_util%2Fbatch_resource_base.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aa21332086dc1cdfad19690fae318ad153a70b2a/tensorflow%2Fcore%2Fkernels%2Fbatching_util%2Fbatch_resource_base.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fkernels%2Fbatching_util%2Fbatch_resource_base.cc?ref=aa21332086dc1cdfad19690fae318ad153a70b2a",
            "patch": "@@ -513,7 +513,7 @@ absl::Status BatchResourceBase::RegisterInput(\n       /* op_name= */ context->op_kernel().name(), /* queue= */ &batcher_queue));\n \n   if (!session_metadata().name().empty()) {\n-    absl::MutexLock lock(&outstanding_batch_mu_);\n+    absl::MutexLock lock(outstanding_batch_mu_);\n     WarmupStateRegistry::Key key(session_metadata().name(),\n                                  session_metadata().version());\n     if (GetGlobalWarmupStateRegistry().Lookup(key)) {\n@@ -1208,7 +1208,7 @@ void BatchResourceBase::ProcessBatchCallBack(\n     std::unique_ptr<Batch<BatchTask>> batch,\n     std::vector<std::unique_ptr<BatchTask>> unbatched_tasks) {\n   if (!session_metadata().name().empty()) {\n-    absl::MutexLock lock(&outstanding_batch_mu_);\n+    absl::MutexLock lock(outstanding_batch_mu_);\n     num_outstanding_batched_items_ -= batch->size();\n   }\n   if (!has_process_batch_function_) {"
        },
        {
            "sha": "702773fd01ec3b632a1b14a0ac36a67e660b678c",
            "filename": "tensorflow/core/kernels/batching_util/warmup.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aa21332086dc1cdfad19690fae318ad153a70b2a/tensorflow%2Fcore%2Fkernels%2Fbatching_util%2Fwarmup.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aa21332086dc1cdfad19690fae318ad153a70b2a/tensorflow%2Fcore%2Fkernels%2Fbatching_util%2Fwarmup.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fkernels%2Fbatching_util%2Fwarmup.cc?ref=aa21332086dc1cdfad19690fae318ad153a70b2a",
            "patch": "@@ -38,7 +38,7 @@ void WarmupStateRegistry::Handle::Release() {\n \n absl::StatusOr<WarmupStateRegistry::Handle> WarmupStateRegistry::Register(\n     const Key& model_key, std::unique_ptr<PerModelData> per_model_data) {\n-  absl::MutexLock l(&mu_);\n+  absl::MutexLock l(mu_);\n   VLOG(1) << \"Registering model \" << model_key.name << \":\" << model_key.version\n           << \" to warm-up registry\";\n   if (!states_.insert(std::pair(model_key, std::move(per_model_data))).second) {\n@@ -50,7 +50,7 @@ absl::StatusOr<WarmupStateRegistry::Handle> WarmupStateRegistry::Register(\n }\n \n void WarmupStateRegistry::Unregister(const Key& model_key) {\n-  absl::MutexLock l(&mu_);\n+  absl::MutexLock l(mu_);\n \n   VLOG(1) << \"Unregistering model \" << model_key.name << \":\"\n           << model_key.version << \" from warm-up registry\";\n@@ -59,7 +59,7 @@ void WarmupStateRegistry::Unregister(const Key& model_key) {\n \n const WarmupStateRegistry::PerModelData* WarmupStateRegistry::Lookup(\n     const Key& model_key) {\n-  absl::ReaderMutexLock l(&mu_);\n+  absl::ReaderMutexLock l(mu_);\n   return states_.contains(model_key) ? states_[model_key].get() : nullptr;\n }\n "
        }
    ],
    "stats": {
        "total": 10,
        "additions": 5,
        "deletions": 5
    }
}