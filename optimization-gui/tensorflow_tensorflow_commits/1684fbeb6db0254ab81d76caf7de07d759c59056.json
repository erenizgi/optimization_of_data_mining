{
    "author": "metaflow",
    "message": "Reverts 0ecc2f598d999bb4df3937e92caf8ddb490a6f43\n\nPiperOrigin-RevId: 833004557",
    "sha": "1684fbeb6db0254ab81d76caf7de07d759c59056",
    "files": [
        {
            "sha": "2b1881595d1af794c3050ac51b7087b49f5e7c9c",
            "filename": "third_party/xla/xla/debug_options_flags.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1684fbeb6db0254ab81d76caf7de07d759c59056/third_party%2Fxla%2Fxla%2Fdebug_options_flags.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1684fbeb6db0254ab81d76caf7de07d759c59056/third_party%2Fxla%2Fxla%2Fdebug_options_flags.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fdebug_options_flags.cc?ref=1684fbeb6db0254ab81d76caf7de07d759c59056",
            "patch": "@@ -327,14 +327,14 @@ DebugOptions DefaultDebugOptionsIgnoringFlags() {\n \n   opts.set_xla_gpu_enable_triton_gemm(true);\n   opts.clear_xla_gpu_unsupported_generic_triton_emitter_features();\n-  // When changing the default value of the flag, please make sure to update the\n-  // default value of the command line flag in `MakeDebugOptionsFlags`.\n   opts.add_xla_gpu_unsupported_generic_triton_emitter_features(\n       DebugOptions::GENERIC_TRITON_EMITTER_ENABLE_NESTED_GEMM);\n   opts.add_xla_gpu_unsupported_generic_triton_emitter_features(\n       DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_GEMM_SHAPES);\n   opts.add_xla_gpu_unsupported_generic_triton_emitter_features(\n       DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_OPS_IN_GEMM_FUSION);\n+  opts.add_xla_gpu_unsupported_generic_triton_emitter_features(\n+      DebugOptions::GENERIC_TRITON_EMITTER_DISABLE_LEGACY_GEMM);\n   opts.set_xla_gpu_unsupported_enable_triton_multi_output_fusion(true);\n   opts.set_xla_gpu_enable_cudnn_int8x32_convolution_reordering(true);\n   opts.set_xla_gpu_triton_gemm_any(true);"
        },
        {
            "sha": "24a03c25ac046b7d699b184c0d9245d40e3e3337",
            "filename": "third_party/xla/xla/debug_options_parsers_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1684fbeb6db0254ab81d76caf7de07d759c59056/third_party%2Fxla%2Fxla%2Fdebug_options_parsers_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1684fbeb6db0254ab81d76caf7de07d759c59056/third_party%2Fxla%2Fxla%2Fdebug_options_parsers_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fdebug_options_parsers_test.cc?ref=1684fbeb6db0254ab81d76caf7de07d759c59056",
            "patch": "@@ -398,6 +398,7 @@ TEST(ParseRepeatedEnumFlagsTest, GenericTritonEmitterFeatures) {\n       enabled_features,\n       testing::UnorderedElementsAre(\n           DebugOptions::GENERIC_TRITON_EMITTER_ENABLE_NESTED_GEMM,\n+          DebugOptions::GENERIC_TRITON_EMITTER_DISABLE_LEGACY_GEMM,\n           DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_GEMM_SHAPES,\n           DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_OPS_IN_GEMM_FUSION));\n \n@@ -414,6 +415,7 @@ TEST(ParseRepeatedEnumFlagsTest, GenericTritonEmitterFeatures) {\n       enabled_features,\n       testing::UnorderedElementsAre(\n           DebugOptions::GENERIC_TRITON_EMITTER_ENABLE_NESTED_GEMM,\n+          DebugOptions::GENERIC_TRITON_EMITTER_DISABLE_LEGACY_GEMM,\n           DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_OPS_IN_GEMM_FUSION));\n \n   // Overwriting options."
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}