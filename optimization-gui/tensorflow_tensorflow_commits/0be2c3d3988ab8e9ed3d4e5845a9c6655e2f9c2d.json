{
    "author": "qukhan",
    "message": "Remove redundant check in `MMapWeightCacheProvider::LookUpOrInsert`.\n\nThe same check is already done in `WeightCacheBuilder::Append` call just after\nthe deleted check.\n\nPiperOrigin-RevId: 806375974",
    "sha": "0be2c3d3988ab8e9ed3d4e5845a9c6655e2f9c2d",
    "files": [
        {
            "sha": "2753a9ab3c96da4948740ec8538c4dc993a8dd43",
            "filename": "tensorflow/lite/delegates/xnnpack/weight_cache.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/0be2c3d3988ab8e9ed3d4e5845a9c6655e2f9c2d/tensorflow%2Flite%2Fdelegates%2Fxnnpack%2Fweight_cache.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/0be2c3d3988ab8e9ed3d4e5845a9c6655e2f9c2d/tensorflow%2Flite%2Fdelegates%2Fxnnpack%2Fweight_cache.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fdelegates%2Fxnnpack%2Fweight_cache.cc?ref=0be2c3d3988ab8e9ed3d4e5845a9c6655e2f9c2d",
            "patch": "@@ -589,9 +589,6 @@ size_t MMapWeightCacheProvider::LookUpOrInsert(\n     return offset_it->second.offset;\n   }\n \n-  XNNPACK_ABORT_CHECK(\n-      IsBuilding(), \"Cannot insert a buffer in a cache that is not building.\");\n-\n   const BufferLocation location = builder_.Append(pack_id, ptr, size);\n   XNNPACK_ABORT_CHECK(!location.IsInvalid(),\n                       \"Inserting data in the cache failed.\");"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 0,
        "deletions": 3
    }
}