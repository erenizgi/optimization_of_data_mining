{
    "author": "tensorflower-gardener",
    "message": "Disable command buffer on thunks for autotuning compilations.\n\n- command buffer is an optimization when there are multiple custom calls, which can't be reflected well when autotuning individual instructions anyway.\n\nPiperOrigin-RevId: 804965755",
    "sha": "da43f701f464014f8b3004df51d8dba2eafa078c",
    "files": [
        {
            "sha": "990894abf8530695b3a8b4acc157b578ebafcd1d",
            "filename": "third_party/xla/xla/backends/gpu/autotuner/gpu_codegen_backend.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/da43f701f464014f8b3004df51d8dba2eafa078c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2Fgpu_codegen_backend.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/da43f701f464014f8b3004df51d8dba2eafa078c/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2Fgpu_codegen_backend.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2Fgpu_codegen_backend.h?ref=da43f701f464014f8b3004df51d8dba2eafa078c",
            "patch": "@@ -70,6 +70,9 @@ class GpuCodegenBackend : public CodegenBackend {\n     hlo_module->mutable_config().set_debug_options(debug_options_);\n     hlo_module->mutable_config().mutable_debug_options().set_xla_enable_dumping(\n         false);\n+    hlo_module->mutable_config()\n+        .mutable_debug_options()\n+        .clear_xla_gpu_enable_command_buffer();\n \n     Compiler::CompileOptions options;\n     options.is_autotuning_compilation = true;"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}