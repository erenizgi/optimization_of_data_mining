{
    "author": "sirakiin",
    "message": "No public description\n\nPiperOrigin-RevId: 802279248",
    "sha": "6c422ff6777aeddb765e40208c6a440eeaa4043f",
    "files": [
        {
            "sha": "39cf68d22e743e1f646583a4e91250f9a2220599",
            "filename": "tensorflow/compiler/mlir/lite/stablehlo/transforms/composite_lowering_patterns.td",
            "status": "modified",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/6c422ff6777aeddb765e40208c6a440eeaa4043f/tensorflow%2Fcompiler%2Fmlir%2Flite%2Fstablehlo%2Ftransforms%2Fcomposite_lowering_patterns.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/6c422ff6777aeddb765e40208c6a440eeaa4043f/tensorflow%2Fcompiler%2Fmlir%2Flite%2Fstablehlo%2Ftransforms%2Fcomposite_lowering_patterns.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Fmlir%2Flite%2Fstablehlo%2Ftransforms%2Fcomposite_lowering_patterns.td?ref=6c422ff6777aeddb765e40208c6a440eeaa4043f",
            "patch": "@@ -244,3 +244,30 @@ def LegalizeCompositePack4Elements1 : Pat<\n         (TFL_PackOp (variadic $i0, $i1, $i2, $i3),\n           (GetCompositeAttributeAs<\"values_count\", \"IntegerAttr\"> $attrs),\n           (GetCompositeAttributeAs<\"axis\", \"IntegerAttr\"> $attrs))>;\n+\n+def LegalizeDynamicSlice : Pat<\n+        (MHLO_CompositeOp:$composite\n+          (variadic $input, $begin, $size),\n+          ConstantStrAttr<StrAttr, \"tfl.slice\">, $attrs, $_, $_),\n+        (TFL_SliceOp $input, $begin, $size)>;\n+\n+def LegalizeDynamicSlice_1 : Pat<\n+        (MHLO_CompositeOp:$composite\n+          (variadic $_, $input, $begin, $size),\n+          ConstantStrAttr<StrAttr, \"tfl.slice\">, $attrs, $_, $_),\n+        (TFL_SliceOp $input, $begin, $size)>;\n+\n+def LegalizeBMM4dAdjY : Pat<\n+        (MHLO_CompositeOp:$composite\n+          (variadic $lhs, $rhs),\n+          ConstantStrAttr<StrAttr, \"tfl.bmm_4d_adj_y\">, $attrs, $_, $_),\n+        (TFL_BatchMatMulOp $lhs, $rhs, ConstBoolAttrFalse, ConstBoolAttrTrue,\n+                     ConstBoolAttrFalse)>;\n+\n+// For dynamic shaped lhs and rhs.\n+def LegalizeBMM4dAdjY_1 : Pat<\n+        (MHLO_CompositeOp:$composite\n+          (variadic $_, $lhs, $rhs),\n+          ConstantStrAttr<StrAttr, \"tfl.bmm_4d_adj_y\">, $attrs, $_, $_),\n+        (TFL_BatchMatMulOp $lhs, $rhs, ConstBoolAttrFalse, ConstBoolAttrTrue,\n+                     ConstBoolAttrFalse)>;"
        }
    ],
    "stats": {
        "total": 27,
        "additions": 27,
        "deletions": 0
    }
}