{
    "author": "tensorflower-gardener",
    "message": "Delete deprecated `tsl::Notification` and its remaining callsites\n\nUse `absl::Notification`\n\nPiperOrigin-RevId: 807754087",
    "sha": "63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
    "files": [
        {
            "sha": "bc57282dc06318b338d031898af51f75795824eb",
            "filename": "tensorflow/core/lib/core/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/tensorflow%2Fcore%2Flib%2Fcore%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/tensorflow%2Fcore%2Flib%2Fcore%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Flib%2Fcore%2FBUILD?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -89,9 +89,6 @@ cc_library(\n cc_library(\n     name = \"notification\",\n     hdrs = [\"notification.h\"],\n-    deps = [\n-        \"//tensorflow/core/platform:notification\",\n-    ],\n )\n \n cc_library("
        },
        {
            "sha": "82b5f43daad032226ed2a565e07e202eee627437",
            "filename": "tensorflow/core/lib/core/notification.h",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/tensorflow%2Fcore%2Flib%2Fcore%2Fnotification.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/tensorflow%2Fcore%2Flib%2Fcore%2Fnotification.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Flib%2Fcore%2Fnotification.h?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -16,8 +16,4 @@ limitations under the License.\n #ifndef TENSORFLOW_CORE_LIB_CORE_NOTIFICATION_H_\n #define TENSORFLOW_CORE_LIB_CORE_NOTIFICATION_H_\n \n-// Notification implementation is platform-dependent, to support\n-// alternative synchronization primitives.\n-#include \"tensorflow/core/platform/notification.h\"  // IWYU pragma: export\n-\n #endif  // TENSORFLOW_CORE_LIB_CORE_NOTIFICATION_H_"
        },
        {
            "sha": "accbd0a0682c9624c006477db56bc017e02fb3a8",
            "filename": "tensorflow/core/platform/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/tensorflow%2Fcore%2Fplatform%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/tensorflow%2Fcore%2Fplatform%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fplatform%2FBUILD?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -481,10 +481,6 @@ cc_library(\n cc_library(\n     name = \"notification\",\n     hdrs = [\"notification.h\"],\n-    deps = [\n-        \":platform\",\n-        \"@local_tsl//tsl/platform:notification\",\n-    ],\n )\n \n cc_library("
        },
        {
            "sha": "1151549e401381dfe58932caef6211a8df05511c",
            "filename": "tensorflow/core/platform/notification.h",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/tensorflow%2Fcore%2Fplatform%2Fnotification.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/tensorflow%2Fcore%2Fplatform%2Fnotification.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fplatform%2Fnotification.h?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -16,13 +16,4 @@ limitations under the License.\n #ifndef TENSORFLOW_CORE_PLATFORM_NOTIFICATION_H_\n #define TENSORFLOW_CORE_PLATFORM_NOTIFICATION_H_\n \n-#include \"tensorflow/core/platform/platform.h\"\n-#include \"tsl/platform/notification.h\"\n-\n-namespace tensorflow {\n-// NOLINTBEGIN(misc-unused-using-decls)\n-using tsl::Notification;\n-// NOLINTEND(misc-unused-using-decls)\n-}  // namespace tensorflow\n-\n #endif  // TENSORFLOW_CORE_PLATFORM_NOTIFICATION_H_"
        },
        {
            "sha": "f8656b6f41099a06b3248141841dc82becd3665a",
            "filename": "third_party/xla/third_party/tsl/tsl/platform/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2FBUILD?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -1141,11 +1141,6 @@ cc_library(\n     name = \"notification\",\n     hdrs = [\"notification.h\"],\n     compatible_with = get_compatible_with_portable(),\n-    deps = [\n-        \"@com_google_absl//absl/base:core_headers\",\n-        \"@com_google_absl//absl/synchronization\",\n-        \"@com_google_absl//absl/time\",\n-    ],\n )\n \n cc_library("
        },
        {
            "sha": "fb9caf9f8ff45c455407b033f042a3de6efaa13a",
            "filename": "third_party/xla/third_party/tsl/tsl/platform/notification.h",
            "status": "modified",
            "additions": 0,
            "deletions": 15,
            "changes": 15,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fnotification.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fnotification.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fnotification.h?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -16,19 +16,4 @@ limitations under the License.\n #ifndef TENSORFLOW_TSL_PLATFORM_NOTIFICATION_H_\n #define TENSORFLOW_TSL_PLATFORM_NOTIFICATION_H_\n \n-#include <chrono>              // NOLINT\n-#include <condition_variable>  // NOLINT\n-#include <cstdint>\n-#include <mutex>  // NOLINT\n-\n-#include \"absl/base/macros.h\"\n-#include \"absl/synchronization/notification.h\"\n-#include \"absl/time/time.h\"\n-\n-namespace tsl {\n-\n-using Notification ABSL_DEPRECATE_AND_INLINE() = absl::Notification;\n-\n-}  // namespace tsl\n-\n #endif  // TENSORFLOW_TSL_PLATFORM_NOTIFICATION_H_"
        },
        {
            "sha": "c26948be32522dfa3a728f4814810c12b3cf13a8",
            "filename": "third_party/xla/xla/service/cpu/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -130,6 +130,7 @@ cc_library(\n         \"@com_google_absl//absl/cleanup\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n+        \"@com_google_absl//absl/synchronization\",\n         \"@com_google_absl//absl/types:span\",\n         \"@local_tsl//tsl/platform:errors\",\n         \"@local_tsl//tsl/platform:logging\","
        },
        {
            "sha": "1f2c7ec26ff4cf8b9163c743dd17a73099be1b99",
            "filename": "third_party/xla/xla/service/cpu/cpu_xfeed.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_xfeed.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_xfeed.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_xfeed.cc?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -26,6 +26,7 @@ limitations under the License.\n #include \"absl/cleanup/cleanup.h\"\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n+#include \"absl/synchronization/notification.h\"\n #include \"absl/types/span.h\"\n #include \"xla/backends/cpu/runtime/xfeed_manager.h\"\n #include \"xla/literal.h\""
        },
        {
            "sha": "f2952ffe5ed7b98eaa34634454fa1fb357baf099",
            "filename": "third_party/xla/xla/service/transfer_manager.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Fservice%2Ftransfer_manager.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Fservice%2Ftransfer_manager.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Ftransfer_manager.cc?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -26,6 +26,7 @@ limitations under the License.\n #include \"absl/container/flat_hash_map.h\"\n #include \"absl/status/status.h\"\n #include \"absl/synchronization/mutex.h\"\n+#include \"absl/synchronization/notification.h\"\n #include \"xla/literal.h\"\n #include \"xla/service/compiler.h\"\n #include \"xla/service/maybe_owning_device_memory.h\""
        },
        {
            "sha": "ce51c519f425f3dea4b35fdd621a0b640379a9d4",
            "filename": "third_party/xla/xla/tsl/framework/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2FBUILD?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -373,7 +373,6 @@ cc_library(\n         \"@com_google_absl//absl/memory\",\n         \"@com_google_absl//absl/synchronization\",\n         \"@local_tsl//tsl/platform:hash\",\n-        \"@local_tsl//tsl/platform:notification\",\n         \"@local_tsl//tsl/platform:stringpiece\",\n         \"@local_tsl//tsl/platform:thread_annotations\",\n     ],\n@@ -418,8 +417,8 @@ tsl_cc_test(\n         \"//xla/tsl/platform:env_impl\",\n         \"//xla/tsl/platform:status\",\n         \"//xla/tsl/platform:test\",\n+        \"@com_google_absl//absl/synchronization\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:notification\",\n     ],\n )\n "
        },
        {
            "sha": "cae478eabb88bcfc802fb6c746e9b6f4a65536a9",
            "filename": "third_party/xla/xla/tsl/framework/cancellation.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcancellation.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcancellation.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcancellation.h?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -20,11 +20,11 @@ limitations under the License.\n #include <functional>\n \n #include \"absl/synchronization/mutex.h\"\n+#include \"absl/synchronization/notification.h\"\n #include \"xla/tsl/lib/gtl/flatmap.h\"\n #include \"xla/tsl/platform/status.h\"\n #include \"xla/tsl/platform/types.h\"\n #include \"tsl/platform/hash.h\"\n-#include \"tsl/platform/notification.h\"\n #include \"tsl/platform/stringpiece.h\"\n #include \"tsl/platform/thread_annotations.h\"\n "
        },
        {
            "sha": "c103ee73669ef92bf5ae7fff3698b5343bfe2d11",
            "filename": "third_party/xla/xla/tsl/framework/cancellation_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcancellation_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcancellation_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcancellation_test.cc?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -21,10 +21,10 @@ limitations under the License.\n #include <random>\n #include <vector>\n \n+#include \"absl/synchronization/notification.h\"\n #include \"xla/tsl/platform/status.h\"\n #include \"xla/tsl/platform/test.h\"\n #include \"xla/tsl/platform/threadpool.h\"\n-#include \"tsl/platform/notification.h\"\n \n namespace tsl {\n "
        },
        {
            "sha": "3a6e90f5b0877612ad6eef0b6fe9e3af9ecc4a16",
            "filename": "third_party/xla/xla/tsl/platform/cloud/ram_file_block_cache.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fram_file_block_cache.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fram_file_block_cache.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fram_file_block_cache.h?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -24,6 +24,7 @@ limitations under the License.\n #include <vector>\n \n #include \"absl/synchronization/mutex.h\"\n+#include \"absl/synchronization/notification.h\"\n #include \"xla/tsl/platform/cloud/file_block_cache.h\"\n #include \"xla/tsl/platform/env.h\"\n #include \"xla/tsl/platform/status.h\""
        },
        {
            "sha": "3fb6fe4fbfc414279aa7b65c3638cadec567332e",
            "filename": "third_party/xla/xla/tsl/profiler/backends/cpu/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Fbackends%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Fbackends%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Fbackends%2Fcpu%2FBUILD?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -70,8 +70,8 @@ tsl_cc_test(\n         \"//xla/tsl/profiler/utils:time_utils_impl\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/strings\",\n+        \"@com_google_absl//absl/synchronization\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:notification\",\n     ],\n )\n "
        },
        {
            "sha": "9ae6d931c7d9cedde492e061d002f50378eda41a",
            "filename": "third_party/xla/xla/tsl/profiler/backends/cpu/traceme_recorder_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Fbackends%2Fcpu%2Ftraceme_recorder_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/63d4112f9e0cff02c7bcbd563a2e7d8f13493527/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Fbackends%2Fcpu%2Ftraceme_recorder_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Fbackends%2Fcpu%2Ftraceme_recorder_test.cc?ref=63d4112f9e0cff02c7bcbd563a2e7d8f13493527",
            "patch": "@@ -24,14 +24,14 @@ limitations under the License.\n #include \"absl/container/flat_hash_map.h\"\n #include \"absl/strings/numbers.h\"\n #include \"absl/strings/str_cat.h\"\n+#include \"absl/synchronization/notification.h\"\n #include \"xla/tsl/platform/env.h\"\n #include \"xla/tsl/platform/logging.h\"\n #include \"xla/tsl/platform/test.h\"\n #include \"xla/tsl/platform/threadpool.h\"\n #include \"xla/tsl/platform/types.h\"\n #include \"xla/tsl/profiler/utils/math_utils.h\"\n #include \"xla/tsl/profiler/utils/time_utils.h\"\n-#include \"tsl/platform/notification.h\"\n \n namespace tsl {\n namespace profiler {"
        }
    ],
    "stats": {
        "total": 55,
        "additions": 9,
        "deletions": 46
    }
}