{
    "author": "ddunl",
    "message": "Downgrade logging failed import of `tensorflow.python.profiler.trace` to INFO\n\nThe assumption that this module exists seems outdated - in a pure JAX context this fails and it's confusing to see a log referencing a failed TensorFlow import (especially when all profiler functionality seems to work anyway).\n\nExample log on a trivial JAX program running on cloud TPU VM:\n```\nE0917 18:18:04.960978 1040661 python_hooks.cc:416] Can't import tensorflow.python.profiler.trace\nE0917 18:18:45.595791 1040661 python_hooks.cc:416] Can't import tensorflow.python.profiler.trace\n```\n\nThese are the only things that are logged when the JAX program succeeds.\n\nPiperOrigin-RevId: 810937747",
    "sha": "e257b09b77429eaafd72681f12673d158d7dde07",
    "files": [
        {
            "sha": "5f1122d5ba0e54e35cdae46aa183152d179a0d86",
            "filename": "third_party/xla/xla/python/profiler/internal/python_hooks.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e257b09b77429eaafd72681f12673d158d7dde07/third_party%2Fxla%2Fxla%2Fpython%2Fprofiler%2Finternal%2Fpython_hooks.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e257b09b77429eaafd72681f12673d158d7dde07/third_party%2Fxla%2Fxla%2Fpython%2Fprofiler%2Finternal%2Fpython_hooks.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fprofiler%2Finternal%2Fpython_hooks.cc?ref=e257b09b77429eaafd72681f12673d158d7dde07",
            "patch": "@@ -413,7 +413,7 @@ void PythonHookContext::ProfileFast(PyFrameObject* frame, int what,\n     auto trace_module = py::module::import(kModuleName);\n     trace_module.attr(\"enabled\") = py::bool_(enable);\n   } catch (const py::error_already_set& e) {\n-    LOG(ERROR) << \"Can't import \" << kModuleName;\n+    LOG(INFO) << \"Can't import \" << kModuleName;\n   }\n }\n "
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}