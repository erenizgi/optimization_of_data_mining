{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 815382330",
    "sha": "b2942af5cae4bbf01308b3c96a79bd76c171e01a",
    "files": [
        {
            "sha": "75fed5a0e695b30475962a1683cfe105dbc7da04",
            "filename": "tensorflow/python/grappler/BUILD",
            "status": "modified",
            "additions": 86,
            "deletions": 0,
            "changes": 86,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2FBUILD?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -27,6 +27,8 @@ cc_library(\n         \"//tensorflow/core/grappler/costs:cost_estimator\",\n         \"//tensorflow/core/grappler/costs:measuring_cost_estimator\",\n         \"//tensorflow/core/grappler/costs:utils\",\n+        \"@com_google_absl//absl/log\",\n+        \"@com_google_absl//absl/status\",\n     ] + tf_protos_grappler(),\n     alwayslink = 1,\n )\n@@ -59,12 +61,29 @@ tf_python_pybind_extension(\n     starlark_only = True,\n     deps = [\n         \":cost_analyzer_headers\",\n+        \"//tensorflow/core:core_cpu_base\",\n+        \"//tensorflow/core:framework\",\n         \"//tensorflow/core:framework_headers_lib\",\n+        \"//tensorflow/core:framework_lite\",\n+        \"//tensorflow/core:lib\",\n         \"//tensorflow/core:lib_headers_for_pybind\",\n+        \"//tensorflow/core:lib_proto_parsing\",\n+        \"//tensorflow/core:portable_gif_internal\",\n         \"//tensorflow/core:protos_all_cc\",\n         \"//tensorflow/core/common_runtime:core_cpu_headers_lib\",\n+        \"//tensorflow/core/common_runtime:device_set\",\n         \"//tensorflow/core/common_runtime/gpu:gpu_id\",\n+        \"//tensorflow/core/framework:allocator\",\n+        \"//tensorflow/core/framework:tensor\",\n+        \"//tensorflow/core/platform:threadpool_options\",\n         \"//tensorflow/python/lib/core:pybind11_status\",\n+        \"@com_google_absl//absl/container:flat_hash_map\",\n+        \"@com_google_absl//absl/container:flat_hash_set\",\n+        \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:statusor\",\n+        \"@local_tsl//tsl/platform:platform_port\",\n+        \"@local_tsl//tsl/platform:thread_annotations\",\n+        \"@local_xla//xla/tsl/protobuf:error_codes_proto_impl_cc\",\n         \"@pybind11\",\n     ],\n )\n@@ -79,6 +98,7 @@ cc_library(\n         \"//tensorflow/core:protos_all_cc\",\n         \"//tensorflow/core/grappler:grappler_item\",\n         \"//tensorflow/core/grappler/costs:graph_properties\",\n+        \"@com_google_absl//absl/status\",\n     ],\n )\n \n@@ -96,9 +116,15 @@ tf_python_pybind_extension(\n     starlark_only = True,\n     deps = [\n         \"//tensorflow/core:framework_headers_lib\",\n+        \"//tensorflow/core:lib\",\n         \"//tensorflow/core:lib_headers_for_pybind\",\n+        \"//tensorflow/core:lib_proto_parsing\",\n+        \"//tensorflow/core:portable_gif_internal\",\n         \"//tensorflow/core:protos_all_cc\",\n+        \"//tensorflow/core/framework:tensor\",\n         \"//tensorflow/python/lib/core:pybind11_status\",\n+        \"@com_google_absl//absl/status\",\n+        \"@local_tsl//tsl/platform:platform_port\",\n         \"@pybind11\",\n     ] + if_pywrap([\"//tensorflow/python/grappler:model_analyzer_lib\"]),\n )\n@@ -129,11 +155,30 @@ tf_python_pybind_extension(\n         \"_pywrap_tf_item.pyi\",\n     ],\n     deps = [\n+        \"//tensorflow/core:core_cpu_base\",\n+        \"//tensorflow/core:framework\",\n         \"//tensorflow/core:framework_headers_lib\",\n+        \"//tensorflow/core:framework_lite\",\n+        \"//tensorflow/core:lib\",\n+        \"//tensorflow/core:lib_proto_parsing\",\n+        \"//tensorflow/core:portable_gif_internal\",\n         \"//tensorflow/core:protos_all_cc\",\n+        \"//tensorflow/core:session_options\",\n         \"//tensorflow/core/common_runtime:core_cpu_headers_lib\",\n+        \"//tensorflow/core/common_runtime:device_set\",\n         \"//tensorflow/core/common_runtime/gpu:gpu_id\",\n+        \"//tensorflow/core/framework:allocator\",\n+        \"//tensorflow/core/framework:tensor\",\n+        \"//tensorflow/core/grappler:utils\",\n         \"//tensorflow/python/lib/core:pybind11_status\",\n+        \"@com_google_absl//absl/container:flat_hash_map\",\n+        \"@com_google_absl//absl/container:flat_hash_set\",\n+        \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:statusor\",\n+        \"@com_google_absl//absl/types:span\",\n+        \"@local_tsl//tsl/platform:platform_port\",\n+        \"@local_tsl//tsl/platform:thread_annotations\",\n+        \"@local_xla//xla/tsl/protobuf:error_codes_proto_impl_cc\",\n         \"@pybind11\",\n     ] + if_not_windows([\"//tensorflow/core/grappler/costs:graph_properties\"]),  # b/148556093,\n )\n@@ -214,13 +259,33 @@ tf_python_pybind_extension(\n         \"_pywrap_tf_cluster.pyi\",\n     ],\n     deps = [\n+        \"//tensorflow/core:core_cpu_base\",\n+        \"//tensorflow/core:framework\",\n         \"//tensorflow/core:framework_headers_lib\",\n+        \"//tensorflow/core:framework_lite\",\n+        \"//tensorflow/core:lib\",\n         \"//tensorflow/core:lib_headers_for_pybind\",\n+        \"//tensorflow/core:lib_proto_parsing\",\n+        \"//tensorflow/core:portable_gif_internal\",\n         \"//tensorflow/core:protos_all_cc\",\n+        \"//tensorflow/core:session_options\",\n         \"//tensorflow/core/common_runtime:core_cpu_headers_lib\",\n+        \"//tensorflow/core/common_runtime:device_set\",\n         \"//tensorflow/core/common_runtime/gpu:gpu_id\",\n+        \"//tensorflow/core/framework:allocator\",\n+        \"//tensorflow/core/framework:tensor\",\n+        \"//tensorflow/core/grappler:utils\",\n+        \"//tensorflow/core/platform:status\",\n         \"//tensorflow/python/lib/core:pybind11_status\",\n+        \"@com_google_absl//absl/container:flat_hash_map\",\n+        \"@com_google_absl//absl/container:flat_hash_set\",\n+        \"@com_google_absl//absl/log:check\",\n+        \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/types:span\",\n+        \"@local_tsl//tsl/platform:platform_port\",\n+        \"@local_tsl//tsl/platform:thread_annotations\",\n+        \"@local_xla//xla/tsl/protobuf:error_codes_proto_impl_cc\",\n         \"@pybind11\",\n     ] + if_pywrap(\n         if_true = [\n@@ -293,12 +358,33 @@ tf_python_pybind_extension(\n     #    }),\n     #    static_deps = tf_python_pybind_static_deps(),\n     deps = [\n+        \"//tensorflow/core:core_cpu_base\",\n+        \"//tensorflow/core:framework\",\n         \"//tensorflow/core:framework_headers_lib\",\n+        \"//tensorflow/core:framework_lite\",\n+        \"//tensorflow/core:lib\",\n         \"//tensorflow/core:lib_headers_for_pybind\",\n+        \"//tensorflow/core:lib_proto_parsing\",\n+        \"//tensorflow/core:portable_gif_internal\",\n         \"//tensorflow/core:protos_all_cc\",\n+        \"//tensorflow/core:session_options\",\n         \"//tensorflow/core/common_runtime:core_cpu_headers_lib\",\n+        \"//tensorflow/core/common_runtime:device\",\n+        \"//tensorflow/core/common_runtime:device_factory\",\n+        \"//tensorflow/core/common_runtime:device_set\",\n         \"//tensorflow/core/common_runtime/gpu:gpu_id\",\n+        \"//tensorflow/core/framework:allocator\",\n+        \"//tensorflow/core/framework:tensor\",\n+        \"//tensorflow/core/platform:errors\",\n+        \"//tensorflow/core/platform:status\",\n         \"//tensorflow/python/lib/core:pybind11_status\",\n+        \"@com_google_absl//absl/container:flat_hash_map\",\n+        \"@com_google_absl//absl/container:flat_hash_set\",\n+        \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:statusor\",\n+        \"@local_tsl//tsl/platform:platform_port\",\n+        \"@local_tsl//tsl/platform:thread_annotations\",\n+        \"@local_xla//xla/tsl/protobuf:error_codes_proto_impl_cc\",\n         \"@pybind11\",\n         \"@pybind11_protobuf//pybind11_protobuf:native_proto_caster\",\n     ] + if_pywrap("
        },
        {
            "sha": "0df0f3fcc25dc3d5a6098aec2566134958f268b8",
            "filename": "tensorflow/python/grappler/cluster_wrapper.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fcluster_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fcluster_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2Fcluster_wrapper.cc?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -15,7 +15,9 @@ limitations under the License.\n \n #include <algorithm>\n #include <cfloat>\n+#include <cstddef>\n #include <cstdint>\n+#include <iterator>\n #include <memory>\n #include <set>\n #include <stdexcept>\n@@ -24,6 +26,8 @@ limitations under the License.\n #include <unordered_map>\n #include <vector>\n \n+#include \"absl/log/check.h\"\n+#include \"absl/status/status.h\"\n #include \"pybind11/pybind11.h\"  // from @pybind11\n #include \"pybind11/stl.h\"  // from @pybind11\n #include \"tensorflow/core/framework/kernel_def.pb.h\""
        },
        {
            "sha": "44239ebe14053605e9dccef2ad4e61a97d4db209",
            "filename": "tensorflow/python/grappler/cost_analyzer.cc",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fcost_analyzer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fcost_analyzer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2Fcost_analyzer.cc?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -15,10 +15,23 @@ limitations under the License.\n \n #include \"tensorflow/python/grappler/cost_analyzer.h\"\n \n+#include <algorithm>\n+#include <cmath>\n+#include <cstdint>\n #include <iomanip>\n+#include <ios>\n+#include <map>\n+#include <ostream>\n+#include <vector>\n+\n+#include \"absl/log/log.h\"\n+#include \"absl/status/status.h\"\n+#include \"tensorflow/core/framework/cost_graph.pb.h\"\n+#include \"tensorflow/core/grappler/costs/op_performance_data.pb.h\"\n #include \"tensorflow/core/grappler/costs/utils.h\"\n #include \"tensorflow/core/grappler/grappler_item.h\"\n #include \"tensorflow/core/lib/core/status.h\"\n+#include \"tensorflow/core/protobuf/config.pb.h\"\n \n namespace tensorflow {\n namespace grappler {"
        },
        {
            "sha": "b14a89b1f318d9c662c32e8a4704aeb34f915ba0",
            "filename": "tensorflow/python/grappler/cost_analyzer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fcost_analyzer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fcost_analyzer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2Fcost_analyzer.h?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -17,6 +17,8 @@ limitations under the License.\n #define TENSORFLOW_PYTHON_GRAPPLER_COST_ANALYZER_H_\n \n #include <iostream>\n+\n+#include \"absl/status/status.h\"\n #include \"tensorflow/core/framework/cost_graph.pb.h\"\n #include \"tensorflow/core/framework/graph.pb.h\"\n #include \"tensorflow/core/framework/tensor_shape.pb.h\""
        },
        {
            "sha": "27207ec2c053f4defa7c7762195f5a77c119f1d4",
            "filename": "tensorflow/python/grappler/item_wrapper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fitem_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fitem_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2Fitem_wrapper.cc?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -17,6 +17,7 @@ limitations under the License.\n #include <stdexcept>\n #include <string>\n #include <unordered_map>\n+#include <unordered_set>\n #include <vector>\n \n #include \"pybind11/pybind11.h\"  // from @pybind11"
        },
        {
            "sha": "5fe0e94ff8947bc04c8fbd198f4e951f46a65487",
            "filename": "tensorflow/python/grappler/model_analyzer.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer.cc?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -15,10 +15,15 @@ limitations under the License.\n \n #include \"tensorflow/python/grappler/model_analyzer.h\"\n \n-#include <iomanip>\n+#include <ostream>\n+#include <vector>\n+\n+#include \"absl/status/status.h\"\n+#include \"tensorflow/core/framework/node_def.pb.h\"\n #include \"tensorflow/core/framework/op.h\"\n #include \"tensorflow/core/framework/tensor_shape.pb.h\"\n #include \"tensorflow/core/grappler/costs/graph_properties.h\"\n+#include \"tensorflow/core/grappler/costs/op_performance_data.pb.h\"\n #include \"tensorflow/core/grappler/grappler_item.h\"\n \n namespace tensorflow {"
        },
        {
            "sha": "c76d850a5b119a3508809d3f38cc5384d6b5ea3d",
            "filename": "tensorflow/python/grappler/model_analyzer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer.h?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -17,6 +17,8 @@ limitations under the License.\n #define TENSORFLOW_PYTHON_GRAPPLER_MODEL_ANALYZER_H_\n \n #include <iostream>\n+\n+#include \"absl/status/status.h\"\n #include \"tensorflow/core/framework/node_def.pb.h\"\n #include \"tensorflow/core/lib/core/status.h\"\n "
        },
        {
            "sha": "c5db3fffa3c1238f73efae6238e4c0a8e5132ac2",
            "filename": "tensorflow/python/grappler/model_analyzer_wrapper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2Fmodel_analyzer_wrapper.cc?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -15,6 +15,7 @@ limitations under the License.\n \n #include <memory>\n #include <sstream>\n+#include <string>\n \n #include \"pybind11/pybind11.h\"  // from @pybind11\n #include \"tensorflow/core/grappler/grappler_item_builder.h\""
        },
        {
            "sha": "4e88995858e6a75a66a9a27f6ecd0bfc257a0f53",
            "filename": "tensorflow/python/grappler/tf_optimizer_wrapper.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Ftf_optimizer_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b2942af5cae4bbf01308b3c96a79bd76c171e01a/tensorflow%2Fpython%2Fgrappler%2Ftf_optimizer_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fgrappler%2Ftf_optimizer_wrapper.cc?ref=b2942af5cae4bbf01308b3c96a79bd76c171e01a",
            "patch": "@@ -17,6 +17,8 @@ limitations under the License.\n #include <stdexcept>\n #include <string>\n #include <unordered_map>\n+#include <utility>\n+#include <vector>\n \n #include \"pybind11/pybind11.h\"  // from @pybind11\n #include \"pybind11_protobuf/native_proto_caster.h\"  // from @pybind11_protobuf"
        }
    ],
    "stats": {
        "total": 118,
        "additions": 117,
        "deletions": 1
    }
}