{
    "author": "krishnaharidasan",
    "message": "Deprecate AttributeMap::map() and migrate usages to AttributeMap::Get().\n\nOnce direct access to map is deprecated, Get() can be made thread safe.\n\nThis CL updates a few callsites as examples. A follow up will update other\ncallsites and delete the map() API on AttributeMap.\n\nPiperOrigin-RevId: 839449660",
    "sha": "687d4f1334d706cef2fb6e140f38840f6207a293",
    "files": [
        {
            "sha": "d05f354db1b42f5c01fd8eceaf513210569699a1",
            "filename": "third_party/xla/xla/python/ifrt/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/687d4f1334d706cef2fb6e140f38840f6207a293/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/687d4f1334d706cef2fb6e140f38840f6207a293/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2FBUILD?ref=687d4f1334d706cef2fb6e140f38840f6207a293",
            "patch": "@@ -158,6 +158,7 @@ cc_library(\n         \":attribute_map_proto_cc\",\n         \":serdes_default_version_accessor\",\n         \":serdes_version\",\n+        \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\","
        },
        {
            "sha": "2709e065ac7264431216eb8130d77ff74966880b",
            "filename": "third_party/xla/xla/python/ifrt/attribute_map.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/687d4f1334d706cef2fb6e140f38840f6207a293/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Fattribute_map.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/687d4f1334d706cef2fb6e140f38840f6207a293/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Fattribute_map.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Fattribute_map.h?ref=687d4f1334d706cef2fb6e140f38840f6207a293",
            "patch": "@@ -24,6 +24,7 @@ limitations under the License.\n #include <variant>\n #include <vector>\n \n+#include \"absl/base/attributes.h\"\n #include \"absl/container/flat_hash_map.h\"\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n@@ -89,6 +90,7 @@ class AttributeMap {\n \n   explicit AttributeMap(Map map) : map_(std::move(map)) {}\n \n+  ABSL_DEPRECATED(\"map() is not thread-safe. Use Get() function instead.\")\n   const Map& map() const { return map_; }\n \n   template <typename T>"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}