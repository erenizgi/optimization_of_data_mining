{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 818364722",
    "sha": "e72ccd23e34b8a878b198bf8076b259157b8ec7c",
    "files": [
        {
            "sha": "f7c158265a5d3c765460b9ea7fd7649e0d105439",
            "filename": "tensorflow/core/grappler/optimizers/data/auto_shard.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fauto_shard.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fauto_shard.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fauto_shard.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -818,7 +818,7 @@ absl::Status OptimizeGraph(const GrapplerItem& item, int64_t num_workers,\n \n   // id for telemetry purpose. item.id is always the same so we use the address\n   // of the output as id.\n-  string id = strings::StrCat(reinterpret_cast<uint64>(output));\n+  string id = absl::StrCat(reinterpret_cast<uint64>(output));\n   // Only record metrics on the first shard to avoid duplication.\n   if (index == 0) {\n     std::vector<std::string> ineligible_reason;\n@@ -906,7 +906,7 @@ bool IsEligibleRewriteBatchSize(const NodeDef& sink_node,\n     // know whether this node is sensitive to the batch size or not and we err\n     // on the safe side.\n     ineligible_reason->push_back(\n-        strings::StrCat(\"OP_NOT_SUPPORTED_\", input_node->op()));\n+        absl::StrCat(\"OP_NOT_SUPPORTED_\", input_node->op()));\n     input_node = graph_utils::GetInputNode(*input_node, graph);\n   }\n   // If we don't find a batch node, only records BATCH_NOT_FOUND as the reason."
        },
        {
            "sha": "61a4a8e1d651ffe0937e56c6d015cc3e087b87ee",
            "filename": "tensorflow/core/grappler/optimizers/data/autotune_buffer_sizes.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fautotune_buffer_sizes.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fautotune_buffer_sizes.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fautotune_buffer_sizes.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -114,7 +114,7 @@ absl::Status AutotuneBufferSizes::OptimizeAndCollectStats(\n   for (const NodeDef* async_dataset_node : async_datasets) {\n     NodeDef prefetch_node;\n     graph_utils::SetUniqueGraphNodeName(\n-        strings::StrCat(\"inject/prefetch_\", async_dataset_node->name()),\n+        absl::StrCat(\"inject/prefetch_\", async_dataset_node->name()),\n         graph.graph(), &prefetch_node);\n     prefetch_node.set_op(kPrefetchDataset);\n     // `input_dataset` input"
        },
        {
            "sha": "2b5304fecac2309fb3fe9ad8a83c86d097e345ab",
            "filename": "tensorflow/core/grappler/optimizers/data/function_utils.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Ffunction_utils.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Ffunction_utils.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Ffunction_utils.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -91,7 +91,7 @@ void AddFunctionOutputWithUniqueName(absl::string_view prefix,\n   string name = string(prefix);\n   int id = fdef->signature().output_arg_size();\n   while (ContainsFunctionOutputWithName(name, *fdef)) {\n-    name = strings::StrCat(prefix, \"/_\", id);\n+    name = absl::StrCat(prefix, \"/_\", id);\n     ++id;\n   }\n   auto* output = fdef->mutable_signature()->mutable_output_arg()->Add();\n@@ -177,7 +177,7 @@ void SetUniqueFunctionNodeName(absl::string_view prefix, FunctionDef* function,\n   string name = string(prefix);\n   int id = function->node_def_size();\n   while (ContainsFunctionNodeWithName(name, *function)) {\n-    name = strings::StrCat(prefix, \"/_\", id);\n+    name = absl::StrCat(prefix, \"/_\", id);\n     ++id;\n   }\n   node->set_name(std::move(name));"
        },
        {
            "sha": "6ad4eedf3d4c0cc9bb346c48fc4c9aa5a9e27d69",
            "filename": "tensorflow/core/grappler/optimizers/data/fusion_utils.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Ffusion_utils.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Ffusion_utils.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Ffusion_utils.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -123,7 +123,7 @@ gtl::FlatMap<string, string> GetUniqueNames(const Iterable& first_iterable,\n \n     while (first_names.count(name) ||\n            (changed_name && second_names.count(name))) {\n-      name = strings::StrCat(name_before, \"/_\", id);\n+      name = absl::StrCat(name_before, \"/_\", id);\n       changed_name = true;\n       ++id;\n     }\n@@ -342,7 +342,7 @@ FunctionDef* CreateFalsePredicate(\n   for (const auto& fake_arg : fake_args) {\n     auto* arg = false_predicate->mutable_signature()->add_input_arg();\n     arg->set_type(fake_arg.type());\n-    arg->set_name(strings::StrCat(\"fake_arg\", num));\n+    arg->set_name(absl::StrCat(\"fake_arg\", num));\n     num++;\n   }\n "
        },
        {
            "sha": "cf931c91f89c36536cf9337f69714f464dc040cb",
            "filename": "tensorflow/core/grappler/optimizers/data/graph_utils.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fgraph_utils.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fgraph_utils.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fgraph_utils.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -316,9 +316,9 @@ void SetUniqueGraphNodeName(absl::string_view prefix, GraphDef* graph,\n   while (ContainsGraphNodeWithName(name, *graph)) {\n     if (name.rfind(\"_generated\") != string::npos &&\n         (name.rfind(\"_generated\") == (name.size() - strlen(\"_generated\")))) {\n-      name.insert(name.rfind(\"_generated\"), strings::StrCat(\"/_\", id));\n+      name.insert(name.rfind(\"_generated\"), absl::StrCat(\"/_\", id));\n     } else {\n-      name = strings::StrCat(prefix, \"/_\", id);\n+      name = absl::StrCat(prefix, \"/_\", id);\n     }\n     ++id;\n   }\n@@ -331,7 +331,7 @@ void SetUniqueGraphFunctionName(absl::string_view prefix,\n   string name = string(prefix);\n   int id = library->function_size();\n   while (ContainsGraphFunctionWithName(name, *library)) {\n-    name = strings::StrCat(prefix, \"/_\", id);\n+    name = absl::StrCat(prefix, \"/_\", id);\n     ++id;\n   }\n   function->mutable_signature()->set_name(std::move(name));\n@@ -360,7 +360,7 @@ absl::Status EnsureNodeNamesUnique(Graph* g) {\n     if (auto entry = gtl::FindOrNull(name_map, prefix)) {\n       string unique_name;\n       do {\n-        unique_name = strings::StrCat(prefix, \"_\", ++(*entry));\n+        unique_name = absl::StrCat(prefix, \"_\", ++*entry);\n       } while (name_map.find(unique_name) != name_map.end());\n       name_map.insert({unique_name, 0});\n       node->set_name(std::move(unique_name));"
        },
        {
            "sha": "bb55561d9e46a47353e7673b0b1e54ad5edf9174",
            "filename": "tensorflow/core/grappler/optimizers/data/inject_prefetch.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Finject_prefetch.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Finject_prefetch.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Finject_prefetch.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -110,7 +110,7 @@ absl::Status InjectPrefetch::OptimizeAndCollectStats(Cluster* cluster,\n   // Insert `prefetch(AUTOTUNE)` after the last node.\n   NodeDef prefetch_node;\n   graph_utils::SetUniqueGraphNodeName(\n-      strings::StrCat(\"inject/prefetch_\", last_node->name()), graph.graph(),\n+      absl::StrCat(\"inject/prefetch_\", last_node->name()), graph.graph(),\n       &prefetch_node);\n   prefetch_node.set_op(kPrefetchDataset);\n   // `input_dataset` input"
        },
        {
            "sha": "f793335cdf43806a3833ff00d2117ce61b5d6d1f",
            "filename": "tensorflow/core/grappler/optimizers/data/make_deterministic.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fmake_deterministic.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fmake_deterministic.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fmake_deterministic.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -294,7 +294,7 @@ absl::Status SplitMap(\n   {\n     NodeDef first_map_node;\n     graph_utils::SetUniqueGraphNodeName(\n-        strings::StrCat(\"make_deterministic_sequential_map/\", map_node->name()),\n+        absl::StrCat(\"make_deterministic_sequential_map/\", map_node->name()),\n         graph->graph(), &first_map_node);\n     first_map_node.set_op(kMapOp);\n     int num_control_deps = NumControlInputs(*map_node);\n@@ -347,8 +347,8 @@ absl::Status SplitMap(\n     string node_name =\n         map_node->op() == kMapAndBatchOp ? \"map_and_batch\" : \"parallel_map\";\n     graph_utils::SetUniqueGraphNodeName(\n-        strings::StrCat(\"make_deterministic_parallel_\", node_name, \"/\",\n-                        map_node->name()),\n+        absl::StrCat(\"make_deterministic_parallel_\", node_name, \"/\",\n+                     map_node->name()),\n         graph->graph(), &second_map_node);\n     second_map_node.set_op(map_node->op());\n     second_map_node.add_input(first_map_node_ptr->name());"
        },
        {
            "sha": "fd638726a58ef8d3e45d69a90dbd6ff8d1b85bc6",
            "filename": "tensorflow/core/grappler/optimizers/data/map_and_filter_fusion.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fmap_and_filter_fusion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fmap_and_filter_fusion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fmap_and_filter_fusion.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -109,7 +109,7 @@ NodeDef MakeFilterNode(const NodeDef& fused_map,\n   arg->set_description(\"predicate result computed in the fused map\");\n   arg->set_type(DT_BOOL);\n   sig->set_description(\"returns the last argument\");\n-  (*func->mutable_ret())[\"predicate_result\"] = strings::StrCat(\n+  (*func->mutable_ret())[\"predicate_result\"] = absl::StrCat(\n       fused_sig.output_arg(fused_sig.output_arg_size() - 1).name(), \":0\");\n \n   (*filter_node.mutable_attr())[\"predicate\"] =\n@@ -147,7 +147,7 @@ NodeDef MakeMapNode(const NodeDef& updated_filter, const NodeDef& original_map,\n   for (int i = 0; i < fused_sig.output_arg_size() - 1; ++i) {\n     auto arg_i = fused_sig.output_arg(i);\n     *(sig->add_output_arg()) = arg_i;\n-    (*func->mutable_ret())[arg_i.name()] = strings::StrCat(arg_i.name(), \":0\");\n+    (*func->mutable_ret())[arg_i.name()] = absl::StrCat(arg_i.name(), \":0\");\n   }\n   sig->set_description(\"drops the last argument\");\n "
        },
        {
            "sha": "692004683b26dd04d6c2ac0dad209479947374a1",
            "filename": "tensorflow/core/grappler/optimizers/data/slack_test.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fslack_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e72ccd23e34b8a878b198bf8076b259157b8ec7c/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fslack_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Foptimizers%2Fdata%2Fslack_test.cc?ref=e72ccd23e34b8a878b198bf8076b259157b8ec7c",
            "patch": "@@ -133,23 +133,23 @@ TEST(SlackTest, TestFunctionNotOptimized) {\n                               {std::make_pair(\"output_shapes\", shapes_attr),\n                                std::make_pair(\"Toutput_types\", types_attr)},\n                               fdef);\n-  NodeDef *prefetch_node = function_utils::AddNode(\n+  NodeDef* prefetch_node = function_utils::AddNode(\n       \"PrefetchDataset\", \"PrefetchDataset\",\n-      {strings::StrCat(tensor_dataset_node->name(), \":handle:0\"), \"args_0\"},\n+      {absl::StrCat(tensor_dataset_node->name(), \":handle:0\"), \"args_0\"},\n       {std::make_pair(\"output_shapes\", shapes_attr),\n        std::make_pair(\"output_types\", types_attr)},\n       fdef);\n \n   AttrValue variant_type_attr;\n   SetAttrValue(DT_VARIANT, &variant_type_attr);\n-  NodeDef *identity_node = function_utils::AddNode(\n-      \"Identity\", \"Identity\",\n-      {strings::StrCat(prefetch_node->name(), \":handle:0\"),\n-       strings::StrCat(\"^\", tensor_dataset_node->name())},\n-      {std::make_pair(\"T\", variant_type_attr)}, fdef);\n+  NodeDef* identity_node =\n+      function_utils::AddNode(\"Identity\", \"Identity\",\n+                              {absl::StrCat(prefetch_node->name(), \":handle:0\"),\n+                               absl::StrCat(\"^\", tensor_dataset_node->name())},\n+                              {std::make_pair(\"T\", variant_type_attr)}, fdef);\n \n   (*fdef->mutable_ret())[\"identity\"] =\n-      strings::StrCat(identity_node->name(), \":output:0\");\n+      absl::StrCat(identity_node->name(), \":output:0\");\n   (*fdef->mutable_control_ret())[tensor_dataset_node->name()] =\n       tensor_dataset_node->name();\n   fdef->mutable_signature()->add_control_output(tensor_dataset_node->name());"
        }
    ],
    "stats": {
        "total": 50,
        "additions": 25,
        "deletions": 25
    }
}