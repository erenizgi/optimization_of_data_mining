{
    "author": "ezhulenev",
    "message": "[xla:ifrt] Make ifrt Future/Promise an alias to ::tsl::Future/Promise\n\nPiperOrigin-RevId: 811924613",
    "sha": "5b53d198be89167f139c101e75230be777128d8e",
    "files": [
        {
            "sha": "e2ac5746ba911f02b20a06a0f021e8871d6597d7",
            "filename": "third_party/xla/xla/python/ifrt/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5b53d198be89167f139c101e75230be777128d8e/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5b53d198be89167f139c101e75230be777128d8e/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2FBUILD?ref=5b53d198be89167f139c101e75230be777128d8e",
            "patch": "@@ -99,10 +99,10 @@ cc_library(\n         \"//xla/pjrt:pjrt_compiler\",\n         \"//xla/pjrt:pjrt_device_description\",\n         \"//xla/pjrt:pjrt_executable\",\n-        \"//xla/pjrt:pjrt_future\",\n         \"//xla/pjrt:pjrt_layout\",\n         \"//xla/python/ifrt/ir:sharding_param\",\n         \"//xla/service:computation_placer_hdr\",\n+        \"//xla/tsl/concurrency:future\",\n         \"//xla/tsl/concurrency:ref_count\",\n         \"//xla/tsl/lib/core:bitmap\",\n         \"//xla/tsl/lib/gtl:int_type\","
        },
        {
            "sha": "4ecb3eba7071d87ff6f9ff6ca972223f1e7b6fa2",
            "filename": "third_party/xla/xla/python/ifrt/future.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5b53d198be89167f139c101e75230be777128d8e/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Ffuture.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5b53d198be89167f139c101e75230be777128d8e/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Ffuture.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Ffuture.h?ref=5b53d198be89167f139c101e75230be777128d8e",
            "patch": "@@ -16,12 +16,12 @@ limitations under the License.\n #ifndef XLA_PYTHON_IFRT_FUTURE_H_\n #define XLA_PYTHON_IFRT_FUTURE_H_\n \n-#include \"xla/pjrt/pjrt_future.h\"\n+#include \"xla/tsl/concurrency/future.h\"\n \n namespace xla {\n namespace ifrt {\n \n-// Future reuses `xla::PjRtFuture` as the short-term implementation.\n+// Future reuses `tsl::Future` as the short-term implementation.\n //\n // We will address the following properties in a new `Future` implementation.\n //\n@@ -31,12 +31,12 @@ namespace ifrt {\n // * Awaiting on a `Future` should possibly be cancellable to lower overhead\n // when the `Future` value woudld be no longer useful or relevant.\n template <typename T = void>\n-using Future = ::xla::PjRtFuture<T>;\n+using Future = ::tsl::Future<T>;\n \n template <typename T = void>\n-using Promise = typename ::xla::PjRtFuture<T>::Promise;\n+using Promise = ::tsl::Promise<T>;\n \n-using ::xla::JoinFutures;\n+using ::tsl::JoinFutures;\n \n }  // namespace ifrt\n }  // namespace xla"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 6,
        "deletions": 6
    }
}