{
    "author": "basioli-k",
    "message": "Breaking internal models in g3.\n\nReverts 578a4f83310db800aafa19d466028f75f98286b0\n\nPiperOrigin-RevId: 845882935",
    "sha": "be344bbfb6be645abd697a2a589e8e32988f6659",
    "files": [
        {
            "sha": "bdd679412e02617fe985ed37e3d28a663ced413f",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/dot_algorithms_test.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/be344bbfb6be645abd697a2a589e8e32988f6659/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fdot_algorithms_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/be344bbfb6be645abd697a2a589e8e32988f6659/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fdot_algorithms_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fdot_algorithms_test.cc?ref=be344bbfb6be645abd697a2a589e8e32988f6659",
            "patch": "@@ -2086,7 +2086,11 @@ INSTANTIATE_TEST_SUITE_P(\n     PrecisionTests, PrecisionTests,\n     Combine(Values(PC::ALG_DOT_TF32_TF32_F32, PC::ALG_DOT_TF32_TF32_F32_X3,\n                    PC::ALG_DOT_BF16_BF16_F32, PC::ALG_DOT_BF16_BF16_F32_X3,\n-                   PC::ALG_DOT_BF16_BF16_F32_X6, PC::ALG_DOT_BF16_BF16_F32_X9,\n+                   PC::ALG_DOT_BF16_BF16_F32_X6,\n+                   // TODO(basioli): re-enable this algorithm testing once the\n+                   // attribute\n+                   // importer supports the conversion.\n+                   //  PC::ALG_DOT_BF16_BF16_F32_X9,\n                    PC::ALG_DOT_F32_F32_F32),\n             Values(Backend::kTriton, Backend::kBlas)),\n     AlgorithmAndBackendTestParamToString);"
        },
        {
            "sha": "e5df20ac1480d7f42aca722af8afa8f227ef2c1b",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/fusion_emitter_device_test.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/be344bbfb6be645abd697a2a589e8e32988f6659/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Ffusion_emitter_device_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/be344bbfb6be645abd697a2a589e8e32988f6659/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Ffusion_emitter_device_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Ffusion_emitter_device_test.cc?ref=be344bbfb6be645abd697a2a589e8e32988f6659",
            "patch": "@@ -4361,7 +4361,9 @@ constexpr std::array kMultiDotAlgorithms = {\n     PrecisionConfig::ALG_DOT_BF16_BF16_F32_X3,\n     PrecisionConfig::ALG_DOT_BF16_BF16_F32_X6,\n     PrecisionConfig::ALG_DOT_TF32_TF32_F32_X3,\n-    PrecisionConfig::ALG_DOT_BF16_BF16_F32_X9,\n+    // TODO(basioli): re-enable this algorithm testing once the attribute\n+    // importer supports the conversion.\n+    // PrecisionConfig::ALG_DOT_BF16_BF16_F32_X9,\n };\n \n TEST_P(MultiDotAlgorithmEmitterTest, MultiDotAlgorithmIsEmittedCorrectly) {"
        },
        {
            "sha": "8b68c112604104417186c4cc7fc68c557aaa2995",
            "filename": "third_party/xla/xla/hlo/translate/hlo_to_mhlo/attribute_importer.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/be344bbfb6be645abd697a2a589e8e32988f6659/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fattribute_importer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/be344bbfb6be645abd697a2a589e8e32988f6659/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fattribute_importer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fattribute_importer.cc?ref=be344bbfb6be645abd697a2a589e8e32988f6659",
            "patch": "@@ -199,12 +199,6 @@ mlir::stablehlo::DotAlgorithmAttr ConvertDotAlgorithm(\n       numPrimitiveOperations = 6;\n       break;\n     }\n-    case PrecisionConfig::ALG_DOT_BF16_BF16_F32_X9: {\n-      lhs = rhs = builder->getBF16Type();\n-      accum = builder->getF32Type();\n-      numPrimitiveOperations = 9;\n-      break;\n-    }\n     case PrecisionConfig::ALG_DOT_TF32_TF32_F32: {\n       lhs = rhs = builder->getTF32Type();\n       accum = builder->getF32Type();"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}