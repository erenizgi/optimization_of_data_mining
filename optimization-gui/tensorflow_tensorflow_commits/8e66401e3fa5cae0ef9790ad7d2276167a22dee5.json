{
    "author": "allanrenucci",
    "message": "Fix OSS build failure.\n\nInternally we build with C++20 but C++17 is used for OSS. It seems that `PayloadSizeAndAlign(size, align)` is not legal under C++17 but `PayloadSizeAndAlign{size, align}` is.\n\nPiperOrigin-RevId: 836219487",
    "sha": "8e66401e3fa5cae0ef9790ad7d2276167a22dee5",
    "files": [
        {
            "sha": "bee762596cfb106e39139b097af919592f8f654d",
            "filename": "third_party/xla/xla/backends/profiler/gpu/cupti_nvtx_ext_payload.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e66401e3fa5cae0ef9790ad7d2276167a22dee5/third_party%2Fxla%2Fxla%2Fbackends%2Fprofiler%2Fgpu%2Fcupti_nvtx_ext_payload.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e66401e3fa5cae0ef9790ad7d2276167a22dee5/third_party%2Fxla%2Fxla%2Fbackends%2Fprofiler%2Fgpu%2Fcupti_nvtx_ext_payload.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fprofiler%2Fgpu%2Fcupti_nvtx_ext_payload.cc?ref=8e66401e3fa5cae0ef9790ad7d2276167a22dee5",
            "patch": "@@ -281,8 +281,10 @@ const std::vector<PayloadSizeAndAlign>& PredefinedPayloadTypes() {\n     // The first element in fact defines the length of the info array.\n     global_data->reserve(payload_type_info->size);\n     for (uint16_t i = 0; i < payload_type_info->size; ++i) {\n-      global_data->emplace_back(payload_type_info[i].size,\n-                                payload_type_info[i].align);\n+      global_data->push_back(PayloadSizeAndAlign{\n+          payload_type_info[i].size,\n+          payload_type_info[i].align,\n+      });\n     }\n     VLOG(9) << \"Initialized NVTX predefined payload type info with \"\n             << global_data->size() << \" entries.\";"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}