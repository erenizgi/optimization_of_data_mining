{
    "author": "meteorcloudy",
    "message": "Update pip dependency reference from `@pypi_XXX//:pkg` to `@pypi//XXX`.\n\nThe `@pypi_<name>` references are deprecated and their repo names are\nan implementation detail of how an underlying library is downloaded.\nThe modern, supported, way is to go through the hub (`@pypi`). This\nalso makes the code compatible with both workspace and bzlmod.\n\nPiperOrigin-RevId: 812915387",
    "sha": "bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204",
    "files": [
        {
            "sha": "953ea748630b1bc335d4e745a1edb01e7d9f36b4",
            "filename": "third_party/py/numpy/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fpy%2Fnumpy%2FBUILD.bazel",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fpy%2Fnumpy%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fpy%2Fnumpy%2FBUILD.bazel?ref=bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204",
            "patch": "@@ -4,12 +4,12 @@ package(default_visibility = [\"//visibility:public\"])\n \n alias(\n     name = \"numpy\",\n-    actual = \"@pypi_numpy//:pkg\",\n+    actual = \"@pypi//numpy\",\n )\n \n alias(\n     name = \"headers\",\n-    actual = \"@pypi_numpy//:numpy_headers\",\n+    actual = \"@pypi//numpy:numpy_headers\",\n )\n \n genrule("
        },
        {
            "sha": "7689b92b60a00aa19bb8563dd56cfce1fa147f21",
            "filename": "third_party/py/python_init_pip.bzl",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fpy%2Fpython_init_pip.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fpy%2Fpython_init_pip.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fpy%2Fpython_init_pip.bzl?ref=bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204",
            "patch": "@@ -35,5 +35,8 @@ cc_library(\n         python_interpreter_target = \"@{}_host//:python\".format(\n             get_toolchain_name_per_python_version(\"python\"),\n         ),\n+        extra_hub_aliases = {\n+            \"numpy\": [\"numpy_headers\"],\n+        },\n         requirements_lock = REQUIREMENTS_WITH_LOCAL_WHEELS,\n     )"
        },
        {
            "sha": "953ea748630b1bc335d4e745a1edb01e7d9f36b4",
            "filename": "third_party/xla/third_party/py/numpy/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fxla%2Fthird_party%2Fpy%2Fnumpy%2FBUILD.bazel",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fxla%2Fthird_party%2Fpy%2Fnumpy%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fpy%2Fnumpy%2FBUILD.bazel?ref=bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204",
            "patch": "@@ -4,12 +4,12 @@ package(default_visibility = [\"//visibility:public\"])\n \n alias(\n     name = \"numpy\",\n-    actual = \"@pypi_numpy//:pkg\",\n+    actual = \"@pypi//numpy\",\n )\n \n alias(\n     name = \"headers\",\n-    actual = \"@pypi_numpy//:numpy_headers\",\n+    actual = \"@pypi//numpy:numpy_headers\",\n )\n \n genrule("
        },
        {
            "sha": "7689b92b60a00aa19bb8563dd56cfce1fa147f21",
            "filename": "third_party/xla/third_party/py/python_init_pip.bzl",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fxla%2Fthird_party%2Fpy%2Fpython_init_pip.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fxla%2Fthird_party%2Fpy%2Fpython_init_pip.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fpy%2Fpython_init_pip.bzl?ref=bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204",
            "patch": "@@ -35,5 +35,8 @@ cc_library(\n         python_interpreter_target = \"@{}_host//:python\".format(\n             get_toolchain_name_per_python_version(\"python\"),\n         ),\n+        extra_hub_aliases = {\n+            \"numpy\": [\"numpy_headers\"],\n+        },\n         requirements_lock = REQUIREMENTS_WITH_LOCAL_WHEELS,\n     )"
        },
        {
            "sha": "e5593b817409b3222c3f3cfba29bf7277e4ef8c9",
            "filename": "third_party/xla/xla/lit.bzl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fxla%2Fxla%2Flit.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fxla%2Fxla%2Flit.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Flit.bzl?ref=bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204",
            "patch": "@@ -248,7 +248,7 @@ def lit_test(\n         testonly = True,\n         deps = [\n             \"@llvm-project//llvm:lit_lib\",\n-            \"@pypi_lit//:pkg\",\n+            \"@pypi//lit\",\n         ],\n     )\n \n@@ -282,7 +282,7 @@ def lit_test(\n                    # called lit.cfg.py\n                    cfg,\n                    tools_on_path_target_name,\n-               ] + data + if_oss([\"@pypi_lit//:pkg\"]) +\n+               ] + data + if_oss([\"@pypi//lit\"]) +\n                if_google([\n                    \"//xla:lit_google_cfg.py\",\n                ]),"
        },
        {
            "sha": "d77a1f5c2c890aafccb087e3f78759ec0a3922d2",
            "filename": "third_party/xla/xla/mlir_hlo/tests/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Ftests%2FBUILD?ref=bfc4d2d2e4a5ce6c98c961d39d7924761c9b1204",
            "patch": "@@ -28,7 +28,7 @@ package(\n             \"nomsan\",  # The execution engine doesn't work with msan, see b/248097619.\n         ],\n         deps = [\"@pypi_lit//:pkg\"],\n-        deps = [\"@pypi_lit//:pkg\"],  # copybara:comment\n+        deps = [\"@pypi//lit\"],  # copybara:comment\n     )\n     for src in glob([\"**/*.mlir\"])\n ]"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 13,
        "deletions": 7
    }
}