{
    "author": "chsigg",
    "message": "Reverts 5a3c23b1d7ee994d19e054096469f69b34e5674c\n\nPiperOrigin-RevId: 832215674",
    "sha": "0ecc2f598d999bb4df3937e92caf8ddb490a6f43",
    "files": [
        {
            "sha": "c2f50babe5ec15098b9e4ac79b23d93d1dcfc990",
            "filename": "third_party/xla/xla/debug_options_flags.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/0ecc2f598d999bb4df3937e92caf8ddb490a6f43/third_party%2Fxla%2Fxla%2Fdebug_options_flags.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/0ecc2f598d999bb4df3937e92caf8ddb490a6f43/third_party%2Fxla%2Fxla%2Fdebug_options_flags.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fdebug_options_flags.cc?ref=0ecc2f598d999bb4df3937e92caf8ddb490a6f43",
            "patch": "@@ -327,14 +327,14 @@ DebugOptions DefaultDebugOptionsIgnoringFlags() {\n \n   opts.set_xla_gpu_enable_triton_gemm(true);\n   opts.clear_xla_gpu_unsupported_generic_triton_emitter_features();\n+  // When changing the default value of the flag, please make sure to update the\n+  // default value of the command line flag in `MakeDebugOptionsFlags`.\n   opts.add_xla_gpu_unsupported_generic_triton_emitter_features(\n       DebugOptions::GENERIC_TRITON_EMITTER_ENABLE_NESTED_GEMM);\n   opts.add_xla_gpu_unsupported_generic_triton_emitter_features(\n       DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_GEMM_SHAPES);\n   opts.add_xla_gpu_unsupported_generic_triton_emitter_features(\n       DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_OPS_IN_GEMM_FUSION);\n-  opts.add_xla_gpu_unsupported_generic_triton_emitter_features(\n-      DebugOptions::GENERIC_TRITON_EMITTER_DISABLE_LEGACY_GEMM);\n   opts.set_xla_gpu_unsupported_enable_triton_multi_output_fusion(true);\n   opts.set_xla_gpu_enable_cudnn_int8x32_convolution_reordering(true);\n   opts.set_xla_gpu_triton_gemm_any(true);"
        },
        {
            "sha": "74b33f91b3f857366567eb689ab488bb6a698a8c",
            "filename": "third_party/xla/xla/debug_options_parsers_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/0ecc2f598d999bb4df3937e92caf8ddb490a6f43/third_party%2Fxla%2Fxla%2Fdebug_options_parsers_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/0ecc2f598d999bb4df3937e92caf8ddb490a6f43/third_party%2Fxla%2Fxla%2Fdebug_options_parsers_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fdebug_options_parsers_test.cc?ref=0ecc2f598d999bb4df3937e92caf8ddb490a6f43",
            "patch": "@@ -398,7 +398,6 @@ TEST(ParseRepeatedEnumFlagsTest, GenericTritonEmitterFeatures) {\n       enabled_features,\n       testing::UnorderedElementsAre(\n           DebugOptions::GENERIC_TRITON_EMITTER_ENABLE_NESTED_GEMM,\n-          DebugOptions::GENERIC_TRITON_EMITTER_DISABLE_LEGACY_GEMM,\n           DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_GEMM_SHAPES,\n           DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_OPS_IN_GEMM_FUSION));\n \n@@ -415,7 +414,6 @@ TEST(ParseRepeatedEnumFlagsTest, GenericTritonEmitterFeatures) {\n       enabled_features,\n       testing::UnorderedElementsAre(\n           DebugOptions::GENERIC_TRITON_EMITTER_ENABLE_NESTED_GEMM,\n-          DebugOptions::GENERIC_TRITON_EMITTER_DISABLE_LEGACY_GEMM,\n           DebugOptions::GENERIC_TRITON_EMITTER_ALLOW_ALL_OPS_IN_GEMM_FUSION));\n \n   // Overwriting options."
        }
    ],
    "stats": {
        "total": 6,
        "additions": 2,
        "deletions": 4
    }
}