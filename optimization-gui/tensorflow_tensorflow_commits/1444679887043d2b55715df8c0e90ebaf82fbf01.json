{
    "author": "ezhulenev",
    "message": "[xla:codegen] Remove LlvmKernelDefinition alias\n\nRely on KernelEmitter<T>::KernelDefinition alias and CTAD to avoid spelling full type.\n\nPiperOrigin-RevId: 825336093",
    "sha": "1444679887043d2b55715df8c0e90ebaf82fbf01",
    "files": [
        {
            "sha": "113e12bcc4d37a8c5f8458c89e8a5909110f3104",
            "filename": "third_party/xla/xla/backends/cpu/codegen/computation_kernel_emitter.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -132,7 +132,7 @@ ComputationKernelEmitter::ComputationKernelEmitter(\n       buffer_assignment_(buffer_assignment),\n       target_machine_(target_machine) {}\n \n-absl::StatusOr<LlvmKernelDefinition>\n+absl::StatusOr<ComputationKernelEmitter::KernelDefinition>\n ComputationKernelEmitter::EmitKernelDefinition() {\n   VLOG(2) << \"Emit Computation host kernel: \" << instr_->name();\n \n@@ -221,7 +221,7 @@ ComputationKernelEmitter::EmitKernelDefinition() {\n                   std::move(kernel_prototype.result_buffers),\n                   std::move(kernel_prototype.invariant_arguments));\n \n-  return LlvmKernelDefinition(std::move(spec), std::move(source));\n+  return KernelDefinition(std::move(spec), std::move(source));\n }\n \n absl::StatusOr<llvm::Function*> ComputationKernelEmitter::EmitNestedComputation("
        },
        {
            "sha": "95c538ad261729cdb9681e26203c82f8f26a0404",
            "filename": "third_party/xla/xla/backends/cpu/codegen/computation_kernel_emitter.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fcomputation_kernel_emitter.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -51,7 +51,7 @@ class ComputationKernelEmitter final : public KernelEmitter<LlvmKernelSource> {\n                            const TargetMachineFeatures* target_machine);\n \n   absl::string_view name() const final { return \"computation_kernel_emitter\"; }\n-  absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() final;\n+  absl::StatusOr<KernelDefinition> EmitKernelDefinition() final;\n \n  private:\n   absl::StatusOr<llvm::Function*> EmitNestedComputation("
        },
        {
            "sha": "1e158daec9fe83475755a27550c1c515ece41e2c",
            "filename": "third_party/xla/xla/backends/cpu/codegen/dot/dot_kernel_emitter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -56,7 +56,8 @@ DotKernelEmitter::DotKernelEmitter(const HloInstruction* instr,\n       buffer_assignment_(buffer_assignment),\n       target_machine_(target_machine) {}\n \n-absl::StatusOr<LlvmKernelDefinition> DotKernelEmitter::EmitKernelDefinition() {\n+absl::StatusOr<DotKernelEmitter::KernelDefinition>\n+DotKernelEmitter::EmitKernelDefinition() {\n   const HloModuleConfig& config = instr_->GetModule()->config();\n \n   DotImplementationStrategy strategy = GetDotImplementationStrategy(\n@@ -111,7 +112,7 @@ absl::StatusOr<LlvmKernelDefinition> DotKernelEmitter::EmitKernelDefinition() {\n                   std::move(kernel_prototype.result_buffers),\n                   std::move(kernel_prototype.invariant_arguments));\n \n-  return LlvmKernelDefinition(std::move(spec), std::move(source));\n+  return KernelDefinition(std::move(spec), std::move(source));\n }\n \n }  // namespace xla::cpu"
        },
        {
            "sha": "8a7916aec66bdac3c242cb29ba270ad189d77fe6",
            "filename": "third_party/xla/xla/backends/cpu/codegen/dot/dot_kernel_emitter.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2Fdot_kernel_emitter.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -33,7 +33,7 @@ class DotKernelEmitter final : public KernelEmitter<LlvmKernelSource> {\n                    const TargetMachineFeatures* target_machine);\n \n   absl::string_view name() const final { return \"dot_kernel_emitter\"; }\n-  absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() override;\n+  absl::StatusOr<KernelDefinition> EmitKernelDefinition() override;\n \n  private:\n   const HloInstruction* instr_;"
        },
        {
            "sha": "4c5a24a42b35b55ff3781935be114d202cd8db55",
            "filename": "third_party/xla/xla/backends/cpu/codegen/elemental/concatenate_kernel_emitter.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -43,7 +43,6 @@ limitations under the License.\n #include \"xla/service/cpu/ir_emitter.h\"\n #include \"xla/service/llvm_ir/ir_array.h\"\n #include \"xla/shape.h\"\n-#include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/util.h\"\n \n@@ -67,7 +66,7 @@ ConcatenateKernelEmitter::ConcatenateKernelEmitter(\n       buffer_assignment_(buffer_assignment),\n       target_machine_(target_machine) {}\n \n-absl::StatusOr<LlvmKernelDefinition>\n+absl::StatusOr<ConcatenateKernelEmitter::KernelDefinition>\n ConcatenateKernelEmitter::EmitKernelDefinition() {\n   if (absl::Status status = CanDoFastConcatenate(instr_); !status.ok()) {\n     VLOG(1) << \"Could not emit fast concatenate for \" << instr_->ToString()\n@@ -122,7 +121,7 @@ ConcatenateKernelEmitter::EmitKernelDefinition() {\n                   std::move(kernel_prototype.result_buffers),\n                   std::move(kernel_prototype.invariant_arguments));\n \n-  return LlvmKernelDefinition(std::move(spec), std::move(source));\n+  return KernelDefinition(std::move(spec), std::move(source));\n }\n \n }  // namespace xla::cpu"
        },
        {
            "sha": "19a77b3519f2edea14c850cb41622f1a1f51b3ca",
            "filename": "third_party/xla/xla/backends/cpu/codegen/elemental/concatenate_kernel_emitter.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Fconcatenate_kernel_emitter.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -33,7 +33,7 @@ class ConcatenateKernelEmitter final : public KernelEmitter<LlvmKernelSource> {\n                            const TargetMachineFeatures* target_machine);\n \n   absl::string_view name() const final { return \"concatenate_kernel_emitter\"; }\n-  absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() override;\n+  absl::StatusOr<KernelDefinition> EmitKernelDefinition() override;\n \n  private:\n   const HloInstruction* instr_;"
        },
        {
            "sha": "a771c6d4a7c59bcd13d5e330a0f3bb77d23ee686",
            "filename": "third_party/xla/xla/backends/cpu/codegen/elemental/elemental_kernel_emitter.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -168,7 +168,7 @@ ElementalKernelEmitter::ElementalKernelEmitter(\n       buffer_assignment_(buffer_assignment),\n       target_machine_(target_machine) {}\n \n-absl::StatusOr<LlvmKernelDefinition>\n+absl::StatusOr<ElementalKernelEmitter::KernelDefinition>\n ElementalKernelEmitter::EmitKernelDefinition() {\n   VLOG(2) << \"Emit elemental host kernel: \" << instr_->name();\n \n@@ -234,7 +234,7 @@ ElementalKernelEmitter::EmitKernelDefinition() {\n                   std::move(kernel_prototype.result_buffers),\n                   std::move(kernel_prototype.invariant_arguments));\n \n-  return LlvmKernelDefinition(std::move(spec), std::move(source));\n+  return KernelDefinition(std::move(spec), std::move(source));\n }\n \n absl::StatusOr<NumWorkGroups> ElementalKernelEmitter::EmitElementalLoops("
        },
        {
            "sha": "59549f300719dc6840457404737fa790c199f401",
            "filename": "third_party/xla/xla/backends/cpu/codegen/elemental/elemental_kernel_emitter.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -39,7 +39,7 @@ class ElementalKernelEmitter final : public KernelEmitter<LlvmKernelSource> {\n                          const TargetMachineFeatures* target_machine);\n \n   absl::string_view name() const final { return \"elemental_kernel_emitter\"; }\n-  absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() override;\n+  absl::StatusOr<KernelDefinition> EmitKernelDefinition() override;\n \n  private:\n   // Emits LLVM IR using elemental loop emitter and the given element generator."
        },
        {
            "sha": "453e37dfa6ec9d883ee1a9a04a1b4cf78e92874c",
            "filename": "third_party/xla/xla/backends/cpu/codegen/elemental/elemental_kernel_emitter_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2Felemental_kernel_emitter_test.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -46,7 +46,7 @@ class ElementalKernelEmitterTest : public HloHardwareIndependentTestBase {\n   ElementalKernelEmitterTest()\n       : target_machine_features_([](int64_t size) { return 1; }) {}\n \n-  absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition(\n+  absl::StatusOr<KernelDefinition<LlvmKernelSource>> EmitKernelDefinition(\n       const HloInstruction* instr, const BufferAssignment* buffer_assignment) {\n     ElementalKernelEmitter emitter(instr, buffer_assignment,\n                                    &target_machine_features_);"
        },
        {
            "sha": "af1570f50f44273b1d8b11c9803f2419bab2cd26",
            "filename": "third_party/xla/xla/backends/cpu/testlib/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2FBUILD?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -48,6 +48,7 @@ cc_library(\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n+        \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_absl//absl/types:span\",\n         \"@llvm-project//llvm:Target\",\n         \"@llvm-project//llvm:ir_headers\","
        },
        {
            "sha": "438d306bc462c33bb62a519526c1c30cfb8e88b5",
            "filename": "third_party/xla/xla/backends/cpu/testlib/kernel_runner.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 9,
            "changes": 17,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -16,12 +16,12 @@ limitations under the License.\n #include \"xla/backends/cpu/testlib/kernel_runner.h\"\n \n #include <memory>\n-#include <string>\n #include <utility>\n #include <vector>\n \n #include \"absl/log/check.h\"\n #include \"absl/status/status.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"absl/types/span.h\"\n #include \"llvm/IR/DataLayout.h\"\n #include \"llvm/IR/Module.h\"\n@@ -51,10 +51,9 @@ limitations under the License.\n namespace xla::cpu {\n \n absl::StatusOr<KernelRunner> KernelRunner::Create(\n-    LlvmKernelDefinition kernel_definition, JitCompiler compiler) {\n-  auto spec = kernel_definition.spec();\n-  auto thread_safe_module =\n-      std::move(kernel_definition).TakeSource().thread_safe_module();\n+    KernelDefinition<LlvmKernelSource> kernel, JitCompiler compiler) {\n+  auto spec = kernel.spec();\n+  auto thread_safe_module = std::move(kernel).TakeSource().thread_safe_module();\n   SetModuleMemoryRegionName(*thread_safe_module.getModuleUnlocked(),\n                             \"kernel_runner_test\");\n \n@@ -73,12 +72,12 @@ absl::StatusOr<KernelRunner> KernelRunner::Create(\n }\n \n absl::StatusOr<KernelRunner> KernelRunner::Create(\n-    MlirKernelDefinition kernel_definition, JitCompiler compiler) {\n-  auto spec = kernel_definition.spec();\n-  auto source = std::move(kernel_definition).TakeSource();\n+    KernelDefinition<MlirKernelSource> kernel, JitCompiler compiler) {\n+  auto spec = kernel.spec();\n+  auto source = std::move(kernel).TakeSource();\n   TF_ASSIGN_OR_RETURN(LlvmKernelSource llvm_kernel_source, LowerToLlvm(source));\n \n-  return Create(LlvmKernelDefinition(spec, std::move(llvm_kernel_source)),\n+  return Create(KernelDefinition(spec, std::move(llvm_kernel_source)),\n                 std::move(compiler));\n }\n "
        },
        {
            "sha": "62ce986b88bdb710e2fdc87557dd424e804d1f7c",
            "filename": "third_party/xla/xla/backends/cpu/testlib/kernel_runner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -37,9 +37,9 @@ namespace xla::cpu {\n class KernelRunner final : public xla::KernelRunner {\n  public:\n   static absl::StatusOr<KernelRunner> Create(\n-      LlvmKernelDefinition kernel_definition, JitCompiler compiler);\n+      KernelDefinition<LlvmKernelSource> kernel, JitCompiler compiler);\n   static absl::StatusOr<KernelRunner> Create(\n-      MlirKernelDefinition kernel_definition, JitCompiler compiler);\n+      KernelDefinition<MlirKernelSource> kernel, JitCompiler compiler);\n \n   KernelRunner(KernelRunner&&) = default;\n   KernelRunner& operator=(KernelRunner&&) = default;"
        },
        {
            "sha": "e9346fe00ab5517c5c64758da33c1e14871e7794",
            "filename": "third_party/xla/xla/backends/cpu/testlib/kernel_runner_extension.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner_extension.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner_extension.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner_extension.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -258,11 +258,12 @@ NB_MODULE(_extension, kernel_runner_module) {\n             return *std::move(runner);\n           })\n       .def_static(\n-          \"create\", [](std::unique_ptr<LlvmKernelDefinition,\n-                                       nb::deleter<LlvmKernelDefinition>>\n-                           kernel_definition,\n-                       std::unique_ptr<JitCompiler, nb::deleter<JitCompiler>>\n-                           jit_compiler) {\n+          \"create\",\n+          [](std::unique_ptr<KernelDefinition<LlvmKernelSource>,\n+                             nb::deleter<KernelDefinition<LlvmKernelSource>>>\n+                 kernel_definition,\n+             std::unique_ptr<JitCompiler, nb::deleter<JitCompiler>>\n+                 jit_compiler) {\n             absl::StatusOr<KernelRunner> runner = KernelRunner::Create(\n                 std::move(*kernel_definition), std::move(*jit_compiler));\n "
        },
        {
            "sha": "aabcf084b0fa8c9bbefd2600b4e211410f6a4807",
            "filename": "third_party/xla/xla/backends/cpu/testlib/llvm_ir_kernel_emitter.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -52,7 +52,7 @@ LlvmTestKernelEmitter::LlvmTestKernelEmitter(absl::string_view llvm_ir,\n   }\n }\n \n-absl::StatusOr<LlvmKernelDefinition>\n+absl::StatusOr<LlvmTestKernelEmitter::KernelDefinition>\n LlvmTestKernelEmitter::EmitKernelDefinition() {\n   auto context = std::make_unique<llvm::LLVMContext>();\n \n@@ -84,7 +84,7 @@ LlvmTestKernelEmitter::EmitKernelDefinition() {\n   KernelSpec kernel_spec(kernel_name_, num_workgroups_,\n                          std::move(argument_buffers), std::move(result_buffers),\n                          /*invariant_arguments=*/{});\n-  return LlvmKernelDefinition(std::move(kernel_spec), std::move(source));\n+  return KernelDefinition(std::move(kernel_spec), std::move(source));\n }\n \n }  // namespace xla::cpu"
        },
        {
            "sha": "a9c353a13629a4d33664998883e5891e617a4180",
            "filename": "third_party/xla/xla/backends/cpu/testlib/llvm_ir_kernel_emitter.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fllvm_ir_kernel_emitter.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -51,7 +51,7 @@ class LlvmTestKernelEmitter : public KernelEmitter<LlvmKernelSource> {\n                         absl::Span<const KernelArg> args);\n \n   absl::string_view name() const override { return \"llvm_test_kernel_emitter\"; }\n-  absl::StatusOr<LlvmKernelDefinition> EmitKernelDefinition() final;\n+  absl::StatusOr<KernelDefinition> EmitKernelDefinition() final;\n \n  private:\n   std::string llvm_ir_;"
        },
        {
            "sha": "03c380c9cb5c55b53498a32d5e4e0cd27ddf7352",
            "filename": "third_party/xla/xla/codegen/kernel_emitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fcodegen%2Fkernel_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fcodegen%2Fkernel_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Fkernel_emitter.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -58,14 +58,14 @@ class KernelEmitter : public KernelEmitterBase {\n   static_assert(std::is_base_of_v<KernelSource, Source>,\n                 \"Source must be a subclass of KernelSource\");\n \n-  virtual absl::StatusOr<KernelDefinition<Source>> EmitKernelDefinition() = 0;\n+  using KernelDefinition = ::xla::KernelDefinition<Source>;\n+  virtual absl::StatusOr<KernelDefinition> EmitKernelDefinition() = 0;\n \n  private:\n   absl::StatusOr<std::unique_ptr<KernelDefinitionBase>>\n   EmitKernelDefinitionBase() final {\n     TF_ASSIGN_OR_RETURN(auto kernel_definition, EmitKernelDefinition());\n-    return std::make_unique<KernelDefinition<Source>>(\n-        std::move(kernel_definition));\n+    return std::make_unique<KernelDefinition>(std::move(kernel_definition));\n   }\n };\n "
        },
        {
            "sha": "03b19cd2850b468deb300bec7d12a88a3d66aaa3",
            "filename": "third_party/xla/xla/codegen/llvm_kernel_source.h",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fcodegen%2Fllvm_kernel_source.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fcodegen%2Fllvm_kernel_source.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Fllvm_kernel_source.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -23,7 +23,6 @@ limitations under the License.\n #include \"llvm/ExecutionEngine/Orc/ThreadSafeModule.h\"\n #include \"llvm/IR/LLVMContext.h\"\n #include \"llvm/IR/Module.h\"\n-#include \"xla/codegen/kernel_definition.h\"\n #include \"xla/codegen/kernel_source.h\"\n \n namespace xla {\n@@ -51,8 +50,6 @@ class LlvmKernelSource final : public KernelSource {\n   llvm::orc::ThreadSafeModule module_;\n };\n \n-using LlvmKernelDefinition = KernelDefinition<LlvmKernelSource>;  // NOLINT\n-\n }  // namespace xla\n \n #endif  // XLA_CODEGEN_LLVM_KERNEL_SOURCE_H_"
        },
        {
            "sha": "5efad7c84a2f8b49e57da802a126b653017931a9",
            "filename": "third_party/xla/xla/codegen/testlib/kernel_runner_extension.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fcodegen%2Ftestlib%2Fkernel_runner_extension.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fcodegen%2Ftestlib%2Fkernel_runner_extension.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Ftestlib%2Fkernel_runner_extension.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -206,9 +206,9 @@ NB_MODULE(_extension, kernel_runner_module) {\n           },\n           nb::rv_policy::reference_internal);\n \n-  nb::class_<MlirKernelDefinition, KernelDefinitionBase>(\n+  nb::class_<KernelDefinition<MlirKernelSource>, KernelDefinitionBase>(\n       kernel_runner_module, \"MlirKernelDefinition\");\n-  nb::class_<LlvmKernelDefinition, KernelDefinitionBase>(\n+  nb::class_<KernelDefinition<LlvmKernelSource>, KernelDefinitionBase>(\n       kernel_runner_module, \"LlvmKernelDefinition\");\n \n   nb::class_<KernelEmitterBase>(kernel_runner_module, \"KernelEmitterBase\")"
        },
        {
            "sha": "3688250023f5c0f279381169bbbde27f03fbb558",
            "filename": "third_party/xla/xla/service/cpu/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -2047,6 +2047,7 @@ cc_library(\n     deps = [\n         \"//xla/backends/cpu/codegen:fusion_compiler\",\n         \"//xla/backends/cpu/codegen:fusion_emitter\",\n+        \"//xla/codegen:kernel_definition\",\n         \"//xla/codegen:kernel_spec\",\n         \"//xla/codegen:llvm_kernel_source\",\n         \"//xla/codegen:mlir_kernel_source\","
        },
        {
            "sha": "85b72da4cd10dbbf5baecf7eb497be3856130f70",
            "filename": "third_party/xla/xla/service/cpu/parallel_fusion_emitter.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 6,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -31,6 +31,7 @@ limitations under the License.\n #include \"mlir/IR/MLIRContext.h\"\n #include \"xla/backends/cpu/codegen/fusion_compiler.h\"\n #include \"xla/backends/cpu/codegen/fusion_emitter.h\"\n+#include \"xla/codegen/kernel_definition.h\"\n #include \"xla/codegen/kernel_spec.h\"\n #include \"xla/codegen/llvm_kernel_source.h\"\n #include \"xla/codegen/mlir_kernel_source.h\"\n@@ -190,7 +191,7 @@ absl::StatusOr<KernelSpec> ParallelFusionEmitter::AddFusion(\n   return spec;\n }\n \n-absl::StatusOr<std::vector<LlvmKernelDefinition>>\n+absl::StatusOr<std::vector<KernelDefinition<LlvmKernelSource>>>\n ParallelFusionEmitter::ConsumeKernels() {\n   absl::MutexLock lock(kernels_mutex_);\n \n@@ -203,21 +204,21 @@ ParallelFusionEmitter::ConsumeKernels() {\n   }\n \n   // Sort the kernels by name to ensure a deterministic order.\n-  absl::c_sort(kernels_, [](const LlvmKernelDefinition& lhs,\n-                            const LlvmKernelDefinition& rhs) {\n+  absl::c_sort(kernels_, [](const KernelDefinition<LlvmKernelSource>& lhs,\n+                            const KernelDefinition<LlvmKernelSource>& rhs) {\n     return lhs.spec().name() < rhs.spec().name();\n   });\n \n   return std::move(kernels_);\n }\n \n void ParallelFusionEmitter::CompileFusion(\n-    std::shared_ptr<MlirKernelDefinition> mlir_kernel_definition,\n+    std::shared_ptr<KernelDefinition<MlirKernelSource>> mlir_kernel,\n     std::shared_ptr<CompilerInstance> compiler_instance) {\n-  KernelSpec spec = mlir_kernel_definition->spec();\n+  KernelSpec spec = mlir_kernel->spec();\n   absl::StatusOr<LlvmKernelSource> llvm_kernel_source =\n       compiler_instance->compiler->Compile(\n-          std::move(*mlir_kernel_definition).TakeSource());\n+          std::move(*mlir_kernel).TakeSource());\n \n   absl::MutexLock lock(kernels_mutex_);\n   outstanding_kernels_--;"
        },
        {
            "sha": "033f196dac2bdc9162a51074e5145f9ce59b5a0f",
            "filename": "third_party/xla/xla/service/cpu/parallel_fusion_emitter.h",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.h?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -25,8 +25,10 @@ limitations under the License.\n #include \"absl/status/statusor.h\"\n #include \"absl/synchronization/mutex.h\"\n #include \"xla/backends/cpu/codegen/fusion_compiler.h\"\n+#include \"xla/codegen/kernel_definition.h\"\n #include \"xla/codegen/kernel_spec.h\"\n #include \"xla/codegen/llvm_kernel_source.h\"\n+#include \"xla/codegen/mlir_kernel_source.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/tsl/platform/threadpool.h\"\n@@ -52,14 +54,15 @@ class ParallelFusionEmitter {\n \n   // Returns the kernels for all the added fusions, blocks until all kernels\n   // have been compiled.\n-  absl::StatusOr<std::vector<LlvmKernelDefinition>> ConsumeKernels();\n+  absl::StatusOr<std::vector<KernelDefinition<LlvmKernelSource>>>\n+  ConsumeKernels();\n \n  private:\n   struct CompilerInstance;\n   class FusionCompilerPool;\n \n   void CompileFusion(\n-      std::shared_ptr<MlirKernelDefinition> mlir_kernel_definition,\n+      std::shared_ptr<KernelDefinition<MlirKernelSource>> mlir_kernel,\n       std::shared_ptr<CompilerInstance> compiler_instance);\n \n   tsl::thread::ThreadPool& thread_pool_;\n@@ -70,7 +73,8 @@ class ParallelFusionEmitter {\n   absl::Mutex kernels_mutex_;\n   int64_t outstanding_kernels_ ABSL_GUARDED_BY(kernels_mutex_) = 0;\n   absl::Status kernels_status_ ABSL_GUARDED_BY(kernels_mutex_);\n-  std::vector<LlvmKernelDefinition> kernels_ ABSL_GUARDED_BY(kernels_mutex_);\n+  std::vector<KernelDefinition<LlvmKernelSource>> kernels_\n+      ABSL_GUARDED_BY(kernels_mutex_);\n };\n \n }  // namespace xla::cpu"
        },
        {
            "sha": "28e03fde26bd5fabd36d68aec39a5f69bd24803a",
            "filename": "third_party/xla/xla/service/cpu/parallel_fusion_emitter_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter_test.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -123,7 +123,7 @@ TEST_F(ParallelFusionEmitterTest, HappyPathSingleFusion) {\n \n   TF_ASSERT_OK_AND_ASSIGN(auto kernels, fussion_emitter.ConsumeKernels());\n   ASSERT_EQ(kernels.size(), 1);\n-  LlvmKernelDefinition& lowered_kernel = kernels[0];\n+  KernelDefinition<LlvmKernelSource>& lowered_kernel = kernels[0];\n   EXPECT_EQ(lowered_kernel.spec().name(), expected_name);\n   auto source = std::move(lowered_kernel).TakeSource();\n "
        },
        {
            "sha": "3d90a33dba552a2b0fa9664ca7904266c5d1e489",
            "filename": "third_party/xla/xla/service/cpu/thunk_emitter.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 7,
            "changes": 15,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1444679887043d2b55715df8c0e90ebaf82fbf01/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc?ref=1444679887043d2b55715df8c0e90ebaf82fbf01",
            "patch": "@@ -234,11 +234,12 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitEntryComputation(\n absl::StatusOr<std::vector<ThunkEmitter::EmittedKernel>>\n ThunkEmitter::ConsumeKernels() {\n   tsl::profiler::TraceMe trace(\"ThunkEmitter::ConsumeKernels\");\n-  TF_ASSIGN_OR_RETURN(std::vector<LlvmKernelDefinition> fusion_kernels,\n-                      parallel_fusion_emitter_.ConsumeKernels());\n+  TF_ASSIGN_OR_RETURN(\n+      std::vector<KernelDefinition<LlvmKernelSource>> fusion_kernels,\n+      parallel_fusion_emitter_.ConsumeKernels());\n \n   kernels_.reserve(kernels_.size() + fusion_kernels.size());\n-  for (LlvmKernelDefinition& kernel : fusion_kernels) {\n+  for (KernelDefinition<LlvmKernelSource>& kernel : fusion_kernels) {\n     std::string name(kernel.spec().name());\n     auto source = std::move(kernel).TakeSource();\n     kernels_.push_back({name, std::move(source).thread_safe_module()});\n@@ -688,7 +689,7 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitCallThunk(\n       maybe_small_call.has_value() && *maybe_small_call == \"true\") {\n     ComputationKernelEmitter emitter(instruction, &buffer_assignment_,\n                                      &target_machine_features_);\n-    TF_ASSIGN_OR_RETURN(LlvmKernelDefinition kernel_definition,\n+    TF_ASSIGN_OR_RETURN(KernelDefinition kernel_definition,\n                         emitter.EmitKernelDefinition());\n \n     auto kernel_spec = kernel_definition.spec();\n@@ -712,7 +713,7 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitConcatenateKernelThunk(\n     const HloInstruction* instruction) {\n   ConcatenateKernelEmitter emitter(instruction, &buffer_assignment_,\n                                    &target_machine_features_);\n-  TF_ASSIGN_OR_RETURN(LlvmKernelDefinition kernel_definition,\n+  TF_ASSIGN_OR_RETURN(KernelDefinition kernel_definition,\n                       emitter.EmitKernelDefinition());\n \n   auto kernel_spec = kernel_definition.spec();\n@@ -818,7 +819,7 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitElementalKernelThunk(\n     const HloInstruction* instruction) {\n   ElementalKernelEmitter emitter(instruction, &buffer_assignment_,\n                                  &target_machine_features_);\n-  TF_ASSIGN_OR_RETURN(LlvmKernelDefinition kernel_definition,\n+  TF_ASSIGN_OR_RETURN(KernelDefinition kernel_definition,\n                       emitter.EmitKernelDefinition());\n \n   auto kernel_spec = kernel_definition.spec();\n@@ -1062,7 +1063,7 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitDotThunk(\n     case DotImplementationStrategy::kTiledLlvmIrGemv: {\n       DotKernelEmitter emitter(instruction, &buffer_assignment_,\n                                &target_machine_features_);\n-      TF_ASSIGN_OR_RETURN(LlvmKernelDefinition kernel_definition,\n+      TF_ASSIGN_OR_RETURN(KernelDefinition kernel_definition,\n                           emitter.EmitKernelDefinition());\n \n       auto kernel_spec = kernel_definition.spec();"
        }
    ],
    "stats": {
        "total": 121,
        "additions": 63,
        "deletions": 58
    }
}