{
    "author": "olegshyshkov",
    "message": "[XLA:GPU] Add collective kind to rendezvous name in CollectiveThunk.\n\nThis makes the rendezvous name more informative by including the specific type of collective operation, which helps in debugging.\n\nPiperOrigin-RevId: 818215415",
    "sha": "20e2d74013b15c214d47950b2dcb2fd1f64d7c86",
    "files": [
        {
            "sha": "8f21d455a8921a9cfbcc5c92a13858aaa8e3b1b7",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_thunk.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/20e2d74013b15c214d47950b2dcb2fd1f64d7c86/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/20e2d74013b15c214d47950b2dcb2fd1f64d7c86/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_thunk.cc?ref=20e2d74013b15c214d47950b2dcb2fd1f64d7c86",
            "patch": "@@ -485,7 +485,8 @@ absl::Status CollectiveThunk::ExecuteOnStream(const ExecuteParams& params) {\n \n     auto rendezvous_key = FirstCallRendezvousKey{std::move(clique_key)};\n     auto rendezvous_name = absl::StrFormat(\n-        \"first call to collective operation %d; run_id=%ld\", config().op_id,\n+        \"first call to collective operation %d; kind=%s; run_id=%ld\",\n+        config().op_id, Thunk::KindToString(kind()),\n         params.collective_params->run_id.ToInt());\n \n     const xla::DebugOptions debug_options = xla::GetDebugOptionsFromFlags();"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}