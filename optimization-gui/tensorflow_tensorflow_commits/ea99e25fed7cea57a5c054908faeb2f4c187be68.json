{
    "author": "akhilgoe",
    "message": "PR #31028: [XLA:CPU][oneDNN] Fix a failing matmul test with thunk runtime\n\nImported from GitHub PR https://github.com/openxla/xla/pull/31028\n\nIn legacy runtime, parallel transposes were encapsulated in separate computations however, that is not the case with the thunk runtime. This PR fixes a test that expected a call to a transpose computation.\nCopybara import of the project:\n\n--\n5dea46e8a14820930d5f8051b9216a3a45e47352 by Akhil Goel <akhil.goel@intel.com>:\n\nFix failing test\n\nMerging this change closes #31028\n\nPiperOrigin-RevId: 804712772",
    "sha": "ea99e25fed7cea57a5c054908faeb2f4c187be68",
    "files": [
        {
            "sha": "36ba2e7fb28044faa35bd255eb5926cd95ab3a9d",
            "filename": "third_party/xla/xla/service/cpu/tests/onednn_matmul_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ea99e25fed7cea57a5c054908faeb2f4c187be68/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftests%2Fonednn_matmul_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ea99e25fed7cea57a5c054908faeb2f4c187be68/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftests%2Fonednn_matmul_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftests%2Fonednn_matmul_test.cc?ref=ea99e25fed7cea57a5c054908faeb2f4c187be68",
            "patch": "@@ -1630,7 +1630,7 @@ TEST_F(MatmulTest, SimpleTestNoTransposeFusion2) {\n   MatchOptimizedHlo(matmul_module_str,\n                     R\"(\n     ; CHECK:     custom_call_target=\"__onednn$matmul\",\n-    ; CHECK:     call(%{{[a-z,A-Z,0-9,_,-]*}})\n+    ; CHECK:     fusion(%{{[a-z,A-Z,0-9,_,-]*}})\n     )\");\n }\n "
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}