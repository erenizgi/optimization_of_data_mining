{
    "author": "nvgrw",
    "message": "indexing_test_utils is hardware independent.\n\nPiperOrigin-RevId: 815792839",
    "sha": "ae16fc91e06a7f5322f0cc1088ad8409746816e2",
    "files": [
        {
            "sha": "5ee0b824473d16697fb9208437f698545334eaa3",
            "filename": "third_party/xla/xla/hlo/analysis/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ae16fc91e06a7f5322f0cc1088ad8409746816e2/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ae16fc91e06a7f5322f0cc1088ad8409746816e2/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2FBUILD?ref=ae16fc91e06a7f5322f0cc1088ad8409746816e2",
            "patch": "@@ -729,14 +729,12 @@ cc_library(\n     hdrs = [\"indexing_test_utils.h\"],\n     deps = [\n         \":indexing_analysis\",\n-        \":interval\",\n         \"//xla:status_macros\",\n         \"//xla/hlo/ir:hlo\",\n+        \"//xla/hlo/testlib:hlo_hardware_independent_test_base\",\n         \"//xla/hlo/testlib:verified_hlo_module\",\n         \"//xla/service/gpu/model/experimental:symbolic_expr\",\n-        \"//xla/tests:hlo_test_base\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n-        \"@com_google_absl//absl/container:flat_hash_set\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\","
        },
        {
            "sha": "5821108fb9e13d1c7af77a336c30889174af6171",
            "filename": "third_party/xla/xla/hlo/analysis/indexing_test_utils.h",
            "status": "modified",
            "additions": 2,
            "deletions": 12,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ae16fc91e06a7f5322f0cc1088ad8409746816e2/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2Findexing_test_utils.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ae16fc91e06a7f5322f0cc1088ad8409746816e2/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2Findexing_test_utils.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fanalysis%2Findexing_test_utils.h?ref=ae16fc91e06a7f5322f0cc1088ad8409746816e2",
            "patch": "@@ -32,9 +32,9 @@ limitations under the License.\n #include \"xla/hlo/analysis/indexing_map.h\"\n #include \"xla/hlo/analysis/indexing_map_serialization.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n+#include \"xla/hlo/testlib/hlo_hardware_independent_test_base.h\"\n #include \"xla/hlo/testlib/verified_hlo_module.h\"\n #include \"xla/service/gpu/model/experimental/symbolic_expr.h\"\n-#include \"xla/tests/hlo_test_base.h\"\n \n namespace xla {\n \n@@ -66,7 +66,7 @@ MATCHER_P(MatchIndexingString, indexing_string, \"\") {\n                             result_listener);\n }\n \n-class IndexingTestBase : public HloTestBase {\n+class IndexingTestBase : public HloHardwareIndependentTestBase {\n  public:\n   IndexingTestBase() : symbolic_expr_context_(&mlir_context_) {}\n \n@@ -85,16 +85,6 @@ class IndexingTestBase : public HloTestBase {\n   std::unique_ptr<VerifiedHloModule> module_;\n };\n \n-HloInstructionIndexing ComputeOutputToInputIndexingForEntryComputation(\n-    HloTestBase* test_base, gpu::SymbolicExprContext* symbolic_expr_context,\n-    absl::string_view hlo_string, int output_id = 0,\n-    bool use_physical_layout = false);\n-\n-HloInstructionIndexing ComputeInputToOutputIndexingForEntryComputation(\n-    HloTestBase* test_base, gpu::SymbolicExprContext* symbolic_expr_context,\n-    absl::string_view hlo_string, int input_id = 0,\n-    bool use_physical_layout = false);\n-\n mlir::AffineMap ParseAffineMap(absl::string_view serialized_affine_map,\n                                gpu::SymbolicExprContext* symbolic_expr_context);\n "
        }
    ],
    "stats": {
        "total": 18,
        "additions": 3,
        "deletions": 15
    }
}