{
    "author": "EusebioDM",
    "message": "Add missing BUILD dependencies, and remove unused ones\n\nPiperOrigin-RevId: 841639400",
    "sha": "a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
    "files": [
        {
            "sha": "b9c1637e90d582e902f1d644c86f87c90fe46a29",
            "filename": "third_party/xla/xla/backends/autotuner/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fautotuner%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fautotuner%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fautotuner%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -181,7 +181,6 @@ xla_cc_test(\n         \"//xla/tsl/lib/core:status_test_util\",\n         \"//xla/tsl/platform:env\",\n         \"//xla/tsl/platform:statusor\",\n-        \"//xla/tsl/util/proto:proto_matchers\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_googletest//:gtest_main\",\n         \"@com_google_protobuf//:any_cc_proto\","
        },
        {
            "sha": "7d9e7ad114aba070ed9a87324028f70d70a6eed9",
            "filename": "third_party/xla/xla/backends/cpu/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -54,7 +54,6 @@ cc_library(\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/service:buffer_assignment\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n-        \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/types:span\",\n     ],\n@@ -182,7 +181,6 @@ cc_library(\n     srcs = [\"xnn_gemm_config.cc\"],\n     hdrs = [\"xnn_gemm_config.h\"],\n     deps = [\n-        \"//xla:shape_util\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/backends/cpu/codegen:target_machine_features\",\n         \"//xla/backends/cpu/runtime:dot_dims\",\n@@ -208,7 +206,6 @@ cc_library(\n         \"//xla/service:pattern_matcher\",\n         \"//xla/tsl/platform:statusor\",\n         \"@XNNPACK\",\n-        \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/base:no_destructor\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/container:flat_hash_set\","
        },
        {
            "sha": "e5bc7335a1a082ba2e30aa5b9898fb45bbc28388",
            "filename": "third_party/xla/xla/backends/cpu/autotuner/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -88,7 +88,6 @@ cc_library(\n     hdrs = [\"xnnpack_backend.h\"],\n     deps = [\n         \":cpu_codegen_backend\",\n-        \"//xla:status_macros\",\n         \"//xla:util\",\n         \"//xla/backends/autotuner:codegen_backend\",\n         \"//xla/backends/cpu:xnn_fusion_options_proto_cc\",\n@@ -102,7 +101,6 @@ cc_library(\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n-        \"@local_tsl//tsl/platform:casts\",\n     ],\n )\n \n@@ -203,7 +201,5 @@ xla_cc_test(\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:status_matchers\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )"
        },
        {
            "sha": "db9b0a2cfbd267778ecc664991b60debd222ac55",
            "filename": "third_party/xla/xla/backends/cpu/codegen/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -94,7 +94,6 @@ cc_library(\n     srcs = [\"ir_compiler.cc\"],\n     hdrs = [\"ir_compiler.h\"],\n     deps = [\n-        \":cpu_features\",\n         \":kernel_api_ir_builder\",\n         \":polynomial_approximations\",\n         \"//xla:util\",\n@@ -133,7 +132,6 @@ cc_library(\n         \"@llvm-project//llvm:Support\",\n         \"@llvm-project//llvm:Target\",\n         \"@llvm-project//llvm:TargetParser\",\n-        \"@local_tsl//tsl/platform:platform_port\",\n     ],\n )\n \n@@ -351,7 +349,6 @@ cc_library(\n         \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/base:no_destructor\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n-        \"@com_google_absl//absl/functional:any_invocable\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_absl//absl/synchronization\",\n@@ -557,9 +554,7 @@ cc_library(\n     hdrs = [\"object_loader.h\"],\n     deps = [\n         \":compiled_function_library\",\n-        \":contiguous_section_memory_manager\",\n         \":execution_engine\",\n-        \":jit_memory_mapper\",\n         \"//xla/backends/cpu/runtime:function_library\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n@@ -776,7 +771,6 @@ py_strict_test(\n         \"//third_party/py/numpy\",\n         \"//xla/backends/cpu/testlib\",\n         \"//xla/codegen/testlib\",\n-        \"//xla/python:xla_extension\",\n         \"@absl_py//absl/testing:absltest\",\n         \"@absl_py//absl/testing:parameterized\",\n     ],"
        },
        {
            "sha": "97db03ab0cfcaa65ba4258e7fd0c9a339eb41818",
            "filename": "third_party/xla/xla/backends/cpu/codegen/dot/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fdot%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -15,7 +15,6 @@ cc_library(\n         \"//xla:util\",\n         \"//xla/backends/cpu/codegen:kernel_api_ir_builder\",\n         \"//xla/backends/cpu/codegen:target_machine_features\",\n-        \"//xla/codegen:kernel_definition\",\n         \"//xla/codegen:kernel_emitter\",\n         \"//xla/codegen:kernel_spec\",\n         \"//xla/codegen:llvm_kernel_source\",\n@@ -25,7 +24,6 @@ cc_library(\n         \"//xla/service:hlo_module_config\",\n         \"//xla/service/cpu:dot_op_emitter\",\n         \"//xla/service/llvm_ir:ir_array\",\n-        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status:statusor\","
        },
        {
            "sha": "f31b161c01e63299d79de11dbb1e6c39fa4fdc2a",
            "filename": "third_party/xla/xla/backends/cpu/codegen/elemental/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Felemental%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -35,7 +35,6 @@ cc_library(\n         \"//xla/service/cpu:backend_config_proto_cc\",\n         \"//xla/service/cpu:ir_emitter\",\n         \"//xla/service/llvm_ir:ir_array\",\n-        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/log\",\n@@ -104,7 +103,6 @@ xla_cc_test(\n         \":elemental_kernel_emitter\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/codegen:kernel_definition\",\n-        \"//xla/codegen:kernel_emitter\",\n         \"//xla/codegen:llvm_kernel_source\",\n         \"//xla/hlo/analysis:alias_info\",\n         \"//xla/hlo/analysis:hlo_ordering\","
        },
        {
            "sha": "a7f171019e92cf52a08b2b2bf34b682201df5e68",
            "filename": "third_party/xla/xla/backends/cpu/codegen/emitters/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -124,6 +124,5 @@ xla_cc_test(\n         \"@llvm-project//mlir:IR\",\n         \"@llvm-project//mlir:LLVMToLLVMIRTranslation\",\n         \"@llvm-project//mlir:Pass\",\n-        \"@local_tsl//tsl/platform:casts\",\n     ],\n )"
        },
        {
            "sha": "ee920c56af1ac2e0b8fa3620ac4465f9c3f58c4f",
            "filename": "third_party/xla/xla/backends/cpu/codegen/tiled/transforms/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftiled%2Ftransforms%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftiled%2Ftransforms%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftiled%2Ftransforms%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -114,7 +114,6 @@ cc_library(\n         \"@llvm-project//mlir:MemRefDialect\",\n         \"@llvm-project//mlir:SCFDialect\",\n         \"@llvm-project//mlir:Support\",\n-        \"@llvm-project//mlir:TensorDialect\",\n         \"@llvm-project//mlir:VectorDialect\",\n     ],\n )"
        },
        {
            "sha": "c1103b1457180a06402bd568a3a2824424996c07",
            "filename": "third_party/xla/xla/backends/cpu/collectives/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -76,13 +76,11 @@ xla_cc_test(\n         \":cpu_clique_key\",\n         \":cpu_cliques\",\n         \":in_process_collectives\",\n-        \"//xla:util\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/runtime:device_id\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/platform:test\",\n         \"//xla/tsl/platform:test_main\",\n-        \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/types:span\",\n     ],\n )\n@@ -144,7 +142,6 @@ cc_library(\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:rendezvous\",\n         \"//xla/stream_executor:device_address\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/lib/math:math_util\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n@@ -272,7 +269,6 @@ cc_library(\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/stream_executor:device_address\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n@@ -338,7 +334,6 @@ cc_library(\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/stream_executor:device_address\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:logging\",\n         \"//xla/tsl/platform:statusor\","
        },
        {
            "sha": "8d68edd2d6e12ef28b4630c20b4743b168c0c180",
            "filename": "third_party/xla/xla/backends/cpu/runtime/BUILD",
            "status": "modified",
            "additions": 7,
            "deletions": 28,
            "changes": 35,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -1,6 +1,6 @@\n load(\"//xla:xla.default.bzl\", \"xla_cc_test\", \"xla_internal\")\n load(\"//xla/service/cpu:build_defs.bzl\", \"runtime_copts\")\n-load(\"//xla/tsl:tsl.bzl\", \"if_windows\", \"internal_visibility\")\n+load(\"//xla/tsl:tsl.bzl\", \"if_google\", \"if_windows\", \"internal_visibility\")\n load(\"//xla/tsl:tsl.default.bzl\", \"filegroup\")\n load(\"//xla/tsl/platform:build_config.bzl\", \"tf_proto_library\")\n load(\"//xla/tsl/platform:rules_cc.bzl\", \"cc_library\")\n@@ -105,14 +105,11 @@ cc_library(\n         \"//xla:util\",\n         \"//xla/runtime:work_group\",\n         \"//xla/stream_executor:device_address\",\n-        \"//xla/stream_executor:launch_dim\",\n         \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:logging\",\n         \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/status\",\n-        \"@com_google_absl//absl/status:statusor\",\n-        \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/types:span\",\n         \"@eigen_archive//:eigen3\",\n     ],\n@@ -370,13 +367,10 @@ cc_library(\n         \"//xla/core/collectives:communicator\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/tsl/concurrency:async_value\",\n-        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n-        \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/memory\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:str_format\",\n     ],\n@@ -496,14 +490,11 @@ cc_library(\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/tsl/concurrency:async_value\",\n-        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n-        \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/memory\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:str_format\",\n     ],\n@@ -524,12 +515,10 @@ cc_library(\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/tsl/concurrency:async_value\",\n-        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:logging\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/memory\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:str_format\",\n     ],\n@@ -550,13 +539,10 @@ cc_library(\n         \"//xla/core/collectives:communicator\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/tsl/concurrency:async_value\",\n-        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n-        \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/memory\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:str_format\",\n     ],\n@@ -580,13 +566,10 @@ cc_library(\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n         \"//xla/tsl/concurrency:async_value\",\n-        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n-        \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/memory\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:str_format\",\n@@ -752,6 +735,11 @@ cc_library(\n         \"dot_lib_s8.cc\",\n     ],\n     hdrs = [\"dot_lib.h\"],\n+    tags = if_google([\n+        #  Prevent build_cleaner from adding a dependency on eigen_contraction_kernel.h, see comment\n+        # on `:dot_lib_onednn` below.\n+        \"ignore_for_dep=third_party/tensorflow/compiler/xla/tsl/framework/contraction/eigen_contraction_kernel.h\",\n+    ]),\n     deps = [\n         \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/functional:any_invocable\",\n@@ -799,14 +787,11 @@ cc_library(\n         \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:logging\",\n         \"//xla/tsl/platform:statusor\",\n-        \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n-        \"@com_google_absl//absl/functional:any_invocable\",\n         \"@com_google_absl//absl/memory\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:str_format\",\n-        \"@eigen_archive//:eigen3\",\n     ],\n )\n \n@@ -967,7 +952,6 @@ cc_library(\n         \"//xla/runtime:work_group\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/stream_executor:device_address\",\n-        \"//xla/stream_executor:launch_dim\",\n         \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n@@ -995,15 +979,14 @@ xla_cc_test(\n     deps = [\n         \":buffer_allocations\",\n         \":function_library\",\n-        \":kernel\",\n         \":kernel_c_api\",\n         \":kernel_thunk\",\n         \":thunk\",\n         \":thunk_testlib\",\n         \"//xla:literal_util\",\n         \"//xla/runtime:work_group\",\n         \"//xla/service:buffer_assignment\",\n-        \"//xla/stream_executor:device_address\",\n+        \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:launch_dim\",\n         \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:statusor\",\n@@ -1099,7 +1082,6 @@ cc_library(\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/functional:any_invocable\",\n         \"@com_google_absl//absl/memory\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:str_format\",\n@@ -1227,7 +1209,6 @@ cc_library(\n         \"//xla/stream_executor:device_address\",\n         \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:statusor\",\n-        \"@com_google_absl//absl/base:dynamic_annotations\",\n         \"@com_google_absl//absl/memory\",\n         \"@com_google_absl//absl/status:statusor\",\n     ],\n@@ -1424,8 +1405,6 @@ xla_cc_test(\n         \"//xla/tests:xla_internal_test_main\",\n         \"//xla/tsl/lib/core:status_test_util\",\n         \"//xla/tsl/platform:env\",\n-        \"//xla/tsl/platform:logging\",\n-        \"//xla/tsl/platform:test\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_googletest//:gtest\","
        },
        {
            "sha": "dc32dac687585b26ee3d585f47e46ed2ff6bf850",
            "filename": "third_party/xla/xla/backends/cpu/runtime/xnnpack/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fxnnpack%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fxnnpack%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fxnnpack%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -160,7 +160,6 @@ cc_library(\n     deps = [\n         \":xnn_interop\",\n         \"//xla:shape_util\",\n-        \"//xla:util\",\n         \"//xla/backends/cpu/runtime:thunk\",\n         \"//xla/runtime:buffer_use\",\n         \"//xla/runtime:object_pool\",\n@@ -172,7 +171,6 @@ cc_library(\n         \"//xla/tsl/platform:statusor\",\n         \"@XNNPACK\",\n         \"@com_google_absl//absl/algorithm:container\",\n-        \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/base:no_destructor\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/functional:any_invocable\","
        },
        {
            "sha": "f5b22b22c19d8c26cef9158891c7b14949484174",
            "filename": "third_party/xla/xla/backends/cpu/runtime/ynnpack/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fynnpack%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fynnpack%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fynnpack%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -22,10 +22,7 @@ cc_library(\n         \"//xla/backends/cpu/runtime:work_queue\",\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/base:core_headers\",\n-        \"@com_google_absl//absl/container:fixed_array\",\n-        \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n-        \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/synchronization\",\n         \"@eigen_archive//:eigen3\",\n         \"@local_tsl//tsl/profiler/lib:traceme\",\n@@ -72,15 +69,10 @@ cc_library(\n         \":slinky_threadpool\",\n         \":ynn_interop\",\n         \"@XNNPACK//ynnpack:ynnpack_h\",\n-        \"@com_google_absl//absl/algorithm:container\",\n-        \"@com_google_absl//absl/base:core_headers\",\n-        \"@com_google_absl//absl/container:fixed_array\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status:statusor\",\n-        \"@com_google_absl//absl/synchronization\",\n         \"@eigen_archive//:eigen3\",\n-        \"@slinky//slinky/base:thread_pool\",\n     ],\n )\n "
        },
        {
            "sha": "e926426a322d37e4c85c6c0c67922ebd7f6e0144",
            "filename": "third_party/xla/xla/backends/cpu/testlib/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -159,7 +159,6 @@ tsl_pybind_extension(\n         \"//xla/codegen:llvm_kernel_source\",\n         \"//xla/codegen:mlir_kernel_source\",\n         \"//xla/codegen/testlib:kernel_runner\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:work_group\",\n         \"//xla/service:buffer_assignment\",\n@@ -192,15 +191,13 @@ xla_cc_test(\n         \"//xla/codegen:llvm_kernel_source\",\n         \"//xla/runtime:buffer_use\",\n         \"//xla/service:buffer_assignment\",\n-        \"//xla/stream_executor:launch_dim\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/platform:test\",\n         \"//xla/tsl/platform:test_main\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest\",\n         \"@llvm-project//llvm:JITLink\",\n         \"@llvm-project//llvm:ir_headers\",\n-        \"@local_tsl//tsl/platform:casts\",\n     ],\n )\n "
        },
        {
            "sha": "435200a13e65d23afb2079cfde1958e1e832fba6",
            "filename": "third_party/xla/xla/backends/cpu/tests/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftests%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftests%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftests%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -20,14 +20,9 @@ xla_test(\n     tags = [\"test_migrated_to_hlo_runner_pjrt\"],\n     deps = [\n         \"//xla:error_spec\",\n-        \"//xla:literal\",\n-        \"//xla:literal_util\",\n         \"//xla/hlo/parser:hlo_parser\",\n-        \"//xla/pjrt/plugin/xla_cpu:xla_cpu_pjrt_client\",\n-        \"//xla/tests:client_library_test_runner_mixin\",\n         \"//xla/tests:hlo_pjrt_interpreter_reference_mixin\",\n         \"//xla/tests:hlo_pjrt_test_base\",\n-        \"//xla/tests:literal_test_util\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest_main\",\n@@ -41,14 +36,11 @@ xla_test(\n     tags = [\"test_migrated_to_hlo_runner_pjrt\"],\n     deps = [\n         \"//xla:error_spec\",\n-        \"//xla/pjrt/plugin/xla_cpu:xla_cpu_pjrt_client\",\n         \"//xla/tests:hlo_pjrt_interpreter_reference_mixin\",\n         \"//xla/tests:hlo_pjrt_test_base\",\n         \"//xla/tsl/platform:test\",\n-        \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:platform_port\",\n     ],\n )"
        },
        {
            "sha": "3d1f9c93001508a6e9bdec00790a1fd755163b0f",
            "filename": "third_party/xla/xla/backends/gpu/autotuner/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -40,7 +40,6 @@ xla_cc_test(\n     srcs = [\"gpu_codegen_backend_test.cc\"],\n     deps = [\n         \":gpu_codegen_backend\",\n-        \"//xla:xla_proto_cc\",\n         \"@com_google_googletest//:gtest_main\",\n     ],\n )\n@@ -225,7 +224,6 @@ cc_library(\n         \"//xla/stream_executor:device_description\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n-        \"//xla/stream_executor:stream_executor_memory_allocator\",\n         \"//xla/stream_executor/gpu:gpu_blas_lt\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n@@ -573,7 +571,6 @@ xla_test(\n         \":native_emitter\",\n         \"//xla/backends/autotuner:codegen_backend\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/hlo/ir:hlo_module_group\",\n         \"//xla/hlo/testlib:hlo_hardware_independent_test_base\",\n         \"//xla/service:compiler\",\n         \"//xla/service:executable\",\n@@ -607,7 +604,6 @@ cc_library(\n         \":fission_backend\",\n         \":triton\",\n         \"//xla/backends/autotuner:codegen_backend\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/hlo/pass:hlo_pass_pipeline\",\n         \"//xla/service:compiler\",\n         \"//xla/service/gpu/transforms:dot_algorithm_rewriter\","
        },
        {
            "sha": "62f99605665307cabb238cf5a293f45d72d3e3d0",
            "filename": "third_party/xla/xla/backends/gpu/codegen/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -295,7 +295,6 @@ cc_library(\n         \"//xla/backends/gpu/codegen/emitters:transpose\",\n         \"//xla/backends/gpu/codegen/triton:fusion\",\n         \"//xla/codegen:ir_emission_utils\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/utils:hlo_traversal\",\n         \"//xla/service:buffer_assignment\","
        },
        {
            "sha": "4c9961033ebc1710deb772c719138c8bffaad9ae",
            "filename": "third_party/xla/xla/backends/gpu/codegen/emitters/ir/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Femitters%2Fir%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Femitters%2Fir%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Femitters%2Fir%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -116,7 +116,6 @@ cc_library(\n         \"@llvm-project//llvm:Support\",\n         \"@llvm-project//mlir:ArithDialect\",\n         \"@llvm-project//mlir:BytecodeOpInterface\",\n-        \"@llvm-project//mlir:CallOpInterfaces\",\n         \"@llvm-project//mlir:FuncDialect\",\n         \"@llvm-project//mlir:IR\",\n         \"@llvm-project//mlir:InferTypeOpInterface\","
        },
        {
            "sha": "df59b5ebed0cec2fe13d279c240742f816194ce6",
            "filename": "third_party/xla/xla/backends/gpu/codegen/tools/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftools%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftools%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftools%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -32,7 +32,6 @@ cc_library(\n         \"//xla:status_macros\",\n         \"//xla/backends/gpu/codegen:fusions\",\n         \"//xla/backends/gpu/codegen/emitters:emitter_base\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/service/gpu:gpu_device_info_for_tests\",\n         \"//xla/service/gpu:hlo_fusion_analysis\",\n@@ -55,7 +54,6 @@ xla_cc_binary(\n     deps = [\n         \":test_lib\",\n         \"//xla/codegen/tools:test_lib\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\",\n         \"@llvm-project//llvm:Support\","
        },
        {
            "sha": "19587ed10c4d4a3b8533e0595824a10763680dfa",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -259,7 +259,6 @@ cc_library(\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla:xla_proto_cc\",\n-        \"//xla/backends/gpu/codegen/triton/ir:triton_xla\",\n         \"//xla/codegen/emitters:elemental_hlo_to_mlir\",\n         \"//xla/codegen/emitters/ir:xla\",\n         \"//xla/codegen/tiling:symbolic_tile_analysis\",\n@@ -559,7 +558,6 @@ xla_test(\n         \"//xla:error_spec\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla:xla_proto_cc\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/testlib:filecheck\",\n         \"//xla/hlo/testlib:pattern_matcher_gmock\",\n@@ -612,19 +610,13 @@ xla_test(\n         \"//xla:autotuning_proto_cc\",\n         \"//xla:error_spec\",\n         \"//xla:xla_proto_cc\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/testlib:filecheck\",\n         \"//xla/service/gpu:backend_configs_cc\",\n         \"//xla/service/gpu/tests:gpu_codegen_test\",\n-        \"//xla/service/gpu/transforms:nest_gemm_fusion\",\n         \"//xla/stream_executor:device_description\",\n         \"//xla/tests:xla_internal_test_main\",  # fixdeps: keep\n-        \"//xla/tsl/lib/core:status_test_util\",\n         \"//xla/tsl/platform:statusor\",\n-        \"@com_google_absl//absl/algorithm:container\",\n-        \"@com_google_absl//absl/status\",\n-        \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_googletest//:gtest\",\n         \"@llvm-project//mlir:IR\",\n@@ -711,7 +703,6 @@ xla_test(\n         \"no_mac\",\n     ],\n     deps = [\n-        \":fusion_emitter\",\n         \":support\",\n         \":test_utils\",\n         \":xtile_compiler\",\n@@ -724,12 +715,6 @@ xla_test(\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla:xla_proto_cc\",\n-        \"//xla/codegen/tiling:symbolic_tile_analysis\",\n-        \"//xla/codegen/tiling:tiled_hlo_computation\",\n-        \"//xla/codegen/tiling:tiled_hlo_instruction\",\n-        \"//xla/codegen/tiling:tiled_hlo_schedule\",\n-        \"//xla/codegen/tiling:tiling_specification\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/testlib:filecheck\",\n         \"//xla/hlo/testlib:verified_hlo_module\",\n@@ -787,7 +772,6 @@ cc_library(\n         \"//xla/service/gpu:gpu_float_support\",\n         \"//xla/service/gpu:ir_emission_utils\",\n         \"//xla/service/gpu:matmul_utils\",\n-        \"//xla/service/gpu:target_constants\",\n         \"//xla/service/gpu/model:block_level_parameters\",\n         \"//xla/service/gpu/model:triton_emitter_constraints\",\n         \"//xla/stream_executor:device_description\",\n@@ -1010,7 +994,6 @@ cc_library(\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@llvm-project//llvm:Support\",\n-        \"@llvm-project//mlir:LLVMDialect\",\n     ],\n )\n "
        },
        {
            "sha": "192c99de9902a6cc39baace5545b6153edf31275",
            "filename": "third_party/xla/xla/backends/gpu/runtime/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -1667,10 +1667,8 @@ cc_library(\n     hdrs = [\"collective_params.h\"],\n     compatible_with = get_compatible_with_portable(),\n     deps = [\n-        \":collective_clique_requests\",\n         \"//xla:executable_run_options\",\n         \"//xla:util\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/runtime:device_id\",\n         \"//xla/service:computation_placer\",\n@@ -1681,9 +1679,7 @@ cc_library(\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n-        \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/types:span\",\n     ],\n )\n@@ -1700,7 +1696,6 @@ cc_library(\n         \"//xla/backends/gpu/collectives:gpu_clique\",\n         \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_cliques\",\n-        \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/runtime:device_id\",\n@@ -1710,9 +1705,7 @@ cc_library(\n         \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/base:no_destructor\",\n         \"@com_google_absl//absl/log\",\n-        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n-        \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/synchronization\",\n         \"@local_tsl//tsl/profiler/lib:traceme\",\n     ],\n@@ -2153,11 +2146,8 @@ cc_library(\n         \"//xla:executable_run_options\",\n         \"//xla:status_macros\",\n         \"//xla:util\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n-        \"//xla/backends/gpu/collectives:gpu_cliques\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives:communicator\",\n-        \"//xla/core/collectives:rank_id\",\n         \"//xla/ffi:execution_context\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:buffer_use\",\n@@ -2171,15 +2161,13 @@ cc_library(\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/tsl/lib/gtl:int_type\",\n-        \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/base:nullability\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/functional:any_invocable\",\n         \"@com_google_absl//absl/functional:function_ref\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n-        \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:str_format\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_absl//absl/types:span\","
        },
        {
            "sha": "6bf5957323a49ce5b110a978f92f04861524851c",
            "filename": "third_party/xla/xla/backends/interpreter/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Finterpreter%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Finterpreter%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Finterpreter%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -168,7 +168,6 @@ cc_library(\n         \"//xla/stream_executor:stream_executor_common\",\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/stream_executor/host:host_stream\",\n-        \"@com_google_absl//absl/functional:any_invocable\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\","
        },
        {
            "sha": "fefd3b9b99286277f98ee74951e5d7524b6b559f",
            "filename": "third_party/xla/xla/backends/profiler/gpu/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fprofiler%2Fgpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fbackends%2Fprofiler%2Fgpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fprofiler%2Fgpu%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -68,7 +68,6 @@ cc_library(\n         \":rocm_tracer_utils\",\n         \"//xla/stream_executor/rocm:roctracer_wrapper\",\n         \"//xla/tsl/platform:env_time\",\n-        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/profiler/backends/cpu:annotation_stack\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status\",\n@@ -201,9 +200,7 @@ xla_test(\n         \":cupti_wrapper\",\n         \":mock_cupti\",\n         \"//xla/tsl/profiler/utils:time_utils\",\n-        \"@com_google_absl//absl/memory\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )\n \n@@ -362,7 +359,6 @@ cc_library(\n     ],\n     deps = [\n         \":cupti_collector\",\n-        \":cupti_interface\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/time\",\n     ],\n@@ -756,11 +752,7 @@ xla_cc_test(\n         \":ondevice_event_exporter\",\n         \"//xla/tsl/profiler/backends/gpu:ondevice_event_receiver\",\n         \"//xla/tsl/profiler/backends/gpu:ondevice_trace_event\",\n-        \"//xla/tsl/profiler/utils:xplane_builder\",\n-        \"//xla/tsl/profiler/utils:xplane_schema\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:test\",\n-        \"@local_tsl//tsl/profiler/protobuf:xplane_proto_cc\",\n     ],\n )\n "
        },
        {
            "sha": "ddcc8810df0a6f9339e05e67174bb6d3b371b86d",
            "filename": "third_party/xla/xla/codegen/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fcodegen%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fcodegen%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -57,8 +57,6 @@ cc_library(\n     srcs = [\"llvm_kernel_source.cc\"],\n     hdrs = [\"llvm_kernel_source.h\"],\n     deps = [\n-        \":kernel_definition\",\n-        \":kernel_emitter\",\n         \":kernel_source\",\n         \"//xla/service/llvm_ir:llvm_util\",\n         \"@llvm-project//llvm:Core\",\n@@ -77,7 +75,6 @@ cc_library(\n     deps = [\n         \":kernel_source\",\n         \":kernel_spec\",\n-        \"//xla/tsl/platform:logging\",\n     ],\n )\n \n@@ -86,8 +83,6 @@ cc_library(\n     srcs = [\"mlir_kernel_source.cc\"],\n     hdrs = [\"mlir_kernel_source.h\"],\n     deps = [\n-        \":kernel_definition\",\n-        \":kernel_emitter\",\n         \":kernel_source\",\n         \"//xla:util\",\n         \"//xla/hlo/analysis:symbolic_expr\",\n@@ -117,7 +112,6 @@ cc_library(\n         \"@com_google_absl//absl/container:flat_hash_set\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/functional:any_invocable\",\n-        \"@com_google_absl//absl/functional:function_ref\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/types:span\",\n     ],\n@@ -136,8 +130,6 @@ xla_cc_test(\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/status:status_matchers\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:status_matchers\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )\n "
        },
        {
            "sha": "5fc4861574b9edaa0b9b4de554cc0939e4772a1f",
            "filename": "third_party/xla/xla/codegen/emitters/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -257,7 +257,6 @@ cc_library(\n         \"//xla/codegen:kernel_spec\",\n         \"//xla/codegen/emitters/ir:xla\",\n         \"//xla/hlo/analysis:indexing_analysis\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:work_dimensions\",\n         \"//xla/runtime:work_group\",\n@@ -287,7 +286,6 @@ xla_cc_test(\n         \"//xla:shape_util\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/hlo/analysis:indexing_analysis\",\n-        \"//xla/hlo/analysis:symbolic_expr\",\n         \"//xla/runtime:work_cluster\",\n         \"//xla/runtime:work_dimensions\",\n         \"//xla/runtime:work_group\",\n@@ -311,7 +309,6 @@ cc_library(\n         \"//xla:shape_util\",\n         \"//xla:util\",\n         \"//xla/codegen:hlo_fusion_spec\",\n-        \"//xla/codegen:kernel_definition\",\n         \"//xla/codegen:kernel_emitter\",\n         \"//xla/codegen:kernel_spec\",\n         \"//xla/codegen:mlir_kernel_source\",\n@@ -327,7 +324,6 @@ cc_library(\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/algorithm:container\",\n-        \"@com_google_absl//absl/container:flat_hash_set\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n@@ -365,7 +361,6 @@ cc_library(\n         \"//xla:shape_util\",\n         \"//xla:util\",\n         \"//xla/codegen:hlo_fusion_spec\",\n-        \"//xla/codegen:kernel_definition\",\n         \"//xla/codegen:kernel_emitter\",\n         \"//xla/codegen:kernel_spec\",\n         \"//xla/codegen:mlir_kernel_source\",\n@@ -425,7 +420,6 @@ cc_library(\n         \"//xla:util\",\n         \"//xla/codegen:hlo_fusion_spec\",\n         \"//xla/codegen:ir_emission_utils\",\n-        \"//xla/codegen:kernel_definition\",\n         \"//xla/codegen:kernel_emitter\",\n         \"//xla/codegen:kernel_spec\",\n         \"//xla/codegen:mlir_kernel_source\","
        },
        {
            "sha": "07ebadad9177741d5bee8751030bf89c7e655bf1",
            "filename": "third_party/xla/xla/codegen/tiling/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fcodegen%2Ftiling%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a6e0e6fea1a7910728a32763f3e8a4722d5491d3/third_party%2Fxla%2Fxla%2Fcodegen%2Ftiling%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Ftiling%2FBUILD?ref=a6e0e6fea1a7910728a32763f3e8a4722d5491d3",
            "patch": "@@ -306,12 +306,7 @@ cc_library(\n     hdrs = [\"tiling_specification.h\"],\n     deps = [\n         \":constraint_expression\",\n-        \":symbolic_tiled_hlo_instruction\",\n-        \":tiled_hlo_computation\",\n-        \"//xla/hlo/analysis:indexing_analysis\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/hlo/utils:hlo_traversal\",\n-        \"//xla/service:instruction_fusion\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n@@ -321,7 +316,6 @@ cc_library(\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/types:span\",\n-        \"@llvm-project//mlir:IR\",\n     ],\n )\n "
        }
    ],
    "stats": {
        "total": 147,
        "additions": 7,
        "deletions": 140
    }
}